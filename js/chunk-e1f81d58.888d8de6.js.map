{"version":3,"sources":["webpack:///./src/components/dashboard/Panel.vue?a8b5","webpack:///src/components/dashboard/Panel.vue","webpack:///./src/components/dashboard/Panel.vue?e5ca","webpack:///./src/components/dashboard/Panel.vue","webpack:///./src/utility.js","webpack:///./src/components/DateRange.vue?bf98","webpack:///src/components/DateRange.vue","webpack:///./src/components/DateRange.vue?e9fd","webpack:///./src/components/DateRange.vue","webpack:///./src/views/FTD.vue?4901","webpack:///src/views/FTD.vue","webpack:///./src/views/FTD.vue?a777","webpack:///./src/views/FTD.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","color","loading","staticClass","_v","_s","icon","_e","title","on","$event","$emit","appendIcon","count","Intl","NumberFormat","style","currency","format","amount","staticRenderFns","component","VBtn","VCard","VCardText","VCardTitle","VCol","VIcon","VRow","VSkeletonLoader","VSpacer","pad","number","length","str","money","today","Date","setHours","getFullYear","getMonth","getDate","prev7days","getTime","setDate","findColorBetween","left","right","percentage","newColor","components","i","c","Math","round","ref","scopedSlots","_u","key","fn","_g","_b","dateRangeText","clear","model","value","callback","$$v","menu","expression","input","dates","name","props","Array","data","methods","e","computed","join","created","VDatePicker","VMenu","VTextField","$route","query","created_on","split","setFilterValue","filter","userFilter","towns","totals","headers","items","goTo","proxy","item","Number","page","totalPages","AppAutoComplete","AppDateRange","AppPanel","utility","label","prependInnerIcon","hideDetails","collection","itemText","itemValue","hideAddNew","or","watch","handler","immediate","$router","push","uri","_id","user","department","sortBy","sortDesc","field","updateComponent","replace","VContainer","VDataTable","VPagination","VSelect"],"mappings":"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","file":"js/chunk-e1f81d58.888d8de6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"flat\":\"\",\"color\":_vm.color,\"dark\":\"\",\"elevation\":\"1\"}},[(!_vm.loading)?_c('v-card-title',{staticClass:\"pb-0\"},[(_vm.icon)?_c('v-icon',{staticClass:\"px-2\",attrs:{\"dark\":\"\"}},[_vm._v(_vm._s(_vm.icon))]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_c('v-spacer'),(_vm.appendIcon)?_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.$emit('click:icon')}}},[_c('v-icon',[_vm._v(_vm._s(_vm.appendIcon))])],1):_vm._e()],1):_c('v-card-title',{staticClass:\"pb-0\"},[_c('v-skeleton-loader',{attrs:{\"type\":\"heading\"}})],1),_c('v-card-text',[(!_vm.loading)?_c('v-row',[(_vm.deposit)?_c('v-col',{staticClass:\" white--text\"},[_c('small',[_vm._v(\"Deposits\")]),_c('h1',[_vm._v(_vm._s(_vm.count))])]):_vm._e(),_c('v-col',{staticClass:\" white--text\"},[_c('small',[_vm._v(\"Total\")]),_c('h1',[_vm._v(_vm._s(new Intl.NumberFormat('en-US', { style: 'currency', currency: _vm.currency, }).format(_vm.amount)))])])],1):_c('v-row',[(_vm.deposit)?_c('v-col',{staticClass:\" white--text\"},[_c('v-skeleton-loader',{attrs:{\"type\":\"heading\"}})],1):_vm._e(),_c('v-col',{staticClass:\" white--text\"},[_c('v-skeleton-loader',{attrs:{\"type\":\"heading\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<v-card flat :color=\"color\" dark elevation=\"1\">\r\n    <v-card-title class=\"pb-0\" v-if=\"!loading\">\r\n        <v-icon dark class=\"px-2\" v-if=\"icon\">{{ icon }}</v-icon>\r\n        {{ title }} \r\n        <v-spacer></v-spacer>\r\n        <v-btn icon dark v-if=\"appendIcon\" @click=\"$emit('click:icon')\"><v-icon>{{appendIcon}}</v-icon></v-btn>\r\n    </v-card-title>\r\n    <v-card-title class=\"pb-0\" v-else><v-skeleton-loader\r\n                type=\"heading\"\r\n                ></v-skeleton-loader></v-card-title>\r\n    \r\n    <v-card-text>\r\n        \r\n        <v-row v-if=\"!loading\">\r\n            <v-col class=\" white--text\" v-if=\"deposit\" >\r\n                <small>Deposits</small><h1>{{ count }}</h1>\r\n                \r\n            </v-col>\r\n            <v-col class=\" white--text\"><small>Total</small><h1>{{ new Intl.NumberFormat('en-US', { style: 'currency', currency: currency,  }).format(amount) }}</h1></v-col>\r\n            \r\n        </v-row>\r\n        <v-row v-else>\r\n            <v-col class=\" white--text\" v-if=\"deposit\" >\r\n               <v-skeleton-loader\r\n                type=\"heading\"\r\n                ></v-skeleton-loader>\r\n            </v-col>\r\n            <v-col class=\" white--text\">\r\n                <v-skeleton-loader\r\n                type=\"heading\"\r\n                ></v-skeleton-loader>\r\n            </v-col>\r\n        </v-row>\r\n    </v-card-text>\r\n</v-card>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: 'Panel',\r\n    props: {\r\n        title: {type: String, default: 'Total'},\r\n        icon: {type: String, default: 'mdi-'},\r\n        count: {type: Number, default: 0},\r\n        amount:{type: Number, default: 0},\r\n        color: {type: String, default: 'green'},\r\n        deposit: { type: Boolean, default: true},\r\n        loading: { type: Boolean, default: false },\r\n        currency: {type: String, default: 'USD'},\r\n        appendIcon: { type: String }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Panel.vue?vue&type=template&id=682ade74&\"\nimport script from \"./Panel.vue?vue&type=script&lang=js&\"\nexport * from \"./Panel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VIcon,VRow,VSkeletonLoader,VSpacer})\n","export default {\r\n\r\n    // add leading zero\r\n    pad(number, length) {\r\n        var str = '' + number;\r\n        while (str.length < length) {\r\n            str = '0' + str;\r\n        }\r\n        return str;\r\n    },\r\n\r\n    money (amount) {\r\n        return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', }).format(amount)\r\n    },\r\n    get today() {\r\n        let today = new Date();\r\n        today.setHours(0, 0, 0, 0);\r\n        return today\r\n\r\n    },\r\n    get first_day_of_the_month() {\r\n        const today = new Date()\r\n        return new Date(today.getFullYear(), today.getMonth(), 1)\r\n\r\n    },\r\n    get todayString() {\r\n        const today = this.today\r\n        const { pad } = this\r\n        return [`${today.getFullYear()}-${pad(today.getMonth() + 1, 2)}-${pad(today.getDate(), 2)}`, `${today.getFullYear()}-${pad(today.getMonth() + 1, 2)}-${pad(today.getDate(), 2)}`]\r\n    },\r\n    get last7daysString() {\r\n        const today = this.today\r\n        const prev7days = new Date(this.today.getTime())\r\n        prev7days.setDate(prev7days.getDate() - 7)\r\n        \r\n        const { pad } = this\r\n        return [`${prev7days.getFullYear()}-${pad(prev7days.getMonth() + 1, 2)}-${pad(prev7days.getDate(), 2)}`, `${today.getFullYear()}-${pad(today.getMonth() + 1, 2)}-${pad(today.getDate(), 2)}`]\r\n    },\r\n    get currentDateRange() {\r\n        const today = this.today \r\n        const { pad } = this\r\n        return [`${today.getFullYear()}-${pad(today.getMonth() + 1, 2)}-01`, `${today.getFullYear()}-${pad(today.getMonth() + 1, 2)}-${pad(today.getDate(), 2)}`]\r\n    },\r\n    findColorBetween(left, right, percentage) {\r\n        const newColor = {};\r\n        const components = [\"r\", \"g\", \"b\"];\r\n        for (var i = 0; i < components.length; i++) {\r\n            let c = components[i];\r\n            newColor[c] = Math.round(left[c] + (right[c] - left[c]) * percentage / 100);\r\n        }\r\n        return newColor\r\n    }\r\n    \r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"prependInnerIcon\":\"mdi-calendar\",\"rounded\":\"\",\"outlined\":\"\",\"dense\":\"\",\"value\":_vm.dateRangeText,\"label\":\"Date\",\"readonly\":\"\",\"hide-details\":\"\",\"clearable\":\"\"},on:{\"click:clear\":_vm.clear}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"range\":\"\"},on:{\"input\":_vm.input},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <v-menu\r\n        ref=\"menu\"\r\n        v-model=\"menu\"\r\n        :close-on-content-click=\"false\"\r\n        \r\n        transition=\"scale-transition\"\r\n        min-width=\"290px\"\r\n      >\r\n    <template v-slot:activator=\"{ on, attrs }\"> \r\n      <v-text-field prependInnerIcon=\"mdi-calendar\" rounded outlined dense  :value=\"dateRangeText\" label=\"Date\" readonly hide-details v-bind=\"attrs\" v-on=\"on\" clearable @click:clear=\"clear\"></v-text-field>\r\n    </template>\r\n   \r\n   <v-date-picker v-model=\"dates\" range @input=\"input\"></v-date-picker>\r\n   </v-menu>\r\n</template>\r\n<script>\r\n \r\n \r\nexport default {\r\n  name: 'date-picker',\r\n  props: {\r\n    value: Array,\r\n  },\r\n  data() {\r\n    \r\n    return {\r\n      menu: false,\r\n      dates:[]\r\n    }\r\n  },\r\n  methods: {\r\n    input(e ) {\r\n      if (e.length > 1) {\r\n         this.menu = false\r\n         this.$emit('input', e)\r\n      }\r\n    },\r\n    clear () {\r\n      this.dates = []\r\n      this.$emit('input', [])\r\n    }\r\n\r\n  },\r\n  computed: {\r\n    dateRangeText () {\r\n      return this.dates.join(' ~ ')\r\n    },\r\n     \r\n  },\r\n  created () {\r\n    if (this.value)\r\n      this.dates = this.value\r\n    // else\r\n    //    this.$emit('input', this.dates)\r\n  }\r\n \r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateRange.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateRange.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DateRange.vue?vue&type=template&id=b9c454e8&\"\nimport script from \"./DateRange.vue?vue&type=script&lang=js&\"\nexport * from \"./DateRange.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VDatePicker,VMenu,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"pa-0\"},[_c('v-card',{staticClass:\"my-6\"},[_c('v-card-title',[_c('v-icon',{staticClass:\"mx-2\",attrs:{\"size\":\"36\"}},[_vm._v(\"mdi-account-cash\")]),_vm._v(\"FTD \"),_c('v-spacer'),_vm._v(\" \"+_vm._s(this.$route.query.created_on.split('|').join(' ~ '))+\" \")],1),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"sm\":\"4\"}},[_c('app-auto-complete',_vm._b({ref:\"user\",attrs:{\"outlined\":\"\",\"rounded\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"value\":_vm.setFilterValue(_vm.$route.query['user._id'] || null, 'user._id')},on:{\"input\":function($event){return _vm.filter('user._id',$event)}}},'app-auto-complete',_vm.userFilter,false))],1),_c('v-col',{attrs:{\"sm\":\"4\"}},[_c('app-date-range',{attrs:{\"outlined\":\"\",\"rounded\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"value\":_vm.setFilterValue(_vm.$route.query['created_on'] || _vm.dates.join('|'), 'created_on')},on:{\"input\":function($event){return _vm.filter('created_on',$event)}}})],1),_c('v-col',{attrs:{\"sm\":\"4\"}},[_c('v-select',{attrs:{\"outlined\":\"\",\"rounded\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"items\":_vm.towns,\"value\":_vm.setFilterValue(_vm.$route.query['user.town'] || _vm.dates.join('|'), 'user.town')},on:{\"input\":function($event){return _vm.filter('user.town',$event)}}})],1)],1)],1)],1),_c('app-panel',{attrs:{\"title\":\"Total\",\"count\":_vm.totals.count,\"amount\":_vm.totals.amount}}),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"loading\":_vm.loading,\"headers\":_vm.headers,\"items\":_vm.items,\"multi-sort\":\"\",\"hide-default-footer\":\"\"},on:{\"click:row\":_vm.goTo},scopedSlots:_vm._u([{key:\"loading\",fn:function(){return [_c('v-skeleton-loader',{staticClass:\"mt-6\",attrs:{\"height\":\"94\",\"type\":\"list-item-three-line\"}})]},proxy:true},{key:\"item.amount\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', }).format(item.amount))+\" \")]}},{key:\"footer\",fn:function(){return [_c('v-pagination',{staticClass:\"pa-4\",attrs:{\"value\":Number(_vm.$route.query.page) || 1,\"length\":_vm.totalPages,\"total-visible\":20,\"circle\":\"\"},on:{\"input\":_vm.page}})]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"pa-0\">\r\n\r\n \r\n  <v-card class=\"my-6\">\r\n    <v-card-title>\r\n       <v-icon size=\"36\" class=\"mx-2\">mdi-account-cash</v-icon>FTD\r\n      <v-spacer></v-spacer>\r\n      {{ this.$route.query.created_on.split('|').join(' ~ ') }}\r\n    </v-card-title>\r\n    <v-card-text>\r\n      <v-row>\r\n        <v-col sm=\"4\">\r\n          <app-auto-complete ref=\"user\" outlined rounded dense hide-details v-bind=\"userFilter\"\r\n                          :value=\"setFilterValue($route.query['user._id'] || null, 'user._id')\"\r\n                          @input=\"filter('user._id',$event)\"\r\n          ></app-auto-complete>\r\n        </v-col>\r\n        <v-col sm=\"4\">\r\n          <app-date-range outlined rounded dense hide-details\r\n                          :value=\"setFilterValue($route.query['created_on'] || dates.join('|'), 'created_on')\"\r\n                          @input=\"filter('created_on',$event)\"\r\n          ></app-date-range>\r\n        </v-col>\r\n        <v-col sm=\"4\">\r\n          <v-select outlined rounded dense hide-details\r\n                          :items=\"towns\"\r\n                          :value=\"setFilterValue($route.query['user.town'] || dates.join('|'), 'user.town')\"\r\n                          @input=\"filter('user.town',$event)\"\r\n          ></v-select>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card-text>\r\n  </v-card>\r\n    <app-panel title=\"Total\" :count=\"totals.count\" :amount=\"totals.amount\"></app-panel>\r\n\r\n  <v-data-table   \r\n      :loading=\"loading\"\r\n      :headers=\"headers\"\r\n      :items=\"items\"\r\n      multi-sort\r\n      class=\"elevation-1\"\r\n      @click:row=\"goTo\"\r\n      hide-default-footer\r\n    >\r\n    <template v-slot:loading   >\r\n      <v-skeleton-loader\r\n          class=\"mt-6\"\r\n          height=\"94\"\r\n          type=\"list-item-three-line\"\r\n        >\r\n      </v-skeleton-loader>\r\n    </template>\r\n    <template v-slot:item.amount=\"{ item }\" >\r\n      {{  new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD',  }).format(item.amount) }}\r\n    </template>\r\n    <template v-slot:footer>\r\n          <!-- :value=\"Number($route.query.page) || 1\" -->\r\n         <v-pagination\r\n           class=\"pa-4\" \r\n          :value=\"Number($route.query.page) || 1\"\r\n          @input=\"page\"\r\n          :length=\"totalPages\"\r\n          :total-visible=\"20\"\r\n          circle\r\n        ></v-pagination>\r\n      </template>\r\n  </v-data-table> \r\n    \r\n  </v-container>\r\n</template>\r\n<script>\r\nimport AppAutoComplete from './../components/Autocomplete'\r\nimport AppDateRange from '../components/DateRange'\r\nimport AppPanel from '../components/dashboard/Panel'\r\nimport utility from './../utility'\r\n \r\nimport { mapActions } from 'vuex'\r\nimport $ from 'jquery'\r\nimport debounce from 'debounce'\r\n\r\nexport default {\r\n  components: {\r\n    AppAutoComplete,\r\n    AppDateRange,\r\n    AppPanel\r\n  },\r\n  data () {\r\n    return {\r\n      towns: [\r\n        { text: 'All', value: null },\r\n        { text: 'Haifa', value: 'Haifa' },\r\n        { text: 'Nabless', value: 'Nabless' },\r\n      ],\r\n      loading: false,\r\n      dates: utility.currentDateRange,\r\n      userFilter: {\r\n        label: \"Owner\",\r\n        prependInnerIcon: \"mdi-account\",\r\n        hideDetails: true,\r\n        collection: 'user',\r\n        itemText: \"displayName\",\r\n        itemValue: \"_id\",\r\n        hideAddNew: true,\r\n        or: false,\r\n        query: {\r\n            role: ['!wakel', '!affiliate']\r\n        }\r\n      },\r\n      headers: [{\r\n            text: 'Owner',\r\n            align: 'start',\r\n            sortable: false,\r\n            value: 'user.displayName',\r\n        },\r\n        {\r\n            text: 'Town',\r\n            sortable: false,\r\n            value: 'user.town',\r\n        },\r\n        { text: 'Deposits',  sortable: false, value: 'count' },\r\n        { text: 'Amount',  sortable: false, value: 'amount' }],\r\n      items: [],\r\n      totalPages: 0,\r\n      totals: {\r\n        count: 0,\r\n        amount: 0\r\n      }\r\n    }\r\n  },\r\n  watch :{\r\n    '$route': {\r\n      handler: 'updateComponent',\r\n      immediate:true\r\n    } \r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      get: 'api/get'\r\n    }),\r\n     async fetchData() {\r\n       \r\n     \r\n      this.items = []\r\n      this.loading = true\r\n      const ftd = await this.get({ collection: 'department', query: { type: 'ftd'} })\r\n      const ftd_id = ftd.data.docs[0]._id \r\n      this.$refs.user.query.department=ftd_id\r\n      const result = await this.get({ collection: 'ftd' + window.location.search, query: { department: ftd_id, limit: 10  } })\r\n      const total = await this.get({ collection: 'ftd/total' + window.location.search, query: { department: ftd_id, limit: 10  } })\r\n        console.log(result);\r\n  \r\n      if (total && total.status == 200 && total.data[0]) {\r\n         \r\n        this.totals.count = total.data[0].count\r\n        this.totals.amount = total.data[0].amount\r\n      } else {\r\n        this.totals.count = 0\r\n        this.totals.amount = 0\r\n      }\r\n      \r\n      if (result && result.status == 200) {\r\n        this.items = result.data.docs\r\n        this.totalPages = result.data.totalPages\r\n      }\r\n  \r\n      this.loading = false\r\n    },\r\n    page (page) {\r\n      const  query  = Object.assign({},this.$route.query) // copy the query object to avoid routing to the same route error\r\n      query.page = page\r\n      const uri =  '/ftd?' + $.param(query)\r\n      this.$router.push(uri)\r\n      // this.options.page = page\r\n    },\r\n    goTo (item) {\r\n      const created_on = this.$route.query.created_on\r\n      const query = {\r\n        'user': item._id, \r\n        'department': item.user.department, \r\n        'created_on': created_on, \r\n        sortBy: ['created_on'],\r\n        sortDesc: [false]\r\n      }\r\n      \r\n      this.$router.push('/deposit?' + $.param(query))\r\n    },\r\n \r\n    setFilterValue (value, field) {\r\n      if (field == 'created_on' && value)\r\n        value = value.split('|')\r\n\r\n      return value\r\n    },\r\n    filter: debounce(function (field, value) {\r\n        \r\n        if (field == 'created_on' && Array.isArray(value))\r\n          value = value.join('|')\r\n\r\n\r\n        // filter the owner autocomplet by town\r\n        if (field == 'user.town') {\r\n          if (value)\r\n            this.userFilter.query.town = value\r\n          else \r\n            delete this.userFilter.query.town\r\n        } \r\n \r\n        const query = Object.assign({},this.$route.query) // copy the query object to avoid routing to the same route error\r\n        if (!value && query[field])\r\n          delete query[field]\r\n        else\r\n          query[field] = value\r\n        \r\n        query.page = 1\r\n  \r\n        const uri =  '/ftd?' + $.param(query)\r\n  \r\n        this.$router.replace(uri) \r\n\r\n       \r\n    \r\n         \r\n      \r\n    }, 500),\r\n    updateComponent () {\r\n      if (this.$route.query['created_on'])\r\n        this.fetchData()\r\n      else {\r\n         const uri =  '/ftd?' + $.param({\r\n           created_on: this.dates.join('|')\r\n         })\r\n  \r\n        this.$router.replace(uri) \r\n      }\r\n    }\r\n  } \r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FTD.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FTD.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FTD.vue?vue&type=template&id=6a86f49a&\"\nimport script from \"./FTD.vue?vue&type=script&lang=js&\"\nexport * from \"./FTD.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VPagination } from 'vuetify/lib/components/VPagination';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCardText,VCardTitle,VCol,VContainer,VDataTable,VIcon,VPagination,VRow,VSelect,VSkeletonLoader,VSpacer})\n"],"sourceRoot":""}