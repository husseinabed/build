{"version":3,"sources":["webpack:///./src/components/Password.vue?9920","webpack:///src/components/Password.vue","webpack:///./src/components/Password.vue?8f3b","webpack:///./src/components/Password.vue","webpack:///./src/views/Items.vue?8b61","webpack:///./src/components/ItemsHeader.vue?b88f","webpack:///src/components/ItemsHeader.vue","webpack:///./src/components/ItemsHeader.vue?e0ee","webpack:///./src/components/ItemsHeader.vue","webpack:///src/views/Items.vue","webpack:///./src/views/Items.vue?3464","webpack:///./src/views/Items.vue","webpack:///./src/components/Item.vue?a70f","webpack:///./src/views/Items.vue?d781","webpack:///./node_modules/debounce/index.js","webpack:///./src/components/Autocomplete.vue?b855","webpack:///./src/components/Item.vue?d93a","webpack:///src/components/Item.vue","webpack:///./src/components/Item.vue?3e97","webpack:///./src/components/Item.vue","webpack:///src/components/Autocomplete.vue","webpack:///./src/components/Autocomplete.vue?7151","webpack:///./src/components/Autocomplete.vue","webpack:///./src/components/Rights.vue?ff99","webpack:///src/components/Rights.vue","webpack:///./src/components/Rights.vue?32f3","webpack:///./src/components/Rights.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_b","attrs","value","show","on","$event","$emit","$attrs","staticRenderFns","name","props","String","data","component","VTextField","readAccess","staticClass","icon","collection","title","writeAccess","hasFilters","options","query","_e","loading","headers","items","limit","sortBy","sortDesc","scopedSlots","_u","key","fn","ref","item","_v","_s","Intl","DateTimeFormat","format","Date","created_on","payment_method","type","NumberFormat","style","currency","amount","active","read","length","map","a","reduce","b","cloneItem","editItem","deleteItem","totalPages","model","callback","$$v","$set","expression","page","$router","push","$route","params","class","openPanel","filtersHasValues","_l","field","ind","inputs","input","_g","tag","bind","Boolean","Object","watch","handler","deep","computed","values","filter","methods","emitPreparedData","keys","forEach","generateDataInputs","filters","created","VBtn","VCol","VIcon","VSpacer","VToolbar","components","ItemsHeader","VBadge","VCard","VCardText","VDataTable","VPagination","VSelect","debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","now","setTimeout","apply","debounced","arguments","callNow","clear","clearTimeout","flush","module","exports","staticStyle","search","dataItems","emit","hideAddNew","addNew","proxy","dialog","newSave","validate","tabs","tab","index","refInFor","VCardTitle","VForm","VRow","VTab","VTabItem","VTabs","VTabsItems","VToolbarItems","VToolbarTitle","AppItem","val","itemValue","VAutocomplete","VDialog","VListItem","VListItemContent","VList","VListItemTitle","label","handelReadRight","VDivider","VSwitch"],"mappings":"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","file":"js/chunk-0eddb0ec.5606879c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-text-field',_vm._b({attrs:{\"value\":_vm.value,\"autocomplete\":\"current-password\",\"append-icon\":_vm.show ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.show ? 'text' : 'password',\"counter\":\"\"},on:{\"input\":function($event){return _vm.$emit('input', $event)},\"click:append\":function($event){_vm.show = !_vm.show}}},'v-text-field',_vm.$attrs,false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<v-text-field\r\nv-bind=\"$attrs\"\r\n  :value=\"value\"\r\n  @input=\"$emit('input', $event)\"\r\n  autocomplete=\"current-password\"\r\n  :append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\"\r\n  :type=\"show ? 'text' : 'password'\"\r\n  counter\r\n  @click:append=\"show = !show\"\r\n></v-text-field>\r\n</template>\r\n<script>\r\n \r\n\r\nexport default {\r\n  name: 'password',\r\n  props: {\r\n    value: String,\r\n  },\r\n  data () {\r\n    return {\r\n      show: false\r\n    }\r\n  },\r\n\r\n \r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Password.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Password.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Password.vue?vue&type=template&id=198d7066&\"\nimport script from \"./Password.vue?vue&type=script&lang=js&\"\nexport * from \"./Password.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-col',[(!_vm.readAccess)?_c('v-col',[_c('v-card',{attrs:{\"width\":\"100%\"}},[_c('v-card-text',{staticClass:\"text-center pa-12\"},[_c('v-icon',{attrs:{\"size\":\"70\"}},[_vm._v(\"mdi-lock\")]),_c('h2',[_vm._v(\"Access Denied\")]),_c('p',[_vm._v(\" you dont have the right to view this content \")])],1)],1)],1):_c('v-col',{staticClass:\"pa-0 ma-0\"},[(_vm.found)?_c('items-header',{attrs:{\"icon\":this.icon,\"collection\":_vm.collection,\"title\":_vm.title,\"writeAccess\":_vm.writeAccess,\"has-filters\":_vm.hasFilters},on:{\"query\":function($event){_vm.options.query = $event}}}):_vm._e(),(_vm.found)?_c('v-data-table',{staticClass:\"my-5 elevation-1\",attrs:{\"loading\":_vm.loading,\"headers\":_vm.headers,\"items\":_vm.items,\"items-per-page\":_vm.options.limit,\"hide-default-footer\":\"\",\"multi-sort\":\"\"},on:{\"update:sort-by\":_vm.sortBy,\"update:sort-desc\":_vm.sortDesc},scopedSlots:_vm._u([{key:\"item.created_on\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(new Intl.DateTimeFormat().format(new Date(item.created_on)))+\" \")]}},(_vm.hasAmount)?{key:\"item.payment_method\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(item.payment_method.name)+\" (\"+_vm._s(item.payment_method.type)+\") \")]}}:null,(_vm.hasAmount)?{key:\"item.amount\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', }).format(item.amount))+\" \")]}}:null,{key:\"item.active\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-badge',{attrs:{\"color\":item.active ? 'green' : 'grey'}})]}},{key:\"item.read\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-badge',{attrs:{\"color\":item.read ? 'green' : 'grey'}})]}},(_vm.hasAmount)?{key:\"body.append\",fn:function(data){return [_c('tr',[_c('td',{staticClass:\"font-weight-bold\"},[_vm._v(\"Total Amount\")]),_c('td'),_c('td',{staticClass:\"font-weight-bold\"},[_vm._v(\" \"+_vm._s(new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', }) .format(data.items.length ? data.items.map(function (a) { return a.amount; } ) .reduce(function (a,b) { return a + b; }) : 0))+\" \")]),_c('td',{attrs:{\"colspan\":\"5\"}})])]}}:null,{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [(_vm.readAccess)?_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.cloneItem(item)}}},[_vm._v(\" mdi-content-copy \")]):_vm._e(),(_vm.updateAccess)?_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]):_vm._e(),(_vm.deleteAccess)?_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")]):_vm._e()]}}],null,true)}):_c('v-not-found'),(_vm.found)?_c('v-toolbar',{attrs:{\"short\":\"\",\"elevation\":\"1\"}},[_c('v-pagination',{staticClass:\"my-4\",attrs:{\"length\":_vm.totalPages},model:{value:(_vm.options.page),callback:function ($$v) {_vm.$set(_vm.options, \"page\", $$v)},expression:\"options.page\"}}),_c('v-spacer'),_c('v-select',{attrs:{\"label\":\"Limit\",\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"items\":[10, 20, 50]},on:{\"input\":function($event){_vm.options.page = 1}},model:{value:(_vm.options.limit),callback:function ($$v) {_vm.$set(_vm.options, \"limit\", $$v)},expression:\"options.limit\"}})],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{attrs:{\"elevation\":\"1\"}},[_c('h2',{staticClass:\"mb-3\"},[_c('v-icon',{attrs:{\"size\":\"30\"}},[_vm._v(\" \"+_vm._s(this.icon)+\" \")]),_vm._v(\" \"+_vm._s(this.title))],1),_c('v-spacer'),(_vm.writeAccess)?_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.$router.push('/'+_vm.$route.params.collection+'/new')}}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\" New \")],1):_vm._e(),(_vm.hasFilters)?_c('v-btn',{staticClass:\"ml-3\",class:{\n      'grey ': _vm.openPanel,\n      'white--text':_vm.openPanel,\n      'blue--text': _vm.filtersHasValues\n      },attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.openPanel = !_vm.openPanel}}},[_c('v-icon',[_vm._v(\"mdi-filter\")])],1):_vm._e()],1),(_vm.openPanel && _vm.hasFilters)?_c('v-toolbar',{staticClass:\"py-4\",attrs:{\"elevation\":\"1\",\"height\":\"70\"}},_vm._l((_vm.collection.filters),function(field,ind){return _c('v-col',{key:ind},[_c(_vm.inputs[field.input],_vm._g(_vm._b({tag:\"component\",model:{value:(_vm.data[field.name].value),callback:function ($$v) {_vm.$set(_vm.data[field.name], \"value\", $$v)},expression:\"data[field.name].value\"}},'component',field.bind,false),field.on))],1)}),1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n  \r\n    <v-toolbar   elevation=\"1\">\r\n  \r\n    <h2 class=\"mb-3\" > <v-icon size=\"30\"  > {{ this.icon }} </v-icon> {{ this.title }}</h2>\r\n      <v-spacer></v-spacer>\r\n    \r\n      <v-btn v-if=\"writeAccess\" color=\"success\" @click=\"$router.push('/'+$route.params.collection+'/new')\">\r\n        <v-icon>mdi-plus</v-icon>\r\n        New\r\n      </v-btn>\r\n      <v-btn v-if=\"hasFilters\" icon class=\"ml-3\" @click=\"openPanel = !openPanel\" :class=\"{\r\n        'grey ': openPanel,\r\n        'white--text':openPanel,\r\n        'blue--text': filtersHasValues\r\n        }\">\r\n        <v-icon>mdi-filter</v-icon>\r\n      </v-btn>  \r\n    </v-toolbar>\r\n     \r\n    <v-toolbar   elevation=\"1\" v-if=\"openPanel && hasFilters\" class=\"py-4\" height=\"70\">\r\n        <v-col v-for=\"(field, ind) in collection.filters\" :key=\"ind\"   >\r\n          <component \r\n            :is=\"inputs[field.input]\" \r\n            v-bind=\"field.bind\"\r\n            v-on=\"field.on\"\r\n            v-model=\"data[field.name].value\" \r\n        />\r\n        </v-col>\r\n      </v-toolbar>\r\n  </div>\r\n</template>\r\n<script>\r\n// import debounce from 'debounce'\r\n\r\n \r\n import   {\r\n  VTextField,\r\n  VSelect,\r\n  VSwitch,\r\n  \r\n} from 'vuetify/lib'\r\n \r\nimport AppAutoComplete from './../components/Autocomplete'\r\nimport AppDatePicker from './../components/DatePicker'\r\n \r\nexport default {\r\n  name: 'ItemsHeader',\r\n  props: {\r\n    writeAccess: Boolean,\r\n    hasFilters: Boolean,\r\n    collection: Object,\r\n    icon: String,\r\n    title: String\r\n  },\r\n  data() {\r\n    return {\r\n     openPanel:false,\r\n     data: {},\r\n      inputs: {\r\n          text: VTextField,\r\n          select: VSelect,\r\n          switch: VSwitch,\r\n          date: AppDatePicker,\r\n          autocomplete: AppAutoComplete,\r\n        }\r\n    }\r\n  },\r\n  watch: {\r\n    data:{\r\n      handler: 'emitPreparedData',\r\n      deep: true\r\n    } \r\n  },\r\n  computed: {\r\n    filtersHasValues () {\r\n      return Object.values(this.data).filter(e => Boolean(e.value)).length\r\n    }\r\n  },\r\n  methods: {\r\n    emitPreparedData () {\r\n      const data = {}\r\n      Object.keys(this.data).forEach(f => {\r\n      if(this.data[f].value)\r\n        data[f] = this.data[f];\r\n\r\n      })\r\n      this.$emit('query', data);\r\n    },\r\n    generateDataInputs () {\r\n      const data = {}\r\n      this.collection.filters.forEach(field => {\r\n          data[field.name] = { type: field.input, value:''}\r\n      })\r\n      this.data = data\r\n     } \r\n  },\r\n  created () {\r\n    this.generateDataInputs()\r\n  } \r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemsHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemsHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemsHeader.vue?vue&type=template&id=74462cd4&\"\nimport script from \"./ItemsHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemsHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCol,VIcon,VSpacer,VToolbar})\n","\r\n\r\n<template>\r\n  <v-col>\r\n    <v-col v-if=\"!readAccess\">\r\n      <v-card width=\"100%\">\r\n         \r\n        <v-card-text class=\"text-center pa-12\">\r\n            <v-icon size=\"70\">mdi-lock</v-icon>  \r\n          <h2  >Access Denied</h2>\r\n          <p>\r\n            you dont have the right to view this content\r\n          </p>\r\n\r\n        </v-card-text>\r\n      \r\n      </v-card>\r\n    </v-col>\r\n    <v-col class=\"pa-0 ma-0\" v-else>\r\n \r\n      <items-header \r\n      :icon=\"this.icon\" \r\n      :collection=\"collection\"\r\n      :title=\"title\" \r\n      :writeAccess=\"writeAccess\"\r\n      :has-filters=\"hasFilters\"\r\n      @query=\"options.query = $event\"\r\n      v-if=\"found\"\r\n      ></items-header>\r\n\r\n\r\n     \r\n      \r\n    \r\n      <v-data-table v-if=\"found\"\r\n        :loading=\"loading\"\r\n        class=\"my-5 elevation-1\"\r\n        :headers=\"headers\"\r\n        :items=\"items\"\r\n        :items-per-page=\"options.limit\"\r\n        @update:sort-by=\"sortBy\"\r\n        @update:sort-desc=\"sortDesc\"\r\n        hide-default-footer\r\n        multi-sort\r\n     \r\n      >\r\n      \r\n      <template v-slot:item.created_on=\"{ item }\" v-if=\"hasAmount\">\r\n        {{ item.created_on.split('T')[0] }} \r\n      </template>\r\n      <template v-slot:item.payment_method=\"{ item }\" v-if=\"hasAmount\">\r\n          \r\n        {{ item.payment_method.name  }}  ({{ item.payment_method.type }})\r\n      </template>\r\n      <template v-slot:item.amount=\"{ item }\" v-if=\"hasAmount\">\r\n        {{  new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD',  }).format(item.amount) }}\r\n      </template>\r\n      <template v-slot:item.active=\"{ item }\" class=\"center-text text-center\"  >\r\n      <v-badge :color=\"item.active ? 'green' : 'grey'\"></v-badge>  \r\n      </template>\r\n      <template v-slot:item.read=\"{ item }\" class=\"center-text text-center\"  >\r\n      <v-badge :color=\"item.read ? 'green' : 'grey'\"></v-badge>  \r\n      </template>\r\n      <template v-slot:item.created_on=\"{ item }\"  >\r\n        {{ new Intl.DateTimeFormat().format(new Date(item.created_on)) }}\r\n      </template>\r\n      <template v-slot:body.append=\"data\" v-if=\"hasAmount\">\r\n          <tr>\r\n            <td class=\"font-weight-bold\">Total Amount</td>\r\n            <td></td>\r\n            <td class=\"font-weight-bold\" >\r\n              {{ \r\n                new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD',  })\r\n                .format(data.items.length ? data.items.map((a) => a.amount )\r\n                .reduce((a,b) => a + b) : 0)\r\n              }}\r\n            </td>\r\n            <td colspan=\"5\"></td>\r\n          </tr>\r\n      </template>\r\n      <template v-slot:item.actions=\"{ item }\">\r\n        <v-icon\r\n          small\r\n          v-if=\"readAccess\"\r\n          class=\"mr-2\"\r\n          @click=\"cloneItem(item)\"\r\n        >\r\n          mdi-content-copy\r\n        </v-icon>\r\n        <v-icon\r\n          small\r\n          v-if=\"updateAccess\"\r\n          class=\"mr-2\"\r\n          @click=\"editItem(item)\"\r\n        >\r\n          mdi-pencil\r\n        </v-icon>\r\n        <v-icon\r\n          small\r\n          v-if=\"deleteAccess\"\r\n          @click=\"deleteItem(item)\"\r\n        >\r\n          mdi-delete\r\n        </v-icon>\r\n      </template>\r\n      </v-data-table>\r\n      <v-not-found v-else />\r\n      <v-toolbar  short  elevation=\"1\" v-if=\"found\">\r\n        <v-pagination\r\n          class=\"my-4\"\r\n          v-model=\"options.page\"\r\n    \r\n          :length=\"totalPages\"\r\n          \r\n        ></v-pagination>\r\n        <v-spacer></v-spacer>\r\n        <v-select\r\n          label=\"Limit\"\r\n          dense\r\n          outlined\r\n          hide-details\r\n          v-model=\"options.limit\"\r\n          @input=\"options.page = 1\"\r\n          :items=\"[10, 20, 50]\"\r\n        >\r\n        </v-select>\r\n      </v-toolbar>\r\n    </v-col>\r\n    \r\n  </v-col>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {mapActions } from 'vuex'\r\n \r\nimport ItemsHeader from './../components/ItemsHeader'\r\n \r\nimport collections from '../collections'\r\nexport default {\r\n  components: {\r\n    ItemsHeader\r\n  },\r\n    data () {\r\n\r\n      return {\r\n        options: {\r\n          query: {},\r\n          sortBy: [],\r\n          sortDesc:[],\r\n          page: 1,\r\n          limit: 10,\r\n          \r\n        },\r\n        totalPages: 1,\r\n        collection: null,\r\n        filterOn: false,\r\n \r\n        loading: false,\r\n        title: '',\r\n        icon: '',\r\n        found: true,\r\n        headers: [],\r\n        items: [],\r\n     \r\n       \r\n      }\r\n    },\r\n    computed:{\r\n\r\n      hasFilters () {\r\n        if(this.collection)\r\n          return this.collection.filters && this.collection.filters.length > -1\r\n        return false\r\n      },\r\n      filters () {\r\n        return this.hasFilters ? this.collection.filters : []\r\n      },\r\n      access () {\r\n        if (this.$store.state.auth.user.rights) {\r\n          return this.$store.state.auth.user.rights.filter(e => {\r\n              return e.value == this.$route.params.collection  \r\n          })\r\n        } \r\n        return []\r\n      },\r\n      writeAccess () {\r\n      \r\n        if (this.access.length > 0)\r\n          return this.access[0].write\r\n\r\n        return false \r\n      },\r\n      readAccess () {\r\n         if (this.access.length > 0)\r\n          return this.access[0].read\r\n\r\n        return false \r\n      },\r\n      updateAccess () {\r\n      \r\n        if (this.access.length > 0)\r\n          return this.access[0].update\r\n\r\n        return false \r\n      },\r\n      deleteAccess () {\r\n         if (this.access.length > 0)\r\n          return this.access[0].delete\r\n\r\n        return false \r\n      },\r\n      hasAmount () {\r\n        const arr = ['sales', 'retention']\r\n        return arr.indexOf(this.$route.params.collection) !== -1\r\n      } \r\n    },\r\n    watch: {\r\n      $route:{\r\n        handler: 'updateComponent',\r\n        immediate: true\r\n      },\r\n      options: {\r\n        handler: 'fetch',\r\n        immediate: true,\r\n        deep: true\r\n      } \r\n    },\r\n    methods: {\r\n      sortBy (f) {\r\n         this.options.sortBy = f\r\n      },\r\n      sortDesc(v) {\r\n        this.options.sortDesc = v.map(e => e ? -1 : 1) \r\n\r\n      },\r\n      ...mapActions({\r\n        get: 'api/get',\r\n        remove: 'api/remove'\r\n      }),\r\n      async fetch () {\r\n        console.log('Fetching');\r\n        this.loading = true\r\n        const res = await this.get({ collection: this.$route.params.collection, query: this.options}) \r\n \r\n        if (res && res.status === 200) {\r\n          this.items = res.data.docs\r\n          this.totalPages = res.data.totalPages\r\n        }\r\n        this.loading = false\r\n      },\r\n      editItem (e) {\r\n        this.$router.push('/'+this.$route.params.collection+'/'+e._id)\r\n      },\r\n      cloneItem (item) {\r\n        this.$router.push('/'+this.$route.params.collection+'/new?clone=' + item._id)\r\n      },\r\n      async deleteItem (e) {\r\n        const res = await this.$confirm('Are you sure do you want to delete this item ?', { title: 'Warning' })\r\n        if (res) {\r\n            this.loading = true\r\n            const rm = await this.remove( { collection: this.$route.params.collection, id: e._id  } ) \r\n            if (rm.status === 200) {\r\n\r\n              this.fetch()\r\n              this.loading = false\r\n              this.$store.commit('success', 'Item deleted successfuly')\r\n            }\r\n\r\n\r\n        }\r\n      },\r\n      async updateComponent () {\r\n        const   collection   = collections.get(this.$route.params.collection)\r\n        this.collection = collection\r\n        if (collection) {\r\n          this.title = collection.title\r\n          this.icon = collection.icon\r\n          this.headers = collection.table\r\n        } else {\r\n          this.found = false\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n</script>\r\n<style scoped>\r\n.v-pagination {\r\n  justify-content: left;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Items.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Items.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Items.vue?vue&type=template&id=0cd1970f&scoped=true&\"\nimport script from \"./Items.vue?vue&type=script&lang=js&\"\nexport * from \"./Items.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Items.vue?vue&type=style&index=0&id=0cd1970f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cd1970f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VPagination } from 'vuetify/lib/components/VPagination';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBadge,VCard,VCardText,VCol,VDataTable,VIcon,VPagination,VSelect,VSpacer,VToolbar})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Items.vue?vue&type=style&index=0&id=0cd1970f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Items.vue?vue&type=style&index=0&id=0cd1970f&scoped=true&lang=css&\"","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"}},[_c('v-autocomplete',_vm._b({attrs:{\"value\":_vm.value,\"search-input\":_vm.search,\"items\":_vm.dataItems,\"loading\":_vm.loading,\"clearable\":\"\",\"return-object\":\"\"},on:{\"update:searchInput\":function($event){_vm.search=$event},\"update:search-input\":function($event){_vm.search=$event},\"input\":_vm.emit},scopedSlots:_vm._u([(!_vm.hideAddNew && _vm.writeAccess)?{key:\"prepend-item\",fn:function(){return [_c('v-list-item',{on:{\"click\":_vm.addNew}},[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"green--text\"},[_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-plus\")]),_vm._v(\" Add New\")],1)],1)],1)]},proxy:true}:null],null,true)},'v-autocomplete',_vm.$attrs,false)),_c('v-dialog',{attrs:{\"fullscreen\":\"\",\"hide-overlay\":\"\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('app-item',{attrs:{\"collection-name\":_vm.collection},on:{\"close\":function($event){_vm.dialog = false},\"save\":_vm.newSave}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-col',{staticClass:\"pa-0\"},[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1),_c('v-toolbar-title',[_vm._v(_vm._s(_vm.title))]),_c('v-spacer'),(_vm.writeAccess)?_c('v-toolbar-items',[_c('v-btn',{attrs:{\"dark\":\"\",\"text\":\"\"},on:{\"click\":_vm.validate}},[_vm._v(\"Save\")])],1):_vm._e()],1),(_vm.found)?_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-title',[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('v-card-text',[(_vm.tabs.length > 1)?_c('v-tabs',{attrs:{\"center-active\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.tabs),function(tab,index){return _c('v-tab',{key:index},[_vm._v(\" \"+_vm._s(tab)+\" \")])}),1):_vm._e(),_c('v-form',{ref:\"form\"},[(!_vm.loading)?_c('v-tabs-items',{attrs:{\"center-active\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.tabs),function(tab,index){return _c('v-tab-item',{key:index,staticClass:\"px-5\"},_vm._l((_vm.fields),function(field,ind){return _c('v-row',{key:ind},[_c(_vm.inputs[field.input],_vm._g(_vm._b({ref:(\"\" + (_vm.$route.params.collection + '_' + field.name)),refInFor:true,tag:\"component\",model:{value:(_vm.data[field.name]),callback:function ($$v) {_vm.$set(_vm.data, field.name, $$v)},expression:\"data[field.name]\"}},'component',field.bind,false),field.on))],1)}),1)}),1):_vm._e()],1)],1)],1):_c('v-not-found')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<v-col  class=\"pa-0\">\r\n \r\n \r\n\r\n  <v-toolbar dark color=\"primary\">\r\n    <v-btn icon dark @click=\"$emit('close')\">\r\n      <v-icon>mdi-close</v-icon>\r\n    </v-btn>\r\n    <v-toolbar-title>{{title}}</v-toolbar-title>\r\n    <v-spacer></v-spacer>\r\n    <v-toolbar-items v-if=\"writeAccess\">\r\n      <v-btn dark text @click=\"validate\">Save</v-btn>\r\n    </v-toolbar-items>\r\n  </v-toolbar>\r\n  <v-card v-if=\"found\" flat  >\r\n\r\n  <v-card-title> {{ title }} </v-card-title>\r\n  <v-card-text  >\r\n  \r\n \r\n  <!-- {{ data }} -->\r\n\r\n    <v-tabs v-model=\"tab\" v-if=\"tabs.length > 1\"\r\n     center-active\r\n     >\r\n      <v-tab v-for=\" (tab, index)  in tabs\" :key=\"index\">\r\n        {{tab}}  \r\n      </v-tab>\r\n    </v-tabs>\r\n    <v-form ref=\"form\">\r\n    <v-tabs-items v-model=\"tab\"  \r\n     center-active\r\n      v-if=\"!loading\"\r\n     >\r\n      <v-tab-item v-for=\" (tab, index)  in tabs\" :key=\"index\" class=\"px-5\">\r\n \r\n      <v-row v-for=\"(field, ind) in fields\" :key=\"ind\"   >\r\n        <component \r\n          :is=\"inputs[field.input]\" \r\n          v-bind=\"field.bind\"\r\n          v-on=\"field.on\"\r\n          v-model=\"data[field.name]\" \r\n          :ref=\"`${$route.params.collection + '_' + field.name}`\" />\r\n      </v-row>\r\n\r\n      </v-tab-item>\r\n    </v-tabs-items> \r\n    </v-form>\r\n\r\n  </v-card-text>\r\n \r\n\r\n\r\n  </v-card >\r\n  \r\n  <v-not-found v-else/>\r\n\r\n</v-col>\r\n</template>\r\n\r\n<script>\r\nimport   {\r\n  VTextField,\r\n  VSelect,\r\n  VSwitch,\r\n  \r\n} from 'vuetify/lib'\r\n\r\nimport AppAutoComplete from './../components/Autocomplete'\r\nimport AppPassword from './../components/Password'\r\nimport AppDatePicker from './../components/DatePicker'\r\nimport Rights from './../components/Rights'\r\n\r\nimport { mapActions } from 'vuex'\r\n \r\nimport collections from './../collections'\r\n export default {\r\n   name: 'AppItem',\r\n   props: {\r\n     collectionName: String\r\n   },\r\n   data () {\r\n     return {\r\n       loading: false,\r\n       collection: null,\r\n       tab: 0,\r\n       form: null,\r\n       found: true,\r\n       title: '',\r\n       data: {},\r\n       inputs: {\r\n         text: VTextField,\r\n         select: VSelect,\r\n         switch: VSwitch,\r\n         date: AppDatePicker,\r\n         autocomplete: AppAutoComplete,\r\n         password: AppPassword,\r\n         rights: Rights\r\n       }\r\n     }\r\n   },\r\n   computed: {\r\n     tabs () {\r\n       return this.form ? this.form.map(e => e.label) : []\r\n     },\r\n     fields () {\r\n       return this.form ? this.form[this.tab].fields : []\r\n     },\r\n     access () {\r\n        if (this.$store.state.auth.user.rights) {\r\n          return this.$store.state.auth.user.rights.filter(e => {\r\n              return e.value == this.collection  \r\n          })\r\n        } \r\n        return []\r\n      },\r\n      writeAccess () {\r\n      \r\n        if (this.access.length > 0)\r\n          return this.access[0].write\r\n\r\n        return false \r\n      },\r\n    \r\n   },\r\n   methods: {\r\n     ...mapActions({\r\n       save: 'api/save',\r\n       success: 'success'\r\n     }),\r\n     \r\n     generateDataInputs (collection, values) {\r\n       const data = {}\r\n       const menu = {}\r\n       collection.forEach(e => {\r\n          e.fields.forEach(field => {\r\n             \r\n           if (field.name == 'password') return data[field.name] = ''\r\n             \r\n           if (field.input == 'date') { \r\n             if (values[field.name]) {\r\n               values[field.name] =  values[field.name].split('T')[0] \r\n             }\r\n           }\r\n            data[field.name] = values[field.name] ? values[field.name] : (field.default || '')\r\n            // set for datepicker menu\r\n            if (field.input == 'date') {\r\n              menu[field.name] = false\r\n            }\r\n          })\r\n       })\r\n       \r\n       this.data = data\r\n       this.menu = menu\r\n     },\r\n     async validate () {\r\n        const { data,  collection, title} = this\r\n        if(this.$refs.form.validate()){\r\n \r\n          const res =  await this.save({ collection, data }) \r\n    console.log(res);\r\n          if (res) {\r\n            await this.$store.commit('success', title  + ' saved successfuly')\r\n              this.$emit('save', res.data);\r\n          }\r\n        \r\n         \r\n        } else {\r\n          this.$store.commit('error', 'form not valid')\r\n        }\r\n         \r\n      } \r\n       \r\n   },\r\n   mounted () {\r\n     // access from tables.js\r\n      window.$form = this \r\n   },\r\n   destroyed () {\r\n     window.$form = null\r\n   },\r\n   async created () {\r\n      \r\n    const collection = collections.get(this.collectionName)\r\n    this.collection = this.collectionName\r\n    if (collection) {\r\n      this.title = collection.title\r\n      this.form = collection.form\r\n      let data = {}\r\n      this.generateDataInputs(this.form, data)\r\n    } else \r\n      this.found = false\r\n   }\r\n\r\n }\r\n</script>\r\n<style >\r\n.bottom-toolbar {\r\n  position: absolute !important;\r\n  bottom: 0;\r\n  left: 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Item.vue?vue&type=template&id=0a8c8bd8&\"\nimport script from \"./Item.vue?vue&type=script&lang=js&\"\nexport * from \"./Item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Item.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VForm,VIcon,VRow,VSpacer,VTab,VTabItem,VTabs,VTabsItems,VToolbar,VToolbarItems,VToolbarTitle})\n","<template>\r\n  <div style=\"width: 100%\">\r\n  <v-autocomplete \r\n  v-bind=\"$attrs\" \r\n  :value=\"value\"\r\n  :search-input.sync=\"search\"\r\n  @input=\"emit\"\r\n  :items=\"dataItems\"\r\n  :loading=\"loading\"\r\n   \r\n  clearable\r\n  return-object\r\n  >\r\n   <template v-slot:prepend-item v-if=\"!hideAddNew && writeAccess\">\r\n       <v-list-item @click=\"addNew\">\r\n           \r\n          <v-list-item-content>\r\n            <v-list-item-title class=\"green--text\"><v-icon color=\"green\" >mdi-plus</v-icon> Add New</v-list-item-title>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n    </template>\r\n  </v-autocomplete>\r\n\r\n\r\n  <v-dialog v-model=\"dialog\" fullscreen hide-overlay transition=\"dialog-bottom-transition\">\r\n    \r\n      <v-card>\r\n        \r\n        <app-item :collection-name=\"collection\" @close=\"dialog = false\" @save=\"newSave\"/>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport debounce from 'debounce'\r\nimport { mapActions } from 'vuex'\r\n\r\nimport AppItem from './Item'\r\nexport default {\r\n  name: 'autocomplete',\r\n  components:{\r\n    AppItem\r\n  },\r\n  props: {\r\n    value: String,\r\n    hideAddNew: Boolean,\r\n    collection: {\r\n      type: String\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      search: '',\r\n      dataItems: [],\r\n      loading: false,\r\n      dialog: false\r\n    }\r\n  },\r\n  computed: {\r\n     access () {\r\n        if (this.$store.state.auth.user.rights) {\r\n          return this.$store.state.auth.user.rights.filter(e => {\r\n              return e.value == this.collection  \r\n          })\r\n        } \r\n        return []\r\n      },\r\n      writeAccess () {\r\n      \r\n        if (this.access.length > 0)\r\n          return this.access[0].write\r\n\r\n        return false \r\n      },\r\n  },\r\n  methods: {\r\n    emit (val) {\r\n \r\n      this.$emit('input', val ? val[this.$attrs.itemValue] : '')\r\n    },\r\n    addNew () {\r\n      this.dialog = true  \r\n    },\r\n    async newSave (val) {\r\n      this.dialog = false\r\n      console.log(this.dataItems);\r\n      this.dataItems.push(val)\r\n      this.$emit('input', val[this.$attrs.itemValue])\r\n      \r\n    },\r\n    ...mapActions({\r\n      get: 'api/get'\r\n    }),\r\n    async makeSearch (value, collection) {\r\n      this.loading = true\r\n      const res = await this.get({\r\n        collection: collection,\r\n        search: { name: value }\r\n      })\r\n   \r\n      this.dataItems = res.data.docs\r\n      this.loading = false\r\n\r\n    }\r\n  },\r\n  watch: {\r\n    search ( value ) {\r\n      if(this.collection)\r\n        debounce(this.makeSearch, 500)(value, this.collection)\r\n    }\r\n  },\r\n  created () {\r\n    \r\n      if(this.collection) \r\n        this.makeSearch('', this.collection)\r\n      else if (this.$attrs.items)\r\n        this.dataItems = this.$attrs.items\r\n \r\n      \r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Autocomplete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Autocomplete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Autocomplete.vue?vue&type=template&id=78d5d992&\"\nimport script from \"./Autocomplete.vue?vue&type=script&lang=js&\"\nexport * from \"./Autocomplete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VAutocomplete,VCard,VDialog,VIcon,VListItem,VListItemContent,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"flat\":\"\",\"width\":\"100%\"}},[_c('v-card-text',{staticClass:\"text-center\"},[_c('v-divider'),_c('h2',{staticClass:\"my-5\"},[_vm._v(_vm._s(_vm.label))]),_c('v-divider'),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.data,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.read\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-switch',{on:{\"change\":function($event){return _vm.handelReadRight($event, item)}},model:{value:(item.read),callback:function ($$v) {_vm.$set(item, \"read\", $$v)},expression:\"item.read\"}})]}},{key:\"item.write\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-switch',{model:{value:(item.write),callback:function ($$v) {_vm.$set(item, \"write\", $$v)},expression:\"item.write\"}})]}},{key:\"item.update\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-switch',{model:{value:(item.update),callback:function ($$v) {_vm.$set(item, \"update\", $$v)},expression:\"item.update\"}})]}},{key:\"item.delete\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-switch',{model:{value:(item.delete),callback:function ($$v) {_vm.$set(item, \"delete\", $$v)},expression:\"item.delete\"}})]}}])}),_vm._v(\"> \")],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card flat width=\"100%\">\r\n    \r\n    <v-card-text class=\"text-center\">\r\n      <v-divider></v-divider>\r\n      <h2 class=\"my-5\">{{ label }}</h2>\r\n      <v-divider></v-divider>\r\n      <!-- {{ value }} -->\r\n      <v-data-table\r\n        :headers=\"headers\"\r\n        :items=\"data\"\r\n        hide-default-footer\r\n      >\r\n        <template v-slot:item.read=\"{ item }\" >\r\n          <v-switch\r\n            @change=\"handelReadRight($event, item)\"\r\n            v-model=\"item.read\"\r\n          ></v-switch>\r\n \r\n        </template>\r\n        <template v-slot:item.write=\"{ item }\">\r\n      \r\n           <v-switch\r\n         \r\n            v-model=\"item.write\"\r\n          ></v-switch>\r\n\r\n        </template>\r\n        <template v-slot:item.update=\"{ item }\">\r\n           <v-switch\r\n            v-model=\"item.update\"\r\n          ></v-switch>\r\n\r\n        </template>\r\n        <template v-slot:item.delete=\"{item }\">\r\n           <v-switch\r\n            v-model=\"item.delete\"\r\n          ></v-switch>\r\n\r\n        </template>\r\n\r\n\r\n\r\n      </v-data-table>>\r\n \r\n    </v-card-text>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'Rights',\r\n    props: {\r\n      label: String,\r\n      value: {\r\n        type: Array,\r\n        default: () => []\r\n      }\r\n    },\r\n    data () {\r\n      return { \r\n        headers: [\r\n         { text: 'Section', value: 'section', width: \"50%\" },\r\n         { text: 'Read', value: 'read' },\r\n         { text: 'Write', value: 'write' },\r\n         { text: 'Update', value: 'update' },\r\n         { text: 'Delete', value: 'delete' },\r\n        ],\r\n        data: [\r\n          { \r\n            section: 'Sales',\r\n            value: 'sale',\r\n            read: true,\r\n            write: true,\r\n            update: true,\r\n            delete: true,\r\n          },\r\n           { \r\n            section: 'Retention',\r\n            value: 'retention',\r\n            read: true,\r\n            write: true,\r\n            update: true,\r\n            delete: true,\r\n          },\r\n           { \r\n            section: 'Payment Methods',\r\n            value: 'payment_method',\r\n            read: true,\r\n            write: true,\r\n            update: true,\r\n            delete: true,\r\n          },\r\n          { \r\n            section: 'Affiliate',\r\n            value: 'affiliate',\r\n            read: true,\r\n            write: true,\r\n            update: true,\r\n            delete: true,\r\n          },\r\n           { \r\n            section: 'Users',\r\n            value: 'user',\r\n            read: true,\r\n            write: true,\r\n            update: true,\r\n            delete: true,\r\n          },\r\n          { \r\n            section: 'Roles',\r\n            value: 'role',\r\n            read: true,\r\n            write: true,\r\n            update: true,\r\n            delete: true,\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    methods: {\r\n      handelReadRight (evt, item) {\r\n        if (!evt) {\r\n          item.write = false\r\n          item.update = false\r\n          item.delete = false\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      data: { \r\n        deep: true,\r\n        // We have to move our method to a handler field\r\n        handler(v) {\r\n       \r\n          this.$emit('input', v)\r\n        }\r\n      }\r\n    },\r\n    mounted () {\r\n      if (this.value.length < 1) {\r\n        this.$emit('input', this.data)\r\n      }\r\n      console.log(this.value);\r\n      \r\n      this.value.forEach(e => {\r\n        const temp = this.data.filter(el => el.value == e.value )\r\n        if (temp[0]) {\r\n          Object.assign(temp[0], e)\r\n        }\r\n      }) \r\n    }\r\n  }\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rights.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rights.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rights.vue?vue&type=template&id=ad8a6514&\"\nimport script from \"./Rights.vue?vue&type=script&lang=js&\"\nexport * from \"./Rights.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VCard,VCardText,VDataTable,VDivider,VSwitch})\n"],"sourceRoot":""}