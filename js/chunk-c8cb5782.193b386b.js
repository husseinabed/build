(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c8cb5782"],{"19bc":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("caad"),core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a15b"),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d81d"),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("b0c0"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("2532"),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("5319"),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("841c"),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("1276"),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_8__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_9__),C_projects_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("1da1"),C_projects_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("5530"),vuex__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("2f62"),dateformat__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("b9b9"),dateformat__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(dateformat__WEBPACK_IMPORTED_MODULE_13__),jquery__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_14__),debounce__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("b012"),debounce__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(debounce__WEBPACK_IMPORTED_MODULE_15__),vuetify_lib__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("8654"),vuetify_lib__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("b974"),_components_DateRange__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("9db7"),defaultBind={dense:!0,hideDetails:!0,rounded:!0,outlined:!0},filters=[{input:"v-select",name:"range",col:12,bind:Object(C_projects_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(C_projects_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])({},defaultBind),{},{items:["0-500","500-1000","1000-2500","2500-5000","5000-10000","10000+"],label:"Deposit range"})},{input:"v-text-field",name:"customer.tpc",type:"search",bind:Object(C_projects_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(C_projects_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])({},defaultBind),{},{label:"TP"})},{input:"v-text-field",name:"customer.name",type:"search",bind:Object(C_projects_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(C_projects_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])({},defaultBind),{},{label:"Name"})},{input:"app-date-range",name:"ftd.created_on",type:"range",bind:Object(C_projects_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(C_projects_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])({},defaultBind),{},{label:"FTD Date"})}];__webpack_exports__["a"]={name:"Redeposit",components:{VTextField:vuetify_lib__WEBPACK_IMPORTED_MODULE_16__["a"],VSelect:vuetify_lib__WEBPACK_IMPORTED_MODULE_17__["a"],AppDateRange:_components_DateRange__WEBPACK_IMPORTED_MODULE_18__["a"]},data:function(){return{filters:filters,serverItemsLength:0,loading:!1,dateformat:dateformat__WEBPACK_IMPORTED_MODULE_13___default.a,items:[],headers:[{text:"TP",value:"customer.tpc"},{text:"Name",value:"customer.name"},{text:"Country",value:"customer.country"},{text:"FTD",value:"ftd.amount"},{text:"FTD Date",value:"ftd.created_on"},{text:"Deposits",value:"count",class:"font-weight-bold"},{text:"Total",value:"amount"}],dataHeaders:[{text:"amount",value:"amount"},{text:"Date",value:"created_on"},{text:"Owner",value:"user.displayName"}]}},watch:{$route:{handler:"fetch",immediate:!0}},computed:{sortBy:function(){var _=this.$route.query;return _["sortBy[]"]?Array.isArray(_["sortBy[]"])?_["sortBy[]"]:[_["sortBy[]"]]:void 0},sortDesc:function sortDesc(){var query=this.$route.query;return query["sortDesc[]"]?Array.isArray(query["sortDesc[]"])?query["sortDesc[]"].map((function(e){return eval(e)})):[eval(query["sortDesc[]"])]:void 0}},methods:Object(C_projects_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(C_projects_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_12__["b"])({get:"api/get"})),{},{changePage:function(_){var e=Object.assign({},this.$route.query);if(e.page!=_){e.page=_;var t=this.$route.path+"?"+jquery__WEBPACK_IMPORTED_MODULE_14___default.a.param(e);this.$router.push(t)}},changeLimit:function(_){var e=Object.assign({},this.$route.query);if(e.page=1,e.limit!=_){e.limit=_;var t=this.$route.path+"?"+jquery__WEBPACK_IMPORTED_MODULE_14___default.a.param(e);this.$router.replace(t)}},changeSort:function(_,e){this.$route.query[e+"[]"]&&delete this.$route.query[e+"[]"],this.$route.query[e]=_,this.$route.query.page=1;var t=this.$route.path+"?"+jquery__WEBPACK_IMPORTED_MODULE_14___default.a.param(this.$route.query),r=t.includes("sortBy%5B%5D"),a=t.includes("sortDesc%5B%5D");(r&&a||!r&&!a)&&this.$router.replace(t)},setFilterValue:function(_,e){var t=e.type;return"search"==t&&_&&(_=_.replace("~","")),"range"==t&&_&&(_=_.split("|")),_},filter:debounce__WEBPACK_IMPORTED_MODULE_15___default()((function(_,e){var t=_.type;"search"==t&&(e="~"+e),"gte"==t&&(e=">="+e),"lte"==t&&(e="<="+e),"range"==t&&Array.isArray(e)&&(e=e.join("|"));var r=Object.assign({},this.$route.query);r.page=1,!e&&r[_.name]?delete r[_.name]:r[_.name]=e;var a=this.$route.path+"?"+jquery__WEBPACK_IMPORTED_MODULE_14___default.a.param(r);this.$router.replace(a)}),500),fetch:function(){var _=this;return Object(C_projects_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return _.loading=!0,e.next=3,_.get({collection:"redeposit"+window.location.search});case 3:t=e.sent,_.loading=!1,_.items=t.data.docs,r=t.data.totalDocs,_.serverItemsLength=r;case 8:case"end":return e.stop()}}),e)})))()}})}},"9db7":function(_,e,t){"use strict";var r=function(){var _=this,e=_.$createElement,t=_._self._c||e;return t("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","min-width":"290px"},scopedSlots:_._u([{key:"activator",fn:function(e){var r=e.on;return[t("v-text-field",_._g(_._b({attrs:{value:_.dateRangeText,readonly:"","hide-details":"",clearable:""},on:{"click:clear":_.clear}},"v-text-field",_.$attrs,!1),r))]}}]),model:{value:_.menu,callback:function(e){_.menu=e},expression:"menu"}},[t("v-date-picker",{attrs:{range:""},on:{input:_.input},model:{value:_.dates,callback:function(e){_.dates=e},expression:"dates"}})],1)},a=[],s=(t("a15b"),{name:"date-picker",props:{value:Array},data:function(){return{menu:!1,dates:[]}},methods:{input:function(_){_.length>1&&(this.menu=!1,this.$emit("input",_))},clear:function(){this.dates=[],this.$emit("input",[])}},computed:{dateRangeText:function(){return this.dates.join(" ~ ")}},created:function(){this.value&&(this.dates=this.value)}}),n=s,u=t("2877"),o=t("6544"),c=t.n(o),i=t("2e4b"),l=t("e449"),d=t("8654"),p=Object(u["a"])(n,r,a,!1,null,null,null);e["a"]=p.exports;c()(p,{VDatePicker:i["a"],VMenu:l["a"],VTextField:d["a"]})},b13d:function(_,e,t){"use strict";t.r(e);var r=function(){var _=this,e=_.$createElement,t=_._self._c||e;return t("v-container",[t("v-card",[t("v-card-title",[t("v-icon",{staticClass:"mx-2",attrs:{size:"36"}},[_._v("mdi-twitter-retweet")]),_._v("Redeposit ")],1),t("v-card-text",[t("v-row",_._l(_.filters,(function(e,r){return t("v-col",{key:r,attrs:{cols:e.col}},[t(e.input,_._b({tag:"component",attrs:{value:_.setFilterValue(_.$route.query[e.name]||null,e)},on:{input:function(t){return _.filter(e,t)}}},"component",e.bind,!1))],1)})),1)],1)],1),t("v-data-table",{ref:"table",attrs:{"server-items-length":_.serverItemsLength,page:Number(_.$route.query.page)||1,"items-per-page":Number(_.$route.query.limit)||10,"sort-by":_.sortBy,"sort-desc":_.sortDesc,loading:_.loading,headers:_.headers,items:_.items,"footer-props":{"items-per-page-options":[5,10,20,50]},"item-key":"_id"},on:{"update:page":_.changePage,"update:items-per-page":_.changeLimit,"update:sort-desc":function(e){return _.changeSort(e,"sortDesc")},"update:sort-by":function(e){return _.changeSort(e,"sortBy")}},scopedSlots:_._u([{key:"item.customer.country",fn:function(_){var e=_.item;return[t("small",{staticClass:" text-center d-flex",staticStyle:{width:"auto"}},[t("span",{class:"flag f-"+e.customer.country.toLowerCase()+" small-flag",staticStyle:{transform:"scale(0.7)"}})])]}},{key:"item.ftd.amount",fn:function(e){var r=e.item;return[t("small",{staticClass:"font-weight-bold"},[_._v(" "+_._s(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r.ftd?r.ftd.amount:0))+" ")])]}},{key:"item.amount",fn:function(e){var r=e.item;return[t("span",{staticClass:"success--text font-weight-bold"},[_._v(" "+_._s(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r.amount||0))+" ")])]}},{key:"item.ftd.created_on",fn:function(e){var r=e.item;return[t("small",[_._v(" "+_._s(r.ftd?_.dateformat(new Date(r.ftd.created_on),"dd/mm/yyyy"):"--")+" ")])]}}])})],1)},a=[],s=t("19bc"),n=s["a"],u=t("2877"),o=t("6544"),c=t.n(o),i=t("b0af"),l=t("99d9"),d=t("62ad"),p=t("a523"),E=t("8fea"),m=t("132d"),D=t("0fd9"),O=Object(u["a"])(n,r,a,!1,null,null,null);e["default"]=O.exports;c()(O,{VCard:i["a"],VCardText:l["d"],VCardTitle:l["e"],VCol:d["a"],VContainer:p["a"],VDataTable:E["a"],VIcon:m["a"],VRow:D["a"]})}}]);
//# sourceMappingURL=chunk-c8cb5782.193b386b.js.map