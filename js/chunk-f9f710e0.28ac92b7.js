(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9f710e0"],{7277:function(t,a,o){"use strict";o.r(a);var l=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("v-content",{staticClass:"pa-0 ma-0"},[o("v-row",[o("v-col",[o("app-panel",{attrs:{title:"Today revenue",count:t.total.today.ftd,amount:t.total.today.amount}})],1),o("v-col",[o("app-panel",{attrs:{title:"This month revenue",count:t.total.month.ftd,amount:t.total.month.amount}})],1)],1),o("v-row",[o("app-total-sheet",{attrs:{color:"blue",title:"English",items:[{title:"Sales",ftd:t.totalMonth.sales.en.ftd,total:t.totalMonth.sales.en.total},{title:"Retentions",ftd:t.totalMonth.retention.en.ftd,total:t.totalMonth.retention.en.total},{title:"Total",ftd:t.totalMonth.sales.en.ftd+t.totalMonth.retention.en.ftd,total:t.totalMonth.sales.en.total+t.totalMonth.retention.en.total}],items2:[{title:"Sales",ftd:t.totalToday.sales.en.ftd,total:t.totalToday.sales.en.total},{title:"Retentions",ftd:t.totalToday.retention.en.ftd,total:t.totalToday.retention.en.total},{title:"Total",ftd:t.totalToday.sales.en.ftd+t.totalToday.retention.en.ftd,total:t.totalToday.sales.en.total+t.totalToday.retention.en.total}]}})],1),o("v-row",[o("app-total-sheet",{attrs:{color:"orange",title:"Arabic",items:[{title:"Sales",ftd:t.totalMonth.sales.ar.ftd,total:t.totalMonth.sales.ar.total},{title:"Retentions",ftd:t.totalMonth.retention.ar.ftd,total:t.totalMonth.retention.ar.total},{title:"Total",ftd:t.totalMonth.sales.ar.ftd+t.totalMonth.retention.ar.ftd,total:t.totalMonth.sales.ar.total+t.totalMonth.retention.ar.total}],items2:[{title:"Sales",ftd:t.totalToday.sales.ar.ftd,total:t.totalToday.sales.ar.total},{title:"Retentions",ftd:t.totalToday.retention.ar.ftd,total:t.totalToday.retention.ar.total},{title:"Total",ftd:t.totalToday.sales.ar.ftd+t.totalToday.retention.ar.ftd,total:t.totalToday.sales.ar.total+t.totalToday.retention.ar.total}]}})],1),o("v-row",[o("app-total-sheet",{attrs:{title:"Label1",items:[{title:"Sales",ftd:t.totalMonth.sales.lb.ftd,total:t.totalMonth.sales.lb.total},{title:"Retentions",ftd:t.totalMonth.retention.lb.ftd,total:t.totalMonth.retention.lb.total},{title:"Total",ftd:t.totalMonth.sales.lb.ftd+t.totalMonth.retention.lb.ftd,total:t.totalMonth.sales.lb.total+t.totalMonth.retention.lb.total}],items2:[{title:"Sales",ftd:t.totalToday.sales.lb.ftd,total:t.totalToday.sales.lb.total},{title:"Retentions",ftd:t.totalToday.retention.lb.ftd,total:t.totalToday.retention.lb.total},{title:"Total",ftd:t.totalToday.sales.lb.ftd+t.totalToday.retention.lb.ftd,total:t.totalToday.sales.lb.total+t.totalToday.retention.lb.total}]}})],1)],1)},e=[],n=(o("4160"),o("159b"),o("96cf"),o("1da1")),s=o("5530"),r=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("v-card",{attrs:{flat:"",color:"green white--text lighten-2"}},[o("v-card-title",{staticClass:"pb-0"},[t._v(t._s(t.title))]),o("v-card-text",[o("v-row",[o("v-col",{staticClass:" white--text",attrs:{cols:"3"}},[o("small",[t._v('FT"D')]),o("h1",[t._v(t._s(t.count))])]),o("v-col",{staticClass:" white--text"},[o("small",[t._v("Amount")]),o("h1",[t._v(t._s(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t.amount)))])])],1)],1)],1)},d=[],i=(o("a9e3"),{name:"Panel",props:{title:String,count:Number,amount:Number}}),c=i,f=o("2877"),u=o("6544"),h=o.n(u),m=o("b0af"),v=o("99d9"),b=o("62ad"),y=o("0fd9"),T=Object(f["a"])(c,r,d,!1,null,null,null),p=T.exports;h()(T,{VCard:m["a"],VCardText:v["d"],VCardTitle:v["e"],VCol:b["a"],VRow:y["a"]});var _=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("v-sheet",{staticClass:" px-3 mb-3 mx-3 ",attrs:{color:t.color,width:"100%"}},[o("v-row",[o("v-col",{staticClass:"title"},[t._v(t._s(t.title))]),o("v-col",{attrs:{cols:"3"}},[o("v-select",{attrs:{dense:"",outlined:"",items:[{text:"Today",value:"today"},{text:"This month",value:"month"}],"item-text":"text","item-value":"value","hide-details":""},model:{value:t.selected,callback:function(a){t.selected=a},expression:"selected"}})],1)],1),o("v-row",t._l("month"==t.selected?t.items:t.items2,(function(a,l){return o("v-col",{key:l,staticClass:"mx-2 pa-0 px-2"},[o("fieldset",{staticClass:"px-2 mb-2 fielset"},[o("legend",[t._v(t._s(a.title))]),o("v-row",[o("v-col",{attrs:{cols:"3"}},[o("small",[t._v('FT"D')]),o("h2",[t._v(t._s(a.ftd||0))])]),o("v-col",[o("small",[t._v("Total")]),o("h2",[t._v(t._s(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a.total||0)))])])],1)],1)])})),1)],1)},M=[],w={name:"TotalSheet",props:{title:String,items:Array,items2:Array,color:{type:String,default:"yellow"}},data:function(){return{selected:"month"}}},A=w,x=(o("e102"),o("b974")),S=o("8dd9"),C=Object(f["a"])(A,_,M,!1,null,"43ba8d26",null),g=C.exports;h()(C,{VCol:b["a"],VRow:y["a"],VSelect:x["a"],VSheet:S["a"]});var V=o("2f62"),R={name:"Dashboard",components:{AppPanel:p,AppTotalSheet:g},data:function(){return{totalMonth:{sales:{en:{ftd:0,total:0},ar:{ftd:0,total:0},lb:{ftd:0,total:0}},retention:{en:{ftd:0,total:0},ar:{ftd:0,total:0},lb:{ftd:0,total:0}}},totalToday:{sales:{en:{ftd:0,total:0},ar:{ftd:0,total:0},lb:{ftd:0,total:0}},retention:{en:{ftd:0,total:0},ar:{ftd:0,total:0},lb:{ftd:0,total:0}}},total:{today:{ftd:0,amount:0},month:{ftd:0,amount:0}}}},methods:Object(s["a"])({},Object(V["b"])({get:"api/get"})),created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.get({collection:"dashboard/month"});case 2:return o=a.sent,a.next=5,t.get({collection:"dashboard/today"});case 5:l=a.sent,o&&200==o.status&&(t.total.month.ftd=(o.data.rtsAll[0]?o.data.rtsAll[0].count:0)+(o.data.salesAll[0]?o.data.salesAll[0].count:0),t.total.month.amount=(o.data.rtsAll[0]?o.data.rtsAll[0].amount:0)+(o.data.salesAll[0]?o.data.salesAll[0].amount:0),o.data.sales.forEach((function(a){t.totalMonth.sales[a._id].ftd=a.count,t.totalMonth.sales[a._id].total=a.amount})),o.data.rts.forEach((function(a){t.totalMonth.retention[a._id].ftd=a.count,t.totalMonth.retention[a._id].total=a.amount}))),l&&200==l.status&&(t.total.today.ftd=(l.data.rtsAll[0]?l.data.rtsAll[0].count:0)+(l.data.salesAll[0]?l.data.salesAll[0].count:0),t.total.today.amount=(l.data.rtsAll[0]?l.data.rtsAll[0].amount:0)+(l.data.salesAll[0]?l.data.salesAll[0].amount:0),l.data.sales.forEach((function(a){t.totalToday.sales[a._id].ftd=a.count,t.totalToday.sales[a._id].total=a.amount})),l.data.rts.forEach((function(a){t.totalToday.retention[a._id].ftd=a.count,t.totalToday.retention[a._id].total=a.amount})));case 8:case"end":return a.stop()}}),a)})))()}},E=R,j=o("a75b"),k=Object(f["a"])(E,l,e,!1,null,null,null);a["default"]=k.exports;h()(k,{VCol:b["a"],VContent:j["a"],VRow:y["a"]})},"8cab":function(t,a,o){},e102:function(t,a,o){"use strict";var l=o("8cab"),e=o.n(l);e.a}}]);
//# sourceMappingURL=chunk-f9f710e0.28ac92b7.js.map