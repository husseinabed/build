{"version":3,"sources":["webpack:///./src/views/item/Index.vue?5114","webpack:///src/views/item/Index.vue","webpack:///./src/views/item/Index.vue?85a2","webpack:///./src/views/item/Index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","collection","icon","title","updateIdsCount","_e","$vuetify","breakpoint","xsOnly","_l","button","index","key","_g","_b","bind","vm","on","ref","panel","filteredPanelButtons","buttons","btn","ind","filterFields","fields","field","col","loading","inputs","input","tag","model","value","data","name","callback","$$v","$set","expression","getProps","collectionName","staticRenderFns","computed","id","$route","params","clone","query","isNew","toLowerCase","isUpdateMany","updateIds","Array","isArray","length","isClone","collectionButtons","item","filter","if","collectionTitle","sidebar","sidebarPanels","filterPanel","panels","content","contentPanels","forEach","dataIsNull","Object","values","every","watch","user","handler","immediate","methods","map","copy","console","log","props","prototype","hasOwnProperty","call","required","rules","refName","resetComponent","hasCachedState","cache","JSON","parse","backURL","setCachedState","updateComponent","setDataValues","component","VAlert","VBtn","VCard","VCardText","VCardTitle","VCol","VContainer","VForm","VIcon","VRow","VSkeletonLoader","VSpacer","VToolbar"],"mappings":"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","file":"js/chunk-2d0d38a6.f3c562a2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('h1',{staticClass:\"headline my-4\"},[_c('v-icon',{attrs:{\"size\":\"30\"}},[_vm._v(_vm._s(_vm.collection.icon))]),_vm._v(\" \"+_vm._s(_vm.title)+\" \")],1),(_vm.isUpdateMany)?_c('v-alert',{staticClass:\"ma-0 my-4\",attrs:{\"icon\":_vm.updateIdsCount ? 'mdi-information-outline' : 'mdi-alert-octagon-outline',\"color\":_vm.updateIdsCount ? 'info' : 'warning',\"dark\":\"\",\"outlined\":\"\"}},[(_vm.updateIdsCount)?_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\" Set the values of the requierd fields to be change in (\"+_vm._s(_vm.updateIdsCount)+\") items or leave it blank to make no change for the field\")]):_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\" No item has been selected to make change! \")])]):_vm._e(),(_vm.collectionButtons)?_c('v-toolbar',{attrs:{\"flat\":\"\",\"fixed\":\"\",\"dense\":_vm.$vuetify.breakpoint.xsOnly}},[_vm._l((_vm.collectionButtons),function(button,index){return [(button.spacer)?_c('v-spacer',{key:index}):_c('v-btn',_vm._g(_vm._b({key:index,staticClass:\"mx-1\",attrs:{\"small\":_vm.$vuetify.breakpoint.xsOnly,\"outlined\":\"\"}},'v-btn',typeof button.bind == 'function' ? button.bind(_vm.vm) : button.bind,false),typeof button.on == 'function' ? button.on(_vm.vm) : button.on),[(button.icon)?_c('v-icon',[_vm._v(_vm._s(button.icon))]):_vm._e(),(!_vm.$vuetify.breakpoint.xsOnly)?_c('span',[_vm._v(\" \"+_vm._s(button.title)+\" \")]):_vm._e()],1)]})],2):_vm._e(),_c('v-form',{ref:\"form\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\",\"id\":\"content\"}},_vm._l((_vm.contentPanels),function(panel,index){return _c('v-card',{key:index,staticClass:\"mb-4\"},[(panel.title)?_c('v-card-title',[(_vm.loading)?_c('v-skeleton-loader',{attrs:{\"type\":\"card-heading\",\"width\":\"100%\"}}):_c('span',[(panel.icon)?_c('v-icon',{staticClass:\"mx-1\",attrs:{\"size\":\"25\"}},[_vm._v(\" \"+_vm._s(panel.icon)+\" \")]):_vm._e(),_vm._v(\" \"+_vm._s(panel.title)+\" \")],1),_c('v-spacer'),_vm._l((_vm.filteredPanelButtons(panel.buttons)),function(btn,ind){return _c('v-btn',_vm._g(_vm._b({key:ind,staticClass:\"mx-1\",attrs:{\"small\":_vm.$vuetify.breakpoint.xsOnly,\"outlined\":\"\"}},'v-btn',typeof btn.bind == 'function' ? btn.bind(_vm.vm) : btn.bind,false),typeof btn.on == 'function' ? btn.on(_vm.vm) : btn.on),[(btn.icon)?_c('v-icon',[_vm._v(_vm._s(btn.icon))]):_vm._e(),(!_vm.$vuetify.breakpoint.xsOnly)?_c('span',[_vm._v(\" \"+_vm._s(btn.title)+\" \")]):_vm._e()],1)})],2):_vm._e(),_c('v-card-text',{staticClass:\"py-0\"},[_c('v-row',_vm._l((_vm.filterFields(panel.fields)),function(field,ind){return _c('v-col',_vm._b({key:ind,attrs:{\"cols\":\"12\"}},'v-col',field.col,false),[(!_vm.loading)?_c(_vm.inputs[field.input],_vm._g(_vm._b({tag:\"component\",attrs:{\"field\":field,\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.data[field.name]),callback:function ($$v) {_vm.$set(_vm.data, field.name, $$v)},expression:\"data[field.name]\"}},'component',_vm.getProps(typeof field.bind == 'function' ? field.bind(_vm.vm) : field.bind, (_vm.collectionName + \"_\" + (field.name))),false),typeof field.on == 'function' ? field.on(_vm.vm) : field.on)):_c('v-skeleton-loader',{staticClass:\"pa-0\",attrs:{\"type\":\"list-item\"}})],1)}),1)],1)],1)}),1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\",\"id\":\"sidebar\"}},_vm._l((_vm.sidebarPanels),function(panel,index){return _c('v-card',{key:index,staticClass:\"mb-4\"},[(panel.title)?_c('v-card-title',[(_vm.loading)?_c('v-skeleton-loader',{attrs:{\"type\":\"card-heading\",\"width\":\"100%\"}}):_c('span',[(panel.icon)?_c('v-icon',{staticClass:\"mx-1\",attrs:{\"size\":\"25\"}},[_vm._v(\" \"+_vm._s(panel.icon)+\" \")]):_vm._e(),_vm._v(\" \"+_vm._s(panel.title)+\" \")],1),_c('v-spacer'),_vm._l((_vm.filteredPanelButtons(panel.buttons)),function(btn,ind){return _c('v-btn',_vm._g(_vm._b({key:ind,staticClass:\"mx-1\",attrs:{\"small\":_vm.$vuetify.breakpoint.xsOnly,\"outlined\":\"\"}},'v-btn',typeof btn.bind == 'function' ? btn.bind(_vm.vm) : btn.bind,false),typeof btn.on == 'function' ? btn.on(_vm.vm) : btn.on),[(btn.icon)?_c('v-icon',[_vm._v(_vm._s(btn.icon))]):_vm._e(),(!_vm.$vuetify.breakpoint.xsOnly)?_c('span',[_vm._v(\" \"+_vm._s(btn.title)+\" \")]):_vm._e()],1)})],2):_vm._e(),_c('v-card-text',{staticClass:\"py-0\"},[_c('v-row',_vm._l((_vm.filterFields(panel.fields)),function(field,ind){return _c('v-col',_vm._b({key:ind,attrs:{\"cols\":\"12\"}},'v-col',field.col,false),[(!_vm.loading)?_c(_vm.inputs[field.input],_vm._g(_vm._b({tag:\"component\",attrs:{\"field\":field,\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.data[field.name]),callback:function ($$v) {_vm.$set(_vm.data, field.name, $$v)},expression:\"data[field.name]\"}},'component',_vm.getProps(typeof field.bind == 'function' ? field.bind(_vm.vm) : field.bind, (_vm.collectionName + \"_\" + (field.name))),false),typeof field.on == 'function' ? field.on(_vm.vm) : field.on)):_c('v-skeleton-loader',{staticClass:\"pa-0\",attrs:{\"type\":\"list-item\"}})],1)}),1)],1)],1)}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container >\r\n     \r\n        <h1 class=\"headline my-4\">\r\n            <v-icon size=\"30\">{{ collection.icon }}</v-icon>\r\n             {{ title }} \r\n        </h1>\r\n        <!-- {{ data }} -->\r\n        <v-alert v-if=\"isUpdateMany\" :icon=\"updateIdsCount ? 'mdi-information-outline' : 'mdi-alert-octagon-outline'\" class=\"ma-0 my-4\" :color=\"updateIdsCount ? 'info' : 'warning'\" dark outlined>\r\n            <span class=\"font-weight-bold\" v-if=\"updateIdsCount\">\r\n              Set the values of the requierd fields to be change in \r\n              ({{ updateIdsCount }}) items or leave it blank to make no change for the field</span>\r\n               <span class=\"font-weight-bold\" v-else>\r\n                 No item has been selected to make change!\r\n               </span>\r\n        </v-alert>\r\n\r\n        <v-toolbar flat fixed :dense=\"$vuetify.breakpoint.xsOnly\" v-if=\"collectionButtons\">\r\n          <template  v-for=\"(button, index) in collectionButtons\"  >\r\n            <v-spacer :key=\"index\" v-if=\"button.spacer\"></v-spacer> \r\n            <v-btn \r\n                    v-else\r\n                    :key=\"index\" \r\n                    :small=\"$vuetify.breakpoint.xsOnly\"\r\n                    class=\"mx-1\"\r\n                \r\n                    v-bind=\"typeof button.bind == 'function' ? button.bind(vm) : button.bind\"\r\n                    v-on=\"typeof button.on == 'function' ? button.on(vm) : button.on\"\r\n                    outlined>\r\n                    <v-icon v-if=\"button.icon\">{{button.icon}}</v-icon>\r\n                    <span v-if=\"!$vuetify.breakpoint.xsOnly\"> {{button.title}} </span>\r\n                </v-btn>\r\n       \r\n          </template>\r\n\r\n        </v-toolbar>\r\n     \r\n        <v-form ref=\"form\" >\r\n          <v-row>\r\n            <v-col cols=\"12\" md=\"8\"  id=\"content\">\r\n              <v-card v-for=\"(panel, index) in contentPanels\" :key=\"index\" class=\"mb-4\">\r\n                <v-card-title v-if=\"panel.title\">\r\n                  <v-skeleton-loader v-if=\"loading\" type=\"card-heading\" width=\"100%\"  ></v-skeleton-loader>\r\n                  <span v-else>\r\n                    <v-icon v-if=\"panel.icon\" class=\"mx-1\" size=\"25\">\r\n                      {{ panel.icon }}\r\n                    </v-icon>\r\n                    {{panel.title}}\r\n                  </span>\r\n                  <v-spacer></v-spacer>\r\n                   <v-btn \r\n               \r\n                    v-for=\"(btn, ind) in filteredPanelButtons(panel.buttons)\"\r\n                    :key=\"ind\" \r\n                    :small=\"$vuetify.breakpoint.xsOnly\"\r\n                    class=\"mx-1\"\r\n                \r\n                    v-bind=\"typeof btn.bind == 'function' ? btn.bind(vm) : btn.bind\"\r\n                    v-on=\"typeof btn.on == 'function' ? btn.on(vm) : btn.on\"\r\n                    outlined>\r\n                    <v-icon v-if=\"btn.icon\">{{btn.icon}}</v-icon>\r\n                    <span v-if=\"!$vuetify.breakpoint.xsOnly\"> {{btn.title}} </span>\r\n                </v-btn>\r\n                </v-card-title>\r\n                <v-card-text class=\"py-0\">\r\n                  <v-row>\r\n                    <v-col cols=\"12\" v-for=\"(field, ind) in filterFields(panel.fields)\" :key=\"ind\" v-bind=\"field.col\">\r\n                     \r\n                      <component \r\n                          :is=\"inputs[field.input]\"\r\n                          :field=\"field\"\r\n                          v-if=\"!loading\"\r\n                          outlined\r\n                          dense \r\n                          v-bind=\"getProps(typeof field.bind == 'function' ? field.bind(vm) : field.bind, `${collectionName}_${field.name}`)\"\r\n                          v-on=\"typeof field.on == 'function' ? field.on(vm) : field.on\"\r\n                          v-model=\"data[field.name]\"\r\n                        />\r\n                        <v-skeleton-loader v-else type=\"list-item\"  class=\"pa-0\"></v-skeleton-loader>\r\n\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-card-text>\r\n              </v-card>  \r\n            </v-col>\r\n            <v-col cols=\"12\" md=\"4\"   id=\"sidebar\">\r\n              <v-card v-for=\"(panel, index) in sidebarPanels\" :key=\"index\" class=\"mb-4\" >\r\n                <v-card-title v-if=\"panel.title\">\r\n                  <v-skeleton-loader v-if=\"loading\" type=\"card-heading\" width=\"100%\"  ></v-skeleton-loader>\r\n                  <span v-else>\r\n                    <v-icon v-if=\"panel.icon\" class=\"mx-1\" size=\"25\">\r\n                      {{ panel.icon }}\r\n                    </v-icon>\r\n                    {{panel.title}}\r\n                  </span>\r\n                   <v-spacer></v-spacer>\r\n                  <v-btn \r\n                    \r\n                    v-for=\"(btn, ind) in filteredPanelButtons(panel.buttons)\"\r\n                    :key=\"ind\" \r\n                    :small=\"$vuetify.breakpoint.xsOnly\"\r\n                    class=\"mx-1\"\r\n                \r\n                    v-bind=\"typeof btn.bind == 'function' ? btn.bind(vm) : btn.bind\"\r\n                    v-on=\"typeof btn.on == 'function' ? btn.on(vm) : btn.on\"\r\n                    outlined>\r\n                    <v-icon v-if=\"btn.icon\">{{btn.icon}}</v-icon>\r\n                    <span v-if=\"!$vuetify.breakpoint.xsOnly\"> {{btn.title}} </span>\r\n                </v-btn>\r\n                </v-card-title>\r\n                <v-card-text class=\"py-0\">\r\n                  <v-row>\r\n                    <v-col cols=\"12\" v-for=\"(field, ind) in filterFields(panel.fields)\" :key=\"ind\" v-bind=\"field.col\">\r\n                      <component \r\n                          :is=\"inputs[field.input]\"\r\n                          :field=\"field\"\r\n                          v-if=\"!loading\"\r\n                          outlined\r\n                          dense \r\n                          v-bind=\"getProps(typeof field.bind == 'function' ? field.bind(vm) : field.bind, `${collectionName}_${field.name}`)\"\r\n                          v-on=\"typeof field.on == 'function' ? field.on(vm) : field.on\"\r\n                          v-model=\"data[field.name]\"\r\n                        />\r\n                        <v-skeleton-loader v-else type=\"list-item\"  class=\"pa-0\"></v-skeleton-loader>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-card-text>\r\n              </v-card>  \r\n            </v-col>\r\n          </v-row>\r\n        </v-form>\r\n \r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport collections from './../../collections'\r\n\r\n import   {\r\n  VTextField,\r\n  VSelect,\r\n  VSwitch,\r\n  VTextarea\r\n} from 'vuetify/lib'\r\n \r\nimport AppAutoComplete from './../../components/Autocomplete'\r\nimport AppDatePicker from './../../components/DatePicker'\r\nimport AppDateRange from '../../components/DateRange'\r\nimport Assignment from '../../components/Assignment'\r\nimport ProfileImage from '../../components/ProfileImage'\r\nimport AppPassword from '../../components/Password'\r\nimport AppMenuItemInput from '../../components/MenuItemInput'\r\nimport Rights from '../../components/Rights'\r\n \r\nexport default {\r\n  name: 'Item',\r\n  data: () => ({\r\n    data:{},\r\n    props: {},\r\n    loading: false\r\n  }),\r\n  computed: {\r\n    vm () {\r\n      return this\r\n    },\r\n    inputs: () => ({\r\n            text: VTextField,\r\n            textarea: VTextarea,\r\n            select: VSelect,\r\n            switch: VSwitch,\r\n            date: AppDatePicker,\r\n            range: AppDateRange,\r\n            autocomplete: AppAutoComplete,\r\n            assignment: Assignment,\r\n            'profile-image':ProfileImage,\r\n            password: AppPassword,\r\n            rights: Rights,\r\n            'menu-items': AppMenuItemInput\r\n    }),\r\n    id () {\r\n      return this.$route.params.id\r\n    },\r\n    clone () {\r\n      return this.$route.query.clone\r\n    },\r\n    isNew () {\r\n      return this.id.toLowerCase() == 'new'\r\n    },\r\n    isUpdateMany () {\r\n      return this.id.toLowerCase() == 'update'\r\n\r\n    },\r\n    updateIds () {\r\n      return this.$route.query['_id[]']\r\n    },\r\n    updateIdsCount () {\r\n      return Array.isArray(this.updateIds) ? this.updateIds.length : (this.updateIds ? 1 : 0)\r\n    },\r\n    isClone () {\r\n      return  Boolean(this.clone)\r\n    },\r\n    title () {\r\n      return this.isNew ? `New ${this.collectionTitle}` : this.collectionTitle\r\n    },\r\n    collectionName () {\r\n        return this.$route.params.collection\r\n    },\r\n    collection () {\r\n        return collections.get(this.collectionName)\r\n    },\r\n    collectionButtons () {\r\n      if (!this.collection.item.buttons) return false\r\n      return this.collection.item.buttons.filter(btn => {\r\n         if (btn.if){\r\n          switch (typeof btn.if) {\r\n            case 'function':\r\n              return btn.if(this);\r\n            case 'boolean':\r\n              return btn.if;\r\n            default:\r\n              return true;\r\n          }\r\n        } else\r\n          return true\r\n      }) \r\n    },\r\n    collectionTitle () {\r\n        return this.collection.title.singular || this.collection.title\r\n    },\r\n    sidebar () {\r\n      return this.collection.item.sidebar\r\n    },\r\n    sidebarPanels () {\r\n      return this.filterPanel(this.sidebar.panels)\r\n    },\r\n    content () {\r\n      return this.collection.item.content\r\n    },\r\n    contentPanels () {\r\n       return this.filterPanel(this.content.panels)\r\n    },\r\n    fields () {\r\n      // get all fields from panels\r\n      const panels = [...this.content.panels, ...this.sidebar.panels]\r\n      let fields = []\r\n      panels.forEach(panel => {\r\n        if (panel.fields)\r\n          fields = fields.concat(panel.fields)\r\n      })\r\n      return fields\r\n    },\r\n    dataIsNull () {\r\n      return Object.values(this.data).every(v => v === null || v === undefined)\r\n    }\r\n    \r\n  },\r\n  watch:{\r\n    user: {\r\n      handler: 'updateComponent',\r\n    },\r\n    '$route': {\r\n      handler: 'updateComponent',\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    filterPanel (panels) {\r\n      return panels.map(panel => {\r\n        const copy = Object.assign({}, panel);\r\n        copy.fields = this.filterFields(panel.fields)\r\n        return copy\r\n      }).filter(panel => panel.fields.length)\r\n      .filter(panel => {\r\n        console.log(panel);\r\n        if (panel.if){\r\n          switch (typeof panel.if) {\r\n            case 'function':\r\n              return panel.if(this);\r\n            case 'boolean':\r\n              return panel.if;\r\n            default:\r\n              return true;\r\n          }\r\n        } else\r\n          return true\r\n      })\r\n    },\r\n    filterFields (fields) { \r\n      const copy = Object.assign([], fields);\r\n      return copy.filter(field => {\r\n       \r\n        if (field.if){\r\n          switch (typeof field.if) {\r\n            case 'function':\r\n              return field.if(this);\r\n            case 'boolean':\r\n              return field.if;\r\n            default:\r\n              return true;\r\n          }\r\n        } else\r\n          return true\r\n      })\r\n    },\r\n    filteredPanelButtons (buttons) {\r\n      const copy = Object.assign([], buttons);\r\n      return copy.filter(button => {\r\n        if (this.loading) return false\r\n        if (button.if){\r\n          switch (typeof button.if) {\r\n            case 'function':\r\n              return button.if(this);\r\n            case 'boolean':\r\n              return button.if;\r\n            default:\r\n              return true;\r\n          }\r\n        } else\r\n          return true\r\n      })\r\n    },\r\n    getProps (props, refName) {\r\n      \r\n      if (this.isUpdateMany && props) {\r\n        // remove requierd && rules for multi update\r\n        if (Object.prototype.hasOwnProperty.call(props,'rules')) {\r\n          delete props.required\r\n          delete props.rules\r\n        }\r\n        // disable all field if no item has been selected in update many\r\n        if (!this.updateIdsCount)\r\n          props.disabled = true;\r\n      }\r\n      \r\n   \r\n\r\n      if (this.props[refName]) {\r\n         return Object.assign({}, props, this.props[refName])\r\n      } else {\r\n         return props\r\n      }\r\n    },\r\n    resetComponent () {\r\n      this.data = {}\r\n      this.props = {}\r\n    },\r\n    hasCachedState () {\r\n      const backURL = btoa(this.$route.path)\r\n      const cache = localStorage.getItem('backURL')\r\n      if (cache) {\r\n        return JSON.parse(cache).backURL == backURL\r\n      } else \r\n        return false \r\n       \r\n    },\r\n    setCachedState () {\r\n       const cache = localStorage.getItem('backURL')\r\n       const { cachState } = JSON.parse(cache)\r\n       Object.keys(cachState).forEach(field => {\r\n         this[field] = cachState[field]\r\n       })\r\n       localStorage.removeItem('backURL')\r\n    },\r\n    updateComponent () {\r\n     \r\n      this.resetComponent()\r\n      this.setDataValues()\r\n      \r\n      if (this.hasCachedState())\r\n        this.setCachedState()\r\n      else\r\n        this.fetch()\r\n    },\r\n\r\n    async fetch () {\r\n      \r\n      if ((!this.isNew || this.isClone) && !this.isUpdateMany) {\r\n        this.loading = true\r\n        const id = this.isClone ? this.clone : this.id\r\n        const clonedFields =  this.$route.query.fields\r\n        const result = await this.getItem({ collection: this.collectionName, id }) \r\n        \r\n        \r\n        // not found \r\n        if (!result || !result.data)\r\n          this.$router.replace('/404')\r\n\r\n        \r\n        this.fields.forEach(field => {\r\n            if (field.name && result.data[field.name]) {\r\n              //ignore password value\r\n              if (!this.isNew && field.input == 'password') return;\r\n\r\n\r\n              // clone a choosen fields\r\n              if (this.clone && clonedFields && clonedFields.length) {\r\n                if (clonedFields.indexOf(field.name) !== -1)\r\n                  //set field value\r\n                  this.data[field.name] = result.data[field.name];\r\n              } else\r\n                //set field value\r\n                this.data[field.name] = result.data[field.name]\r\n            }\r\n        })\r\n       \r\n        \r\n        \r\n        this.loading = false\r\n\r\n      }\r\n    },\r\n    setDataValues () {\r\n      const data = {}\r\n      \r\n      // loop all fields\r\n      this.fields.forEach(field => {\r\n        if (!field.name) return\r\n        //set default value to null\r\n        data[field.name] = null\r\n\r\n        //set default value from field\r\n        if (Object.prototype.hasOwnProperty.call(field,'default') && !this.isUpdateMany) \r\n          if (typeof field.default == 'function')\r\n            data[field.name] = field.default(this)\r\n          else\r\n            data[field.name] = field.default\r\n\r\n      }) // end loop\r\n\r\n\r\n      this.data = data\r\n\r\n    } \r\n  } \r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=65561c2e&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardText,VCardTitle,VCol,VContainer,VForm,VIcon,VRow,VSkeletonLoader,VSpacer,VToolbar})\n"],"sourceRoot":""}