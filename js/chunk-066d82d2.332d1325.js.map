{"version":3,"sources":["webpack:///./src/views/Item.vue?f170","webpack:///./src/views/Item.vue?ba1d","webpack:///./src/components/IconInput.vue?f35a","webpack:///./src/components/IconInput.vue","webpack:///./src/components/MenuItemInput.vue?01c1","webpack:///src/components/MenuItemInput.vue","webpack:///./src/components/MenuItemInput.vue?6a91","webpack:///./src/components/MenuItemInput.vue","webpack:///src/views/Item.vue","webpack:///./src/views/Item.vue?7a13","webpack:///./src/views/Item.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","title","tabs","length","model","value","callback","$$v","tab","expression","_l","index","key","_e","ref","loading","staticClass","field","ind","inputs","input","_g","_b","$route","params","collection","name","refInFor","tag","data","$set","bind","on","isNew","updateAccess","validate","writeAccess","$event","deleteAccess","removeItem","$router","push","staticRenderFns","script","component","VInput","staticStyle","$attrs","label","add","type","indexOf","_k","keyCode","text","items","item","i","domProps","icon","remove","props","Array","watch","handler","deep","methods","$emit","created","VBtn","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VIcon","VSheet","VTextField","values","default","VCard","VCardText","VCardTitle","VCol","VForm","VRow","VSkeletonLoader","VSpacer","VTab","VTabItem","VTabs","VTabsItems","VToolbar"],"mappings":"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","file":"js/chunk-066d82d2.332d1325.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-col',[(_vm.found)?_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-title',[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('v-card-text',[(_vm.tabs.length > 1)?_c('v-tabs',{attrs:{\"center-active\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.tabs),function(tab,index){return _c('v-tab',{key:index},[_vm._v(\" \"+_vm._s(tab)+\" \")])}),1):_vm._e(),_c('v-form',{ref:\"form\"},[(!_vm.loading)?_c('v-tabs-items',{attrs:{\"center-active\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.tabs),function(tab,index){return _c('v-tab-item',{key:index,staticClass:\"px-5\"},_vm._l((_vm.fields),function(field,ind){return _c('v-row',{key:ind},[(_vm.loading)?_c('v-skeleton-loader',{attrs:{\"loading\":_vm.loading,\"width\":\"100%\",\"height\":\"50\",\"type\":\"table-heading\"}}):_vm._e(),_c(_vm.inputs[field.input],_vm._g(_vm._b({ref:(\"\" + (_vm.$route.params.collection + '_' + field.name)),refInFor:true,tag:\"component\",model:{value:(_vm.data[field.name]),callback:function ($$v) {_vm.$set(_vm.data, field.name, $$v)},expression:\"data[field.name]\"}},'component',field.bind,false),field.on))],1)}),1)}),1):_vm._e()],1)],1)],1):_c('v-not-found'),_c('br'),_c('v-toolbar',{staticClass:\"bottom-toolbar\",attrs:{\"width\":\"100%\"}},[(!_vm.isNew && _vm.updateAccess)?_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.validate}},[_vm._v(\" Update \")]):_vm._e(),(_vm.isNew && _vm.writeAccess)?_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.validate}},[_vm._v(\" Save \")]):_vm._e(),(_vm.isNew)?_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.validate($event, true)}}},[_vm._v(\" Save and new \")]):_vm._e(),_c('v-spacer'),(!_vm.isNew && _vm.$route.params.collection !== 'user' && _vm.deleteAccess)?_c('v-btn',{staticClass:\"mr-4 white--text\",attrs:{\"color\":\"red\"},on:{\"click\":_vm.removeItem}},[_vm._v(\" Delete \")]):_vm._e(),_c('v-btn',{staticClass:\"mr-4\",on:{\"click\":function($event){return _vm.$router.push('/'+_vm.$route.params.collection)}}},[_vm._v(\" Cancel \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-input',[_vm._v(\"ss\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./IconInput.vue?vue&type=template&id=75203a2d&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VInput } from 'vuetify/lib/components/VInput';\ninstallComponents(component, {VInput})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('fieldset',{staticClass:\"pa-3\",staticStyle:{\"width\":\"100%\"}},[_c('legend',[_vm._v(_vm._s(_vm.$attrs.label))]),_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"append-icon\":\"mdi-plus\"},on:{\"click:append\":_vm.add,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.add($event)}},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),(_vm.items.length)?_c('v-expansion-panels',_vm._l((_vm.items),function(item,i){return _c('v-expansion-panel',{key:i},[_c('v-expansion-panel-header',[_c('h4',[_c('v-icon',{domProps:{\"innerHTML\":_vm._s(item.icon)}}),_vm._v(\" \"+_vm._s(item.name))],1)]),_c('v-expansion-panel-content',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Name\"},model:{value:(item.name),callback:function ($$v) {_vm.$set(item, \"name\", $$v)},expression:\"item.name\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Icon\",\"append-icon\":item.icon},model:{value:(item.icon),callback:function ($$v) {_vm.$set(item, \"icon\", $$v)},expression:\"item.icon\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Path\"},model:{value:(item.path),callback:function ($$v) {_vm.$set(item, \"path\", $$v)},expression:\"item.path\"}}),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.remove(i)}}},[_c('v-icon',[_vm._v(\"mdi-delete \")])],1)],1)],1)}),1):_c('v-sheet',{attrs:{\"color\":\"grey lighten-5 pa-6\"}},[_vm._v(\"Menu list is empty!\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <fieldset class=\"pa-3\" style=\"width:100%\">\r\n      <legend>{{ $attrs.label }}</legend>\r\n   \r\n      <v-text-field outlined dense append-icon=\"mdi-plus\" v-model=\"text\" @click:append=\"add\" @keydown.enter=\"add\"></v-text-field>\r\n      <v-expansion-panels v-if=\"items.length\">\r\n        <v-expansion-panel\r\n          v-for=\"(item,i) in items\"\r\n          :key=\"i\"\r\n        >\r\n       \r\n          <v-expansion-panel-header><h4><v-icon v-html=\"item.icon\"></v-icon > {{ item.name }}</h4></v-expansion-panel-header>\r\n          <v-expansion-panel-content>\r\n             <v-text-field outlined dense v-model=\"item.name\" label=\"Name\"></v-text-field>\r\n        \r\n             <v-text-field outlined dense v-model=\"item.icon\" label=\"Icon\" :append-icon=\"item.icon\"></v-text-field>\r\n             <v-text-field outlined dense v-model=\"item.path\" label=\"Path\"></v-text-field>\r\n            <v-btn icon @click=\"remove(i)\"> <v-icon>mdi-delete </v-icon></v-btn>\r\n          </v-expansion-panel-content>\r\n        </v-expansion-panel>\r\n      </v-expansion-panels>\r\n      <v-sheet v-else  color=\"grey lighten-5 pa-6\">Menu list is empty!</v-sheet>\r\n    </fieldset>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MenuItemInput',\r\n  props: {\r\n    value: Array\r\n  },\r\n  data () {\r\n    return {\r\n      text: '',\r\n      items: [ ]\r\n    }\r\n  },\r\n  watch: {\r\n    items: {\r\n      handler: 'input',\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    input () {\r\n      this.$emit('input', this.items)\r\n    },\r\n    remove(i) {\r\n      if (this.items.length)\r\n        this.items = this.items.filter((e,ind) => ind !== i)\r\n    },\r\n    add () {\r\n \r\n      if (this.text) \r\n        this.items.push({name:this.text, icon:'mdi-home', path: '/'})\r\n      this.text = ''\r\n    }\r\n  },\r\n  created () {\r\n    this.items = this.value\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuItemInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuItemInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuItemInput.vue?vue&type=template&id=4f1fdb2e&\"\nimport script from \"./MenuItemInput.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuItemInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VSheet,VTextField})\n","<template>\r\n<v-col  >\r\n \r\n \r\n\r\n\r\n  <v-card v-if=\"found\" flat  >\r\n\r\n  <v-card-title> {{ title }} </v-card-title>\r\n  <v-card-text  >\r\n  \r\n \r\n  <!-- {{ data }} -->\r\n\r\n    <v-tabs v-model=\"tab\" v-if=\"tabs.length > 1\"\r\n     center-active\r\n     >\r\n      <v-tab v-for=\" (tab, index)  in tabs\" :key=\"index\">\r\n        {{tab}}  \r\n      </v-tab>\r\n    </v-tabs>\r\n    <v-form ref=\"form\">\r\n    <v-tabs-items v-model=\"tab\"  \r\n     center-active\r\n      v-if=\"!loading\"\r\n     >\r\n      <v-tab-item v-for=\" (tab, index)  in tabs\" :key=\"index\" class=\"px-5\">\r\n        \r\n      <v-row v-for=\"(field, ind) in fields\" :key=\"ind\"   >\r\n\r\n     <v-skeleton-loader\r\n          v-if=\"loading\"\r\n          :loading=\"loading\"\r\n          width=\"100%\"\r\n          height=\"50\"\r\n          type=\"table-heading\"\r\n        >\r\n        </v-skeleton-loader>\r\n        <component \r\n          :is=\"inputs[field.input]\" \r\n          v-bind=\"field.bind\"\r\n          v-on=\"field.on\"\r\n          v-model=\"data[field.name]\" \r\n          :ref=\"`${$route.params.collection + '_' + field.name}`\" />\r\n      </v-row>\r\n\r\n      </v-tab-item>\r\n    </v-tabs-items> \r\n    </v-form>\r\n\r\n  </v-card-text>\r\n \r\n\r\n\r\n  </v-card >\r\n  \r\n  <v-not-found v-else/>\r\n  <br/>\r\n  <v-toolbar class=\"bottom-toolbar\"  width=\"100%\" >\r\n    <v-btn\r\n      color=\"primary\"\r\n      class=\"mr-4\"\r\n      @click=\"validate\"\r\n      v-if=\"!isNew && updateAccess\"\r\n    >\r\n     Update\r\n    </v-btn>\r\n    <v-btn\r\n      color=\"primary\"\r\n      class=\"mr-4\"\r\n      @click=\"validate\"\r\n      v-if=\"isNew && writeAccess\"\r\n    >\r\n     Save\r\n    </v-btn>\r\n    <v-btn\r\n      v-if=\"isNew\"\r\n      color=\"success\"\r\n      class=\"mr-4\"\r\n      @click=\"validate($event, true)\"\r\n    >\r\n     Save and new\r\n\r\n    </v-btn>\r\n     <v-spacer />\r\n     <v-btn v-if=\"!isNew && $route.params.collection !== 'user' && deleteAccess\"\r\n      color=\"red\"\r\n      class=\"mr-4 white--text\"\r\n      @click=\"removeItem\"\r\n    >\r\n      Delete\r\n    </v-btn> \r\n    <v-btn\r\n      \r\n      class=\"mr-4\"\r\n      @click=\"$router.push('/'+$route.params.collection)\"\r\n    >\r\n      Cancel\r\n    </v-btn>\r\n   \r\n     \r\n  </v-toolbar>\r\n</v-col>\r\n</template>\r\n\r\n<script>\r\nimport   {\r\n  VTextField,\r\n  VSelect,\r\n  VSwitch,\r\n  \r\n} from 'vuetify/lib'\r\n\r\nimport AppAutoComplete from './../components/Autocomplete'\r\nimport AppPassword from './../components/Password'\r\nimport AppDatePicker from './../components/DatePicker'\r\nimport AppIconInput from './../components/IconInput'\r\nimport AppMenuItemInput from './../components/MenuItemInput'\r\nimport Rights from './../components/Rights'\r\n\r\nimport { mapActions } from 'vuex'\r\n \r\nimport collections from './../collections'\r\n export default {\r\n   name: 'Item',\r\n  \r\n   data () {\r\n     return {\r\n       loading: false,\r\n       collection: null,\r\n       tab: 0,\r\n       form: null,\r\n       found: true,\r\n       title: '',\r\n       data: {},\r\n       inputs: {\r\n         text: VTextField,\r\n         select: VSelect,\r\n         switch: VSwitch,\r\n         date: AppDatePicker,\r\n         autocomplete: AppAutoComplete,\r\n         password: AppPassword,\r\n         rights: Rights,\r\n         icon: AppIconInput,\r\n         menu_item: AppMenuItemInput\r\n       }\r\n     }\r\n   },\r\n   computed: {\r\n     tabs () {\r\n       return this.form ? this.form.map(e => e.label) : []\r\n     },\r\n     fields () {\r\n       return this.form ? this.form[this.tab].fields : []\r\n     },\r\n     isNew () {\r\n       return !this.$route.params.id\r\n     },\r\n     access () {\r\n        if (this.$store.state.auth.user.rights) {\r\n          return this.$store.state.auth.user.rights.filter(e => {\r\n              return e.value == this.$route.params.collection  \r\n          })\r\n        } \r\n        return []\r\n      },\r\n      updateAccess () {\r\n      \r\n        if (this.access.length > 0)\r\n          return this.access[0].update\r\n\r\n        return false \r\n      },\r\n      writeAccess () {\r\n      \r\n        if (this.access.length > 0)\r\n          return this.access[0].write\r\n\r\n        return false \r\n      },\r\n      deleteAccess () {\r\n         if (this.access.length > 0)\r\n          return this.access[0].delete\r\n\r\n        return false \r\n      },\r\n   },\r\n   methods: {\r\n     ...mapActions({\r\n       getItem: 'api/getById',\r\n       save: 'api/save',\r\n       remove: 'api/remove',\r\n       update: 'api/update',\r\n       success: 'success'\r\n\r\n     }),\r\n     async removeItem () {\r\n        const res = await this.$confirm('Are you sure do you want to delete this item ?', { title: 'Warning' })\r\n        if (res) {\r\n            await this.remove({ collection: this.$route.params.collection, id: this.$route.params.id })\r\n            this.$router.push('/'+this.$route.params.collection)\r\n            this.$store.commit('success', this.title +' deleted successfuly')\r\n        }\r\n        \r\n     },\r\n     generateDataInputs (collection, values) {\r\n       const data = {}\r\n       collection.forEach(e => {\r\n          e.fields.forEach(field => {\r\n             \r\n           if (field.name == 'password') return data[field.name] = ''\r\n             \r\n           if (field.input == 'date') { \r\n             if (values[field.name]) {\r\n               values[field.name] =  values[field.name].split('T')[0] \r\n             }\r\n           }\r\n\r\n\r\n          data[field.name] = ''\r\n          if (values[field.name]) {\r\n            data[field.name] = values[field.name]\r\n          } else if(field.default) {\r\n            data[field.name] = typeof field.default == \"function\" ? field.default(this.$store.state) : field.default\r\n          }\r\n\r\n            // data[field.name] = values[field.name] ? values[field.name] : (field.default || '')\r\n            \r\n          })\r\n       })\r\n       \r\n       this.data = data\r\n       \r\n     },\r\n     async validate (evt, saveAndNew = false) {\r\n        const { data,  collection, title} = this\r\n        if(this.$refs.form.validate()){\r\n         \r\n          \r\n          const res =  this.isNew ? await this.save({ collection, data }) : await this.update({ collection, data, id: this.$route.params.id })\r\n          // console.log(  res.data)\r\n          if (res) {\r\n            this.$store.commit('success', title + (!this.isNew ? ' updated' :' saved') +' successfuly')\r\n             if (saveAndNew) {\r\n              if (this.isNew){\r\n                console.log('new')\r\n                  this.generateDataInputs(this.form, {})\r\n                  this.$refs.form.resetValidation()\r\n              }\r\n                \r\n              else\r\n                this.$router.push('/'+this.$route.params.collection+'/new')\r\n\r\n              \r\n            }\r\n            else\r\n              this.$router.push('/'+this.$route.params.collection)\r\n          }\r\n        \r\n         \r\n        } else {\r\n          this.$store.commit('error', 'form not valid')\r\n        }\r\n         \r\n      } \r\n       \r\n   },\r\n   mounted () {\r\n     // access from tables.js\r\n      window.$form = this \r\n   },\r\n   destroyed () {\r\n     window.$form = null\r\n   },\r\n   async created () {\r\n      \r\n    const collection = collections.get(this.$route.params.collection)\r\n    this.collection = this.$route.params.collection\r\n    if (collection) {\r\n      this.title = collection.title\r\n      this.form = collection.form\r\n      let data = {}\r\n      if(this.$route.params.id || this.$route.query.clone) {\r\n        const id = this.$route.params.id || this.$route.query.clone\r\n        \r\n        this.loading = true\r\n        const res = await this.getItem({\r\n          collection: this.$route.params.collection,\r\n          id \r\n        })\r\n      \r\n        data = res.data\r\n        this.loading = false\r\n\r\n      }\r\n\r\n      this.generateDataInputs(this.form, data)\r\n    } else \r\n      this.found = false\r\n\r\n   }\r\n\r\n }\r\n</script>\r\n<style >\r\n.bottom-toolbar {\r\n  position: absolute !important;\r\n  bottom: 0;\r\n  left: 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Item.vue?vue&type=template&id=330ad172&\"\nimport script from \"./Item.vue?vue&type=script&lang=js&\"\nexport * from \"./Item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Item.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VForm,VRow,VSkeletonLoader,VSpacer,VTab,VTabItem,VTabs,VTabsItems,VToolbar})\n"],"sourceRoot":""}