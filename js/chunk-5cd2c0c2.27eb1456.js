(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cd2c0c2"],{"5b8f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-card",[n("v-card-title",[n("v-icon",{staticClass:"mx-2",attrs:{size:"36"}},[e._v(e._s(e.collectionOptions.icon))]),e._v(e._s(e.collectionOptions.title)+" "),n("v-spacer"),n("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.$router.push("/"+e.$route.params.collection+"/new")}}},[n("v-icon",[e._v("mdi-plus")]),e._v(" New ")],1)],1),n("v-card-text",[n("v-row",e._l(e.filters,(function(t,a){return n("v-col",{key:a,attrs:{sm:"4"}},[n(e.inputs[t.input],e._g(e._b({tag:"component",staticClass:"mx-1",attrs:{outlined:"",rounded:"",dense:"","hide-details":"",value:e.setFilterValue(e.$route.query[t.name]||null,t.name)},on:{input:function(n){return e.filter(t.name,n)}}},"component",t.bind,!1),t.on))],1)})),1)],1)],1),n("v-data-table",{staticClass:"my-5 elevation-1",attrs:{loading:e.loading,headers:e.headers,items:e.items,"hide-default-footer":"","multi-sort":""},on:{"update:options":e.tableOptions},scopedSlots:e._u([{key:"item.created_on",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.dateformat(new Date(n.created_on),"yyyy-mm-dd"))+" ")]}},{key:"item.payment_method.name",fn:function(t){var n=t.item;return[e._v(" "+e._s(n.payment_method.name)+" ("+e._s(n.payment_method.type)+") ")]}},{key:"item.amount",fn:function(t){var n=t.item;return[e._v(" "+e._s(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n.amount))+" ")]}},{key:"item.active",fn:function(e){var t=e.item;return[n("v-badge",{attrs:{color:t.active?"green":"grey"}})]}},{key:"item.read",fn:function(e){var t=e.item;return[n("v-badge",{attrs:{color:t.read?"green":"grey"}})]}},{key:"item.actions",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.cloneItem(a)}}},[e._v(" mdi-content-copy ")]),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}},{key:"loading",fn:function(){return[n("v-skeleton-loader",{staticClass:"mt-6",attrs:{height:"94",type:"list-item-three-line"}})]},proxy:!0},{key:"footer",fn:function(){return[n("v-pagination",{staticClass:"pa-4",attrs:{value:Number(e.$route.query.page)||1,length:e.totalPages,"total-visible":10,circle:""},on:{input:e.page}})]},proxy:!0}])})],1)},r=[],i=(n("a15b"),n("ac1f"),n("5319"),n("841c"),n("1276"),n("96cf"),n("1da1")),o=n("5530"),s=n("fb57"),c=n("2f62"),l=n("b9b9"),u=n.n(l),m=n("8654"),d=n("b974"),y=n("b73d"),f=n("bb0b"),p=n("e94a"),h=n("9db7"),g=n("1157"),v=n.n(g),b={name:"Items",data:function(){return{dateformat:u.a,collectionOptions:{},loading:!1,items:[],inputs:{text:m["a"],select:d["a"],switch:y["a"],date:p["a"],range:h["a"],autocomplete:f["a"]},totalPages:1}},computed:{filters:function(){return this.collectionOptions.filters},headers:function(){return this.collectionOptions.table},collection:function(){return this.$route.params.collection}},watch:{$route:{handler:"updateComponent",immediate:!0}},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])({get:"api/get",remove:"api/remove"})),{},{fetchData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.collection,console.log("Fetching data"),e.items=[],e.loading=!0,t.next=6,e.get({collection:n+window.location.search});case 6:a=t.sent,e.loading=!1,a&&200==a.status&&(e.items=a.data.docs,e.totalPages=a.data.totalPages);case 9:case"end":return t.stop()}}),t)})))()},updateComponent:function(){this.collectionOptions=s["default"].get(this.collection),this.collectionOptions?this.fetchData():this.$router.replace("./404")},page:function(e){var t=Object.assign({},this.$route.query);t.page=e;var n="/"+this.collection+"?"+v.a.param(t);console.log(n),this.$router.push(n)},tableOptions:function(e){console.log("table");var t=Object.assign({},this.$route.query);t["sortBy[]"]&&delete t["sortBy[]"],t["sortDesc[]"]&&delete t["sortDesc[]"],t.sortBy=e.sortBy,t.sortDesc=e.sortDesc;var n="/"+this.collection+"?"+v.a.param(t);this.$router.replace(n).catch((function(){}))},setFilterValue:function(e,t){return"created_on"==t&&e&&(e=e.split("|")),console.log(e),e},filter:function(e,t){"created_on"==e&&Array.isArray(t)&&(t=t.join("|"));var n=Object.assign({},this.$route.query);!t&&n[e]?delete n[e]:n[e]=t,n.page=1;var a="/"+this.collection+"?"+v.a.param(n);this.$router.replace(a),console.log(e,t)},editItem:function(e){this.$router.push("/"+this.$route.params.collection+"/"+e._id)},cloneItem:function(e){this.$router.push("/"+this.$route.params.collection+"/new?clone="+e._id)},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$confirm("Are you sure do you want to delete this item ?",{title:"Warning"});case 2:if(a=n.sent,!a){n.next=9;break}return t.loading=!0,n.next=7,t.remove({collection:t.$route.params.collection,id:e._id});case 7:r=n.sent,200===r.status&&(t.fetchData(),t.loading=!1,t.$store.commit("success","Item deleted successfuly"));case 9:case"end":return n.stop()}}),n)})))()}})},M=b,T=n("2877"),D=n("6544"),_=n.n(D),k=n("4ca6"),w=n("8336"),x=n("b0af"),N=n("99d9"),O=n("62ad"),$=n("a523"),C=n("8fea"),S=n("132d"),H=n("891e"),V=n("0fd9"),A=n("3129"),j=n("2fa4"),F=Object(T["a"])(M,a,r,!1,null,null,null);t["default"]=F.exports;_()(F,{VBadge:k["a"],VBtn:w["a"],VCard:x["a"],VCardText:N["d"],VCardTitle:N["e"],VCol:O["a"],VContainer:$["a"],VDataTable:C["a"],VIcon:S["a"],VPagination:H["a"],VRow:V["a"],VSkeletonLoader:A["a"],VSpacer:j["a"]})},"9db7":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{rounded:"",outlined:"",dense:"",value:e.dateRangeText,label:"Date range",readonly:"",clearable:""},on:{"click:clear":e.clear}},"v-text-field",r,!1),a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{attrs:{range:""},on:{input:e.input},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1)},r=[],i=(n("a15b"),{name:"date-picker",props:{value:Array},data:function(){return{menu:!1,dates:[]}},methods:{input:function(e){e.length>1&&(this.menu=!1,this.$emit("input",e))},clear:function(){this.dates=[],this.$emit("input",[])}},computed:{dateRangeText:function(){return this.dates.join(" ~ ")}},created:function(){this.value&&(this.dates=this.value)}}),o=i,s=n("2877"),c=n("6544"),l=n.n(c),u=n("2e4b"),m=n("e449"),d=n("8654"),y=Object(s["a"])(o,a,r,!1,null,null,null);t["a"]=y.exports;l()(y,{VDatePicker:u["a"],VMenu:m["a"],VTextField:d["a"]})},b9b9:function(e,t,n){var a;(function(r){"use strict";var i=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(a,r,u,m){if(1!==arguments.length||"string"!==l(a)||/\d/.test(a)||(r=a,a=void 0),a=a||new Date,a instanceof Date||(a=new Date(a)),isNaN(a))throw TypeError("Invalid date");r=String(i.masks[r]||r||i.masks["default"]);var d=r.slice(0,4);"UTC:"!==d&&"GMT:"!==d||(r=r.slice(4),u=!0,"GMT:"===d&&(m=!0));var y=u?"getUTC":"get",f=a[y+"Date"](),p=a[y+"Day"](),h=a[y+"Month"](),g=a[y+"FullYear"](),v=a[y+"Hours"](),b=a[y+"Minutes"](),M=a[y+"Seconds"](),T=a[y+"Milliseconds"](),D=u?0:a.getTimezoneOffset(),_=s(a),k=c(a),w={d:f,dd:o(f),ddd:i.i18n.dayNames[p],dddd:i.i18n.dayNames[p+7],m:h+1,mm:o(h+1),mmm:i.i18n.monthNames[h],mmmm:i.i18n.monthNames[h+12],yy:String(g).slice(2),yyyy:g,h:v%12||12,hh:o(v%12||12),H:v,HH:o(v),M:b,MM:o(b),s:M,ss:o(M),l:o(T,3),L:o(Math.round(T/10)),t:v<12?i.i18n.timeNames[0]:i.i18n.timeNames[1],tt:v<12?i.i18n.timeNames[2]:i.i18n.timeNames[3],T:v<12?i.i18n.timeNames[4]:i.i18n.timeNames[5],TT:v<12?i.i18n.timeNames[6]:i.i18n.timeNames[7],Z:m?"GMT":u?"UTC":(String(a).match(t)||[""]).pop().replace(n,""),o:(D>0?"-":"+")+o(100*Math.floor(Math.abs(D)/60)+Math.abs(D)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10],W:_,N:k};return r.replace(e,(function(e){return e in w?w[e]:e.slice(1,e.length-1)}))}}();function o(e,t){e=String(e),t=t||2;while(e.length<t)e="0"+e;return e}function s(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var a=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-a);var r=(t-n)/6048e5;return 1+Math.floor(r)}function c(e){var t=e.getDay();return 0===t&&(t=7),t}function l(e){return null===e?"null":void 0===e?"undefined":"object"!==typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}i.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},i.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},a=function(){return i}.call(t,n,t,e),void 0===a||(e.exports=a)})()}}]);
//# sourceMappingURL=chunk-5cd2c0c2.27eb1456.js.map