(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d38a6"],{"5cce":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("h1",{staticClass:"headline my-4"},[n("v-icon",{attrs:{size:"30"}},[t._v(t._s(t.collection.icon))]),t._v(" "+t._s(t.title)+" ")],1),t.isUpdateMany?n("v-alert",{staticClass:"ma-0 my-4",attrs:{icon:t.updateIdsCount?"mdi-information-outline":"mdi-alert-octagon-outline",color:t.updateIdsCount?"info":"warning",dark:"",outlined:""}},[t.updateIdsCount?n("span",{staticClass:"font-weight-bold"},[t._v(" Set the values of the requierd fields to be change in ("+t._s(t.updateIdsCount)+") items or leave it blank to make no change for the field")]):n("span",{staticClass:"font-weight-bold"},[t._v(" No item has been selected to make change! ")])]):t._e(),t.collectionButtons?n("v-toolbar",{attrs:{flat:"",fixed:"",dense:t.$vuetify.breakpoint.xsOnly}},[t._l(t.collectionButtons,(function(e,a){return[e.spacer?n("v-spacer",{key:a}):n("v-btn",t._g(t._b({key:a,staticClass:"mx-1",attrs:{small:t.$vuetify.breakpoint.xsOnly,outlined:""}},"v-btn","function"==typeof e.bind?e.bind(t.vm):e.bind,!1),"function"==typeof e.on?e.on(t.vm):e.on),[e.icon?n("v-icon",[t._v(t._s(e.icon))]):t._e(),t.$vuetify.breakpoint.xsOnly?t._e():n("span",[t._v(" "+t._s(e.title)+" ")])],1)]}))],2):t._e(),n("v-form",{ref:"form"},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"8",id:"content"}},t._l(t.contentPanels,(function(e,a){return n("v-card",{key:a,staticClass:"mb-4"},[e.title?n("v-card-title",[t.loading?n("v-skeleton-loader",{attrs:{type:"card-heading",width:"100%"}}):n("span",[e.icon?n("v-icon",{staticClass:"mx-1",attrs:{size:"25"}},[t._v(" "+t._s(e.icon)+" ")]):t._e(),t._v(" "+t._s(e.title)+" ")],1),n("v-spacer"),t._l(t.filteredPanelButtons(e.buttons),(function(e,a){return n("v-btn",t._g(t._b({key:a,staticClass:"mx-1",attrs:{small:t.$vuetify.breakpoint.xsOnly,outlined:""}},"v-btn","function"==typeof e.bind?e.bind(t.vm):e.bind,!1),"function"==typeof e.on?e.on(t.vm):e.on),[e.icon?n("v-icon",[t._v(t._s(e.icon))]):t._e(),t.$vuetify.breakpoint.xsOnly?t._e():n("span",[t._v(" "+t._s(e.title)+" ")])],1)}))],2):t._e(),n("v-card-text",{staticClass:"py-0"},[n("v-row",t._l(t.filterFields(e.fields),(function(e,a){return n("v-col",t._b({key:a,attrs:{cols:"12"}},"v-col",e.col,!1),[t.loading?n("v-skeleton-loader",{staticClass:"pa-0",attrs:{type:"list-item"}}):n(t.inputs[e.input],t._g(t._b({tag:"component",attrs:{field:e,outlined:"",dense:""},model:{value:t.data[e.name],callback:function(n){t.$set(t.data,e.name,n)},expression:"data[field.name]"}},"component",t.getProps("function"==typeof e.bind?e.bind(t.vm):e.bind,t.collectionName+"_"+e.name),!1),"function"==typeof e.on?e.on(t.vm):e.on))],1)})),1)],1)],1)})),1),n("v-col",{attrs:{cols:"12",md:"4",id:"sidebar"}},t._l(t.sidebarPanels,(function(e,a){return n("v-card",{key:a,staticClass:"mb-4"},[e.title?n("v-card-title",[t.loading?n("v-skeleton-loader",{attrs:{type:"card-heading",width:"100%"}}):n("span",[e.icon?n("v-icon",{staticClass:"mx-1",attrs:{size:"25"}},[t._v(" "+t._s(e.icon)+" ")]):t._e(),t._v(" "+t._s(e.title)+" ")],1),n("v-spacer"),t._l(t.filteredPanelButtons(e.buttons),(function(e,a){return n("v-btn",t._g(t._b({key:a,staticClass:"mx-1",attrs:{small:t.$vuetify.breakpoint.xsOnly,outlined:""}},"v-btn","function"==typeof e.bind?e.bind(t.vm):e.bind,!1),"function"==typeof e.on?e.on(t.vm):e.on),[e.icon?n("v-icon",[t._v(t._s(e.icon))]):t._e(),t.$vuetify.breakpoint.xsOnly?t._e():n("span",[t._v(" "+t._s(e.title)+" ")])],1)}))],2):t._e(),n("v-card-text",{staticClass:"py-0"},[n("v-row",t._l(t.filterFields(e.fields),(function(e,a){return n("v-col",t._b({key:a,attrs:{cols:"12"}},"v-col",e.col,!1),[t.loading?n("v-skeleton-loader",{staticClass:"pa-0",attrs:{type:"list-item"}}):n(t.inputs[e.input],t._g(t._b({tag:"component",attrs:{field:e,outlined:"",dense:""},model:{value:t.data[e.name],callback:function(n){t.$set(t.data,e.name,n)},expression:"data[field.name]"}},"component",t.getProps("function"==typeof e.bind?e.bind(t.vm):e.bind,t.collectionName+"_"+e.name),!1),"function"==typeof e.on?e.on(t.vm):e.on))],1)})),1)],1)],1)})),1)],1)],1)],1)},i=[],o=(n("99af"),n("a623"),n("4de4"),n("4160"),n("c975"),n("d81d"),n("b0c0"),n("b64b"),n("07ac"),n("ac1f"),n("5319"),n("159b"),n("96cf"),n("1da1")),s=n("2909"),r=n("53ca"),c=n("fb57"),l=n("8654"),u=n("a844"),d=n("b974"),f=n("b73d"),p=n("bb0b"),b=n("e94a"),m=n("9db7"),h=n("5f2f"),v=n("89e6"),_=n("1b5f"),y=n("3b4f"),g=n("d6a0"),C={name:"Item",data:function(){return{data:{},props:{},loading:!1}},computed:{vm:function(){return this},inputs:function(){return{text:l["a"],textarea:u["a"],select:d["a"],switch:f["a"],date:b["a"],range:m["a"],autocomplete:p["a"],assignment:h["a"],"profile-image":v["a"],password:_["a"],rights:g["a"],"menu-items":y["a"]}},id:function(){return this.$route.params.id},clone:function(){return this.$route.query.clone},isNew:function(){return"new"==this.id.toLowerCase()},isUpdateMany:function(){return"update"==this.id.toLowerCase()},updateIds:function(){return this.$route.query["_id[]"]},updateIdsCount:function(){return Array.isArray(this.updateIds)?this.updateIds.length:this.updateIds?1:0},isClone:function(){return Boolean(this.clone)},title:function(){return this.isNew?"New ".concat(this.collectionTitle):this.collectionTitle},collectionName:function(){return this.$route.params.collection},collection:function(){return c["default"].get(this.collectionName)},collectionButtons:function(){var t=this;return!!this.collection.item.buttons&&this.collection.item.buttons.filter((function(e){if(!e.if)return!0;switch(Object(r["a"])(e.if)){case"function":return e.if(t);case"boolean":return e.if;default:return!0}}))},collectionTitle:function(){return this.collection.title.singular||this.collection.title},sidebar:function(){return this.collection.item.sidebar},sidebarPanels:function(){return this.filterPanel(this.sidebar.panels)},content:function(){return this.collection.item.content},contentPanels:function(){return this.filterPanel(this.content.panels)},fields:function(){var t=[].concat(Object(s["a"])(this.content.panels),Object(s["a"])(this.sidebar.panels)),e=[];return t.forEach((function(t){t.fields&&(e=e.concat(t.fields))})),e},dataIsNull:function(){return Object.values(this.data).every((function(t){return null===t||void 0===t}))}},watch:{user:{handler:"updateComponent"},$route:{handler:"updateComponent",immediate:!0}},methods:{filterPanel:function(t){var e=this;return t.map((function(t){var n=Object.assign({},t);return n.fields=e.filterFields(t.fields),n})).filter((function(t){return t.fields.length})).filter((function(t){if(console.log(t),!t.if)return!0;switch(Object(r["a"])(t.if)){case"function":return t.if(e);case"boolean":return t.if;default:return!0}}))},filterFields:function(t){var e=this,n=Object.assign([],t);return n.filter((function(t){if(!t.if)return!0;switch(Object(r["a"])(t.if)){case"function":return t.if(e);case"boolean":return t.if;default:return!0}}))},filteredPanelButtons:function(t){var e=this,n=Object.assign([],t);return n.filter((function(t){if(e.loading)return!1;if(!t.if)return!0;switch(Object(r["a"])(t.if)){case"function":return t.if(e);case"boolean":return t.if;default:return!0}}))},getProps:function(t,e){return this.isUpdateMany&&t&&(Object.prototype.hasOwnProperty.call(t,"rules")&&(delete t.required,delete t.rules),this.updateIdsCount||(t.disabled=!0)),this.props[e]?Object.assign({},t,this.props[e]):t},resetComponent:function(){this.data={},this.props={}},hasCachedState:function(){var t=btoa(this.$route.path),e=localStorage.getItem("backURL");return!!e&&JSON.parse(e).backURL==t},setCachedState:function(){var t=this,e=localStorage.getItem("backURL"),n=JSON.parse(e),a=n.cachState;Object.keys(a).forEach((function(e){t[e]=a[e]})),localStorage.removeItem("backURL")},updateComponent:function(){this.resetComponent(),this.setDataValues(),this.hasCachedState()?this.setCachedState():this.fetch()},fetch:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isNew&&!t.isClone||t.isUpdateMany){e.next=10;break}return t.loading=!0,n=t.isClone?t.clone:t.id,a=t.$route.query.fields,e.next=6,t.getItem({collection:t.collectionName,id:n});case 6:i=e.sent,i&&i.data||t.$router.replace("/404"),t.fields.forEach((function(e){if(e.name&&i.data[e.name]){if(!t.isNew&&"password"==e.input)return;t.clone&&a&&a.length?-1!==a.indexOf(e.name)&&(t.data[e.name]=i.data[e.name]):t.data[e.name]=i.data[e.name]}})),t.loading=!1;case 10:case"end":return e.stop()}}),e)})))()},setDataValues:function(){var t=this,e={};this.fields.forEach((function(n){n.name&&(e[n.name]=null,Object.prototype.hasOwnProperty.call(n,"default")&&!t.isUpdateMany&&("function"==typeof n.default?e[n.name]=n.default(t):e[n.name]=n.default))})),this.data=e}}},k=C,w=n("2877"),O=n("6544"),x=n.n(O),$=n("0798"),I=n("8336"),j=n("b0af"),P=n("99d9"),V=n("62ad"),N=n("a523"),S=n("4bd4"),U=n("132d"),B=n("0fd9"),L=n("3129"),R=n("2fa4"),T=n("71d9"),q=Object(w["a"])(k,a,i,!1,null,null,null);e["default"]=q.exports;x()(q,{VAlert:$["a"],VBtn:I["a"],VCard:j["a"],VCardText:P["d"],VCardTitle:P["e"],VCol:V["a"],VContainer:N["a"],VForm:S["a"],VIcon:U["a"],VRow:B["a"],VSkeletonLoader:L["a"],VSpacer:R["a"],VToolbar:T["a"]})}}]);
//# sourceMappingURL=chunk-2d0d38a6.f3c562a2.js.map