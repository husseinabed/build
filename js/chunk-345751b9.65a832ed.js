(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-345751b9"],{"0d3b":function(e,t,n){var a=n("d039"),i=n("b622"),r=n("c430"),o=i("iterator");e.exports=!a((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,a){t["delete"]("b"),n+=a+e})),r&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},"177a":function(e,t,n){"use strict";n.r(t);n("ac1f"),n("5319");t["default"]={title:"Roles",icon:"mdi-key",table:[{text:"Display Name",align:"start",sortable:!1,value:"name"},{text:"Role",value:"role"},{text:"Menu",value:"menu.name"},{text:"Actions",value:"actions",width:"100"}],form:[{label:"General",fields:[{input:"text",name:"name",bind:{label:"Role Name",prependIcon:"mdi-label",required:!0,rules:[function(e){return!!e||"Display Name is required"}]},on:function(){return{input:function(e){var t=e.replace(/[^0-9a-zA-Z\s+]+/,"").replace(/\s+/g,"_").toLowerCase();window.$form.data.role=t}}}},{input:"text",name:"role",bind:{label:"Role Alias",autocomplete:"username",prependIcon:"mdi-key",required:!0,rules:[function(e){return!!e||"Role Alias is required"}]}},{input:"autocomplete",name:"menu",bind:{label:"Menu",prependIcon:"mdi-menu",collection:"menu",itemText:"name",itemValue:"_id"}},{input:"rights",name:"rights",default:[],bind:{label:"Permissions"}}]}]}},"1b5f":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",e._b({attrs:{value:e.value,autocomplete:"current-password","append-icon":e.show?"mdi-eye":"mdi-eye-off",type:e.show?"text":"password",counter:""},on:{input:function(t){return e.$emit("input",t)},"click:append":function(t){e.show=!e.show}}},"v-text-field",e.$attrs,!1))},i=[],r={name:"password",props:{value:String},data:function(){return{show:!1}}},o=r,l=n("2877"),u=n("6544"),c=n.n(u),s=n("8654"),d=Object(l["a"])(o,a,i,!1,null,null,null);t["a"]=d.exports;c()(d,{VTextField:s["a"]})},"267a":function(e,t,n){"use strict";n.r(t),t["default"]={title:"Business",icon:"mdi-domain",table:[{text:"Name",align:"start",sortable:!1,value:"name"},{text:"Actions",value:"actions",width:"100"}],form:[{label:"General",fields:[{input:"text",name:"name",bind:{label:"Name",rules:[function(e){return!!e||"Name is required"}],required:!0}}]}]}},"2b3d":function(e,t,n){"use strict";n("3ca3");var a,i=n("23e7"),r=n("83ab"),o=n("0d3b"),l=n("da84"),u=n("37e8"),c=n("6eeb"),s=n("19aa"),d=n("5135"),m=n("60da"),f=n("4df4"),p=n("6547").codeAt,h=n("5fb2"),b=n("d44e"),v=n("9861"),g=n("69f3"),w=l.URL,x=v.URLSearchParams,y=v.getState,A=g.set,I=g.getterFor("URL"),T=Math.floor,k=Math.pow,S="Invalid authority",q="Invalid scheme",_="Invalid host",N="Invalid port",R=/[A-Za-z]/,C=/[\d+-.A-Za-z]/,V=/\d/,O=/^(0x|0X)/,M=/^[0-7]+$/,D=/^\d+$/,L=/^[\dA-Fa-f]+$/,U=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,B=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,P=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\u0009\u000A\u000D]/g,G=function(e,t){var n,a,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return _;if(n=$(t.slice(1,-1)),!n)return _;e.host=n}else if(Q(e)){if(t=h(t),U.test(t))return _;if(n=j(t),null===n)return _;e.host=n}else{if(B.test(t))return _;for(n="",a=f(t),i=0;i<a.length;i++)n+=z(a[i],H);e.host=n}},j=function(e){var t,n,a,i,r,o,l,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),t=u.length,t>4)return e;for(n=[],a=0;a<t;a++){if(i=u[a],""==i)return e;if(r=10,i.length>1&&"0"==i.charAt(0)&&(r=O.test(i)?16:8,i=i.slice(8==r?1:2)),""===i)o=0;else{if(!(10==r?D:8==r?M:L).test(i))return e;o=parseInt(i,r)}n.push(o)}for(a=0;a<t;a++)if(o=n[a],a==t-1){if(o>=k(256,5-t))return null}else if(o>255)return null;for(l=n.pop(),a=0;a<n.length;a++)l+=n[a]*k(256,3-a);return l},$=function(e){var t,n,a,i,r,o,l,u=[0,0,0,0,0,0,0,0],c=0,s=null,d=0,m=function(){return e.charAt(d)};if(":"==m()){if(":"!=e.charAt(1))return;d+=2,c++,s=c}while(m()){if(8==c)return;if(":"!=m()){t=n=0;while(n<4&&L.test(m()))t=16*t+parseInt(m(),16),d++,n++;if("."==m()){if(0==n)return;if(d-=n,c>6)return;a=0;while(m()){if(i=null,a>0){if(!("."==m()&&a<4))return;d++}if(!V.test(m()))return;while(V.test(m())){if(r=parseInt(m(),10),null===i)i=r;else{if(0==i)return;i=10*i+r}if(i>255)return;d++}u[c]=256*u[c]+i,a++,2!=a&&4!=a||c++}if(4!=a)return;break}if(":"==m()){if(d++,!m())return}else if(m())return;u[c++]=t}else{if(null!==s)return;d++,c++,s=c}}if(null!==s){o=c-s,c=7;while(0!=c&&o>0)l=u[c],u[c--]=u[s+o-1],u[s+--o]=l}else if(8!=c)return;return u},E=function(e){for(var t=null,n=1,a=null,i=0,r=0;r<8;r++)0!==e[r]?(i>n&&(t=a,n=i),a=null,i=0):(null===a&&(a=r),++i);return i>n&&(t=a,n=i),t},K=function(e){var t,n,a,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=T(e/256);return t.join(".")}if("object"==typeof e){for(t="",a=E(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),a===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},H={},J=m({},H,{" ":1,'"':1,"<":1,">":1,"`":1}),Z=m({},J,{"#":1,"?":1,"{":1,"}":1}),W=m({},Z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(e,t){var n=p(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(e){return d(Y,e.scheme)},X=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&R.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ae=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},re=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},oe={},le={},ue={},ce={},se={},de={},me={},fe={},pe={},he={},be={},ve={},ge={},we={},xe={},ye={},Ae={},Ie={},Te={},ke={},Se={},qe=function(e,t,n,i){var r,o,l,u,c=n||oe,s=0,m="",p=!1,h=!1,b=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(P,"")),t=t.replace(F,""),r=f(t);while(s<=r.length){switch(o=r[s],c){case oe:if(!o||!R.test(o)){if(n)return q;c=ue;continue}m+=o.toLowerCase(),c=le;break;case le:if(o&&(C.test(o)||"+"==o||"-"==o||"."==o))m+=o.toLowerCase();else{if(":"!=o){if(n)return q;m="",c=ue,s=0;continue}if(n&&(Q(e)!=d(Y,m)||"file"==m&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=m,n)return void(Q(e)&&Y[e.scheme]==e.port&&(e.port=null));m="","file"==e.scheme?c=we:Q(e)&&i&&i.scheme==e.scheme?c=ce:Q(e)?c=fe:"/"==r[s+1]?(c=se,s++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Te)}break;case ue:if(!i||i.cannotBeABaseURL&&"#"!=o)return q;if(i.cannotBeABaseURL&&"#"==o){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,c=Se;break}c="file"==i.scheme?we:de;continue;case ce:if("/"!=o||"/"!=r[s+1]){c=de;continue}c=pe,s++;break;case se:if("/"==o){c=he;break}c=Ie;continue;case de:if(e.scheme=i.scheme,o==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==o||"\\"==o&&Q(e))c=me;else if("?"==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",c=ke;else{if("#"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),c=Ie;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=Se}break;case me:if(!Q(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,c=Ie;continue}c=he}else c=pe;break;case fe:if(c=pe,"/"!=o||"/"!=m.charAt(s+1))continue;s++;break;case pe:if("/"!=o&&"\\"!=o){c=he;continue}break;case he:if("@"==o){p&&(m="%40"+m),p=!0,l=f(m);for(var v=0;v<l.length;v++){var g=l[v];if(":"!=g||b){var w=z(g,W);b?e.password+=w:e.username+=w}else b=!0}m=""}else if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(p&&""==m)return S;s-=f(m).length+1,m="",c=be}else m+=o;break;case be:case ve:if(n&&"file"==e.scheme){c=ye;continue}if(":"!=o||h){if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(Q(e)&&""==m)return _;if(n&&""==m&&(X(e)||null!==e.port))return;if(u=G(e,m),u)return u;if(m="",c=Ae,n)return;continue}"["==o?h=!0:"]"==o&&(h=!1),m+=o}else{if(""==m)return _;if(u=G(e,m),u)return u;if(m="",c=ge,n==ve)return}break;case ge:if(!V.test(o)){if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)||n){if(""!=m){var x=parseInt(m,10);if(x>65535)return N;e.port=Q(e)&&x===Y[e.scheme]?null:x,m=""}if(n)return;c=Ae;continue}return N}m+=o;break;case we:if(e.scheme="file","/"==o||"\\"==o)c=xe;else{if(!i||"file"!=i.scheme){c=Ie;continue}if(o==a)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==o)e.host=i.host,e.path=i.path.slice(),e.query="",c=ke;else{if("#"!=o){ne(r.slice(s).join(""))||(e.host=i.host,e.path=i.path.slice(),ae(e)),c=Ie;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=Se}}break;case xe:if("/"==o||"\\"==o){c=ye;break}i&&"file"==i.scheme&&!ne(r.slice(s).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),c=Ie;continue;case ye:if(o==a||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&te(m))c=Ie;else if(""==m){if(e.host="",n)return;c=Ae}else{if(u=G(e,m),u)return u;if("localhost"==e.host&&(e.host=""),n)return;m="",c=Ae}continue}m+=o;break;case Ae:if(Q(e)){if(c=Ie,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=a&&(c=Ie,"/"!=o))continue}else e.fragment="",c=Se;else e.query="",c=ke;break;case Ie:if(o==a||"/"==o||"\\"==o&&Q(e)||!n&&("?"==o||"#"==o)){if(re(m)?(ae(e),"/"==o||"\\"==o&&Q(e)||e.path.push("")):ie(m)?"/"==o||"\\"==o&&Q(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(m)&&(e.host&&(e.host=""),m=m.charAt(0)+":"),e.path.push(m)),m="","file"==e.scheme&&(o==a||"?"==o||"#"==o))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==o?(e.query="",c=ke):"#"==o&&(e.fragment="",c=Se)}else m+=z(o,Z);break;case Te:"?"==o?(e.query="",c=ke):"#"==o?(e.fragment="",c=Se):o!=a&&(e.path[0]+=z(o,H));break;case ke:n||"#"!=o?o!=a&&("'"==o&&Q(e)?e.query+="%27":e.query+="#"==o?"%23":z(o,H)):(e.fragment="",c=Se);break;case Se:o!=a&&(e.fragment+=z(o,J));break}s++}},_e=function(e){var t,n,a=s(this,_e,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),l=A(a,{type:"URL"});if(void 0!==i)if(i instanceof _e)t=I(i);else if(n=qe(t={},String(i)),n)throw TypeError(n);if(n=qe(l,o,null,t),n)throw TypeError(n);var u=l.searchParams=new x,c=y(u);c.updateSearchParams(l.query),c.updateURL=function(){l.query=String(u)||null},r||(a.href=Re.call(a),a.origin=Ce.call(a),a.protocol=Ve.call(a),a.username=Oe.call(a),a.password=Me.call(a),a.host=De.call(a),a.hostname=Le.call(a),a.port=Ue.call(a),a.pathname=Be.call(a),a.search=Pe.call(a),a.searchParams=Fe.call(a),a.hash=Ge.call(a))},Ne=_e.prototype,Re=function(){var e=I(this),t=e.scheme,n=e.username,a=e.password,i=e.host,r=e.port,o=e.path,l=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",X(e)&&(c+=n+(a?":"+a:"")+"@"),c+=K(i),null!==r&&(c+=":"+r)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==l&&(c+="?"+l),null!==u&&(c+="#"+u),c},Ce=function(){var e=I(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(a){return"null"}return"file"!=t&&Q(e)?t+"://"+K(e.host)+(null!==n?":"+n:""):"null"},Ve=function(){return I(this).scheme+":"},Oe=function(){return I(this).username},Me=function(){return I(this).password},De=function(){var e=I(this),t=e.host,n=e.port;return null===t?"":null===n?K(t):K(t)+":"+n},Le=function(){var e=I(this).host;return null===e?"":K(e)},Ue=function(){var e=I(this).port;return null===e?"":String(e)},Be=function(){var e=I(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Pe=function(){var e=I(this).query;return e?"?"+e:""},Fe=function(){return I(this).searchParams},Ge=function(){var e=I(this).fragment;return e?"#"+e:""},je=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(r&&u(Ne,{href:je(Re,(function(e){var t=I(this),n=String(e),a=qe(t,n);if(a)throw TypeError(a);y(t.searchParams).updateSearchParams(t.query)})),origin:je(Ce),protocol:je(Ve,(function(e){var t=I(this);qe(t,String(e)+":",oe)})),username:je(Oe,(function(e){var t=I(this),n=f(String(e));if(!ee(t)){t.username="";for(var a=0;a<n.length;a++)t.username+=z(n[a],W)}})),password:je(Me,(function(e){var t=I(this),n=f(String(e));if(!ee(t)){t.password="";for(var a=0;a<n.length;a++)t.password+=z(n[a],W)}})),host:je(De,(function(e){var t=I(this);t.cannotBeABaseURL||qe(t,String(e),be)})),hostname:je(Le,(function(e){var t=I(this);t.cannotBeABaseURL||qe(t,String(e),ve)})),port:je(Ue,(function(e){var t=I(this);ee(t)||(e=String(e),""==e?t.port=null:qe(t,e,ge))})),pathname:je(Be,(function(e){var t=I(this);t.cannotBeABaseURL||(t.path=[],qe(t,e+"",Ae))})),search:je(Pe,(function(e){var t=I(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",qe(t,e,ke)),y(t.searchParams).updateSearchParams(t.query)})),searchParams:je(Fe),hash:je(Ge,(function(e){var t=I(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",qe(t,e,Se)):t.fragment=null}))}),c(Ne,"toJSON",(function(){return Re.call(this)}),{enumerable:!0}),c(Ne,"toString",(function(){return Re.call(this)}),{enumerable:!0}),w){var $e=w.createObjectURL,Ee=w.revokeObjectURL;$e&&c(_e,"createObjectURL",(function(e){return $e.apply(w,arguments)})),Ee&&c(_e,"revokeObjectURL",(function(e){return Ee.apply(w,arguments)}))}b(_e,"URL"),i({global:!0,forced:!o,sham:!r},{URL:_e})},"2d47":function(e,t,n){"use strict";n.r(t);n("4de4"),n("d3b7"),n("ac1f"),n("3ca3"),n("841c"),n("1276"),n("ddb0"),n("2b3d");t["default"]={title:"Deposits",icon:"mdi-bank-transfer-in",withdraw:!0,filters:[{input:"autocomplete",name:"business",if:function(e){return!e.auth.user.business},bind:{label:"Business Unit",prependInnerIcon:"mdi-domain",collection:"business",itemText:"name",itemValue:"_id",hideAddNew:!0}},{input:"autocomplete",name:"department",if:function(e){return!e.auth.user.department},bind:{label:"Department",prependInnerIcon:"mdi-briefcase-account-outline",collection:"department",itemText:"name",itemValue:"_id",hideAddNew:!0},on:{input:function(e){var t=window.$items.$refs.user;!e&&t[0].query.department?delete t[0].query.department:e&&(t[0].query.department=e)}}},{input:"autocomplete",name:"user",if:function(e){return"all"==e.auth.user.rights.filter((function(e){return"deposit"==e.collection}))[0].write.allOwn},bind:{label:"Owner",prependInnerIcon:"mdi-account",collection:"user",itemText:"displayName",itemValue:"_id",hideAddNew:!0,or:!1,query:{role:["!wakel","!affiliate"]}}},{input:"autocomplete",name:"customer",bind:{label:"Account",prependInnerIcon:"mdi-account-box",collection:"customer",itemText:"name",itemValue:"_id",searchFields:["name","tpc"],hideAddNew:!0}},{input:"range",name:"created_on",bind:{label:"Date",prependInnerIcon:"mdi-calendar"}}],table:[{text:"TP Account",align:"start",value:"customer.tpc",sortable:!1},{text:"Account name",sortable:!1,value:"customer.name"},{text:"Type",sortable:!1,value:"type"},{text:"Amount",value:"amount"},{text:"Payment Method",sortable:!1,value:"payment_method.name"},{text:"Affiliate",value:"customer.affiliate.name"},{text:"Sub Affiliate",value:"customer.subaffiliate.name"},{text:"Created Date",value:"created_on",width:"120"},{text:"Note",value:"note"},{text:"Business Unit",value:"business.name",sortable:!1},{text:"Department",value:"department.name",sortable:!1},{text:"Owner",sortable:!1,value:"user.displayName"},{text:"Actions",value:"actions",sortable:!1,width:"150"}],form:[{label:"General",fields:[{input:"autocomplete",name:"customer",bind:{label:"Account",prependIcon:"mdi-account-box",collection:"customer",itemText:"name",itemValue:"_id",required:!0,searchFields:["name","tpc"],rules:[function(e){return!!e||"Account is required"}]}},{input:"text",name:"amount",bind:{label:"Amount",prependIcon:"mdi-cash",required:!0,type:"number",rules:[function(e){return!!e||"Amount is required"}]}},{input:"autocomplete",name:"payment_method",if:function(){var e=new URLSearchParams(location.search);return"wtd"!=e.get("type")},default:function(){return null},bind:{label:"Payment Method",prependIcon:"mdi-credit-card-settings-outline",collection:"payment_method",itemText:"name",itemValue:"_id",required:!0,rules:[function(e){return!!e||"Payment Method is required"}]}},{input:"hidden",name:"type",default:function(){var e=new URLSearchParams(location.search);return e.get("type")}},{input:"date",name:"created_on",default:(new Date).toISOString().split("T")[0],bind:{label:"Created Date",prependIcon:"mdi-calendar",required:!0,rules:[function(e){return!!e||"Created On is required"}]}},{input:"textarea",name:"note",bind:{label:"Note",prependIcon:"mdi-message",outlined:!0}},{input:"autocomplete",name:"business",if:function(e){return!e.auth.user.business},default:function(e){return e.auth.user.business},bind:{label:"Business Unit",prependIcon:"mdi-domain",collection:"business",itemText:"name",itemValue:"_id",required:!0,rules:[function(e){return!!e||"Business Unit is required"}]}},{input:"autocomplete",name:"department",if:function(e){return!e.auth.user.department},default:function(e){return e.auth.user.department},bind:{label:"Department",prependIcon:"mdi-briefcase-account-outline",collection:"department",itemText:"name",itemValue:"_id",required:!0,rules:[function(e){return!!e||"Department is required"}]},on:function(){return{input:function(e){var t=window.$form.$refs.deposit_user;!e&&t[0].query.department?delete t[0].query.department:e&&(t[0].query.department=e)}}}},{input:"autocomplete",name:"user",if:function(e){return"all"==e.auth.user.rights.filter((function(e){return"deposit"==e.collection}))[0].write.allOwn},default:function(e){return e.auth.user._id},bind:{label:"Owner",prependIcon:"mdi-account",collection:"user",itemText:"displayName",itemValue:"_id",required:!0,rules:[function(e){return!!e||"Owner is required"}],or:!1,query:{role:["!wakel","!affiliate"]}}}]}]}},3310:function(e,t,n){"use strict";n.r(t);n("4de4"),n("c975"),n("ac1f"),n("5319");var a=n("3835"),i=n("445d"),r=n("4360");t["default"]={title:"Customers",icon:"mdi-account-box",get assign(){return-1!==["admin","owner","manager"].indexOf(r["a"].state.auth.user.role)},get select(){return-1!==["admin","owner","manager"].indexOf(r["a"].state.auth.user.role)},buttons:[{text:"New Deposit",icon:"mdi-bank-transfer-in",bind:{dark:!0,small:!0,color:"green"},on:function(e){return{click:function(){var t=e.$route.params.id;e.$router.replace({path:"/deposit/new?customer="+t,query:{backMode:!0}})}}}}],filters:[{input:"text",name:"tpc",bind:{label:"TP Account",prependIcon:"mdi-card-account-details"}},{input:"text",name:"name",bind:{label:"Account Name",prependIcon:"mdi-account-box"}},{input:"autocomplete",name:"country",bind:{label:"Country",prependIcon:"mdi-flag",items:i["a"],itemText:"name",itemValue:"code",hideAddNew:!0}},{input:"autocomplete",name:"affiliate",bind:{label:"Affiliate",collection:"affiliate",itemText:"name",itemValue:"_id",prependIcon:"mdi-account-network-outline"}},{input:"autocomplete",name:"user",if:function(e){return"all"==e.auth.user.rights.filter((function(e){return"customer"==e.collection}))[0].write.allOwn},bind:{label:"Owner",prependIcon:"mdi-account",collection:"user",itemText:"displayName",itemValue:"_id",hideAddNew:!0,or:!1,query:{role:["!wakel","!affiliate"]}}},{input:"select",name:"status",bind:{label:"Status",items:[{text:"All",value:null},{text:"New",value:"new"},{text:"Call again",value:"call again"},{text:"No Answer",value:"no Answer"},{text:"Not interested",value:"not interested"}],itemText:"text",itemValue:"value",prependIcon:"mdi-list-status"}}],table:[{text:"TP Account",align:"start",value:"tpc",sortable:!1},{text:"Account name",value:"name",sortable:!1},{text:"Country",value:"country",sortable:!1},{text:"Affiliate",value:"affiliate.name",sortable:!1},{text:"Subaffiliate",value:"subaffiliate.name",sortable:!1},{text:"FTD",value:"ftd.amount",sortable:!1},{text:"FTD Date",value:"ftd.created_on",width:120,sortable:!1},{text:"Owner Conversion",value:"ftd.user.displayName",sortable:!1},{text:"Status",value:"status",sortable:!1},{text:"Owner",value:"user.displayName",sortable:!1},{text:"Actions",value:"actions",sortable:!1,width:"100"}],form:[{label:"General",fields:[{input:"text",name:"tpc",bind:{label:"TP Account",prependIcon:"mdi-card-account-details",required:!0,rules:[function(e){return!!e||"ID is required"}]}},{input:"text",name:"name",bind:{label:"Account Name",prependIcon:"mdi-account-box",required:!0,rules:[function(e){return!!e||"ID is required"}]}},{input:"autocomplete",name:"country",bind:{label:"Country",prependIcon:"mdi-flag",items:i["a"],itemText:"name",itemValue:"code",required:!0,hideAddNew:!0,rules:[function(e){return!!e||"Country is required"}]}},{input:"autocomplete",name:"affiliate",bind:{label:"Affiliate",collection:"affiliate",itemText:"name",itemValue:"_id",prependIcon:"mdi-account-network-outline"},on:function(e){return{init:function(t){if(e.$refs.customer_subaffiliate){var n=Object(a["a"])(e.$refs.customer_subaffiliate,1),i=n[0];e.data["subaffiliate"]=null,i.query.affiliate=t[0]?t[0]._id:"!"}},input:function(t){if(e.$refs.customer_subaffiliate){var n=Object(a["a"])(e.$refs.customer_subaffiliate,1),i=n[0];e.data["subaffiliate"]=null,i.query.affiliate=t||"!"}}}}},{input:"autocomplete",name:"subaffiliate",default:null,bind:{label:"Subaffiliate",collection:"subaffiliate",itemText:"name",itemValue:"_id",prependIcon:"mdi-account-network-outline",hideAddNew:!0,query:{affiliate:"!"}}},{input:"autocomplete",name:"user",if:function(e){return"all"==e.auth.user.rights.filter((function(e){return"customer"==e.collection}))[0].write.allOwn},default:function(e){return e.auth.user._id},bind:{label:"Owner",prependIcon:"mdi-account",collection:"user",itemText:"displayName",itemValue:"_id",or:!1,query:{role:["!wakel","!affiliate"]},hideAddNew:!0}},{input:"select",name:"status",default:function(){return"new"},bind:{label:"Status",items:[{text:"New",value:"new"},{text:"Call again",value:"call again"},{text:"No Answer",value:"no Answer"},{text:"Not interested",value:"not interested"}],itemText:"text",itemValue:"value",prependIcon:"mdi-list-status"}}]},{label:"Assignment History",if:function(e){return e.$route.params.id},fields:[{input:"assignment",name:"history",default:function(){return[]}}]}]}},"341e":function(e,t,n){"use strict";n.r(t),t["default"]={title:"Assign",icon:"mdi-account-multiple",filters:[{input:"text",name:"displayName",bind:{label:"Display Name",prependIcon:"mdi-account"}},{input:"autocomplete",name:"role",bind:{label:"Role",collection:"role",itemText:"name",itemValue:"role",prependIcon:"mdi-key"}},{input:"autocomplete",name:"department",bind:{label:"Department",prependIcon:"mdi-briefcase-account-outline",collection:"department",itemText:"name",itemValue:"_id"}}],table:[{text:"Display Name",align:"start",sortable:!1,value:"displayName"},{text:"Username",value:"username"},{text:"Role",value:"role"},{text:"Business Unit",value:"business.name"},{text:"Department",value:"department.name"},{text:"Town",value:"town"},{text:"Actions",value:"actions",width:"100"}],form:[{label:"General",fields:[{input:"text",name:"displayName",bind:{label:"Display Name",prependIcon:"mdi-account",required:!0,rules:[function(e){return!!e||"Display Name is required"}]}},{input:"text",name:"username",bind:{label:"Username",autocomplete:"username",prependIcon:"mdi-account-box",required:!0,rules:[function(e){return!!e||"Username is required"}]}},{input:"password",name:"password",bind:{label:"Password",prependIcon:"mdi-lock"}},{input:"select",name:"town",bind:{label:"Town",items:["Haifa","Nabless"],prependIcon:"mdi-map-marker",required:!0,rules:[function(e){return!!e||"Town is required"}]}},{input:"autocomplete",name:"role",bind:{label:"Role",collection:"role",itemText:"name",itemValue:"role",prependIcon:"mdi-key",required:!0,rules:[function(e){return!!e||"Role is required"}]}},{input:"autocomplete",name:"business",bind:{label:"Business Unit",prependIcon:"mdi-domain",collection:"business",itemText:"name",itemValue:"_id"}},{input:"autocomplete",name:"department",bind:{label:"Department",prependIcon:"mdi-briefcase-account-outline",collection:"department",itemText:"name",itemValue:"_id"}},{input:"autocomplete",name:"affiliate",bind:{label:"Affiliate",prependIcon:"mdi-account-network-outline",collection:"affiliate",itemText:"name",itemValue:"_id"}},{input:"switch",name:"active",default:!0,bind:{label:"Active"}}]}]}},"445d":function(e,t,n){"use strict";t["a"]=[{name:"Afghanistan",code:"AF"},{name:"Åland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People'S Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People'S Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]},4739:function(e,t,n){"use strict";n.r(t),t["default"]={title:"Department",icon:"mdi-briefcase-account-outline",table:[{text:"Name",align:"start",sortable:!1,value:"name"},{text:"Deposit Type",sortable:!1,value:"type"},{text:"Actions",value:"actions",width:"100"}],form:[{label:"General",fields:[{input:"text",name:"name",bind:{label:"Name",rules:[function(e){return!!e||"Name is required"}],required:!0}},{input:"select",name:"type",bind:{label:"Deposit Type",items:[{text:"FTD",value:"ftd"},{text:"Retention",value:"rtn"},{text:"Withdraw",value:"wtd"}],rules:[function(e){return!!e||"Deposit Type"}],required:!0}}]}]}},"5fb2":function(e,t,n){"use strict";var a=2147483647,i=36,r=1,o=26,l=38,u=700,c=72,s=128,d="-",m=/[^\0-\u007E]/,f=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",h=i-r,b=Math.floor,v=String.fromCharCode,g=function(e){var t=[],n=0,a=e.length;while(n<a){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<a){var r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t},w=function(e){return e+22+75*(e<26)},x=function(e,t,n){var a=0;for(e=n?b(e/u):e>>1,e+=b(e/t);e>h*o>>1;a+=i)e=b(e/h);return b(a+(h+1)*e/(e+l))},y=function(e){var t=[];e=g(e);var n,l,u=e.length,m=s,f=0,h=c;for(n=0;n<e.length;n++)l=e[n],l<128&&t.push(v(l));var y=t.length,A=y;y&&t.push(d);while(A<u){var I=a;for(n=0;n<e.length;n++)l=e[n],l>=m&&l<I&&(I=l);var T=A+1;if(I-m>b((a-f)/T))throw RangeError(p);for(f+=(I-m)*T,m=I,n=0;n<e.length;n++){if(l=e[n],l<m&&++f>a)throw RangeError(p);if(l==m){for(var k=f,S=i;;S+=i){var q=S<=h?r:S>=h+o?o:S-h;if(k<q)break;var _=k-q,N=i-q;t.push(v(w(q+_%N))),k=b(_/N)}t.push(v(w(k))),h=x(f,T,A==y),f=0,++A}}++f,++m}return t.join("")};e.exports=function(e){var t,n,a=[],i=e.toLowerCase().replace(f,".").split(".");for(t=0;t<i.length;t++)n=i[t],a.push(m.test(n)?"xn--"+y(n):n);return a.join(".")}},"675e":function(e,t,n){"use strict";n.r(t);n("99af"),n("4de4"),n("d3b7"),n("ac1f"),n("3ca3"),n("841c"),n("1276"),n("ddb0"),n("2b3d");function a(e,t){var n=""+e;while(n.length<t)n="0"+n;return n}t["default"]={title:"Transactions",icon:"mdi-bank-transfer",withdraw:!0,currency:"SAR",total:!0,filters:[{input:"autocomplete",name:"user",if:function(e){return console.log("asdsad => ",e.auth.user.rights),"all"==e.auth.user.rights.filter((function(e){return"transaction"==e.collection}))[0].write.allOwn},bind:{label:"Wakel",prependInnerIcon:"mdi-account",collection:"user",itemText:"displayName",itemValue:"_id",hideAddNew:!0,or:!1,query:{role:"wakel"}}},{input:"range",name:"created_on",default:function(){var e=new Date;return e.setHours(0,0,0,0),["".concat(e.getFullYear(),"-").concat(a(e.getMonth()+1,2),"-01"),"".concat(e.getFullYear(),"-").concat(a(e.getMonth()+1,2),"-").concat(a(e.getDate(),2))]},bind:{label:"Date",prependInnerIcon:"mdi-calendar"}}],table:[{text:"Account name",value:"name"},{text:"Type",sortable:!1,value:"type"},{text:"Amount",value:"amount"},{text:"Date",value:"created_on"},{text:"Label",sortable:!1,value:"user.displayName"},{text:"Actions",value:"actions",sortable:!1,width:"150"}],form:[{label:"General",fields:[{input:"text",name:"name",bind:{label:"Account name",prependIcon:"mdi-account-box"}},{input:"text",name:"amount",bind:{label:"Amount",prependIcon:"mdi-cash",required:!0,type:"number",rules:[function(e){return!!e||"Amount is required"}]}},{input:"hidden",name:"type",default:function(){var e=new URLSearchParams(location.search);return e.get("type")||"deposit"}},{input:"date",name:"created_on",default:(new Date).toISOString().split("T")[0],bind:{label:"Created Date",prependIcon:"mdi-calendar",required:!0,rules:[function(e){return!!e||"Created On is required"}]}},{input:"autocomplete",name:"user",if:function(e){return"all"==e.auth.user.rights.filter((function(e){return"transaction"==e.collection}))[0].write.allOwn},bind:{label:"Label",prependIcon:"mdi-account",collection:"user",itemText:"displayName",itemValue:"_id",required:!0,or:!1,query:{role:"wakel"},rules:[function(e){return!!e||"Label is required"}]}}]}]}},"789d":function(e,t,n){"use strict";n.r(t),t["default"]={title:"Notefication",icon:"mdi-message-alert",table:[{text:"Type",align:"start",sortable:!1,value:"type"},{text:"Message",value:"message"},{text:"To",value:"target.displayName"},{text:"From",value:"by.displayName"},{text:"Read",value:"read"},{text:"Actions",value:"actions",width:"100"}],form:[{label:"General",fields:[{input:"select",name:"type",bind:{label:"Type",prependIcon:"mdi-label",required:!0,rules:[function(e){return!!e||"Type Name is required"}],items:["sale_assign"]}},{input:"text",name:"message",bind:{label:"Message",prependIcon:"mdi-message-text",required:!0,rules:[function(e){return!!e||"Message is required"}]}},{input:"autocomplete",name:"target",bind:{label:"To",prependIcon:"mdi-account",collection:"user",itemText:"displayName",itemValue:"_id",required:!0,rules:[function(e){return!!e||"Payment Method is required"}]}},{input:"hidden",name:"by",default:JSON.parse(localStorage.getItem("user"))._id}]}]}},"8d32":function(e,t,n){"use strict";n.r(t);n("c975");t["default"]={title:"Users",icon:"mdi-account-multiple",filters:[{input:"text",name:"displayName",bind:{label:"Display Name",prependIcon:"mdi-account"}},{input:"autocomplete",name:"role",bind:{label:"Role",collection:"role",itemText:"name",itemValue:"role",prependIcon:"mdi-key"}},{input:"autocomplete",name:"department",bind:{label:"Department",prependIcon:"mdi-briefcase-account-outline",collection:"department",itemText:"name",itemValue:"_id"}}],table:[{text:"Pic",align:"start",value:"profileImage"},{text:"Display Name",align:"start",value:"displayName"},{text:"Username",value:"username"},{text:"Role",value:"role"},{text:"Business Unit",sortable:!1,value:"business.name"},{text:"Department",sortable:!1,value:"department.name"},{text:"Town",value:"town"},{text:"Actions",value:"actions",sortable:!1,width:"100"}],form:[{label:"General",fields:[{input:"profile-image",name:"profileImage",bind:{placeholder:"Profile Picture",prependIcon:"mdi-image"}},{input:"text",name:"displayName",bind:{label:"Display Name",prependIcon:"mdi-account",required:!0,rules:[function(e){return!!e||"Display Name is required"}]}},{input:"text",name:"username",bind:{label:"Username",autocomplete:"username",prependIcon:"mdi-account-box",required:!0,rules:[function(e){return!!e||"Username is required"}]}},{input:"password",name:"password",bind:{label:"Password",prependIcon:"mdi-lock"}},{input:"select",name:"town",bind:{label:"Town",items:["Haifa","Nabless"],prependIcon:"mdi-map-marker",required:!0,rules:[function(e){return!!e||"Town is required"}]}},{input:"autocomplete",name:"role",bind:{label:"Role",collection:"role",itemText:"name",itemValue:"role",prependIcon:"mdi-key",required:!0,rules:[function(e){return!!e||"Role is required"}]}},{input:"autocomplete",name:"business",default:function(e){return e.auth.user.business},if:function(e){return!e.auth.user.business},bind:{label:"Business Unit",prependIcon:"mdi-domain",collection:"business",itemText:"name",itemValue:"_id"}},{input:"autocomplete",name:"department",default:function(e){return e.auth.user.department},if:function(e){return!e.auth.user.department},bind:{label:"Department",prependIcon:"mdi-briefcase-account-outline",collection:"department",itemText:"name",itemValue:"_id"}},{input:"autocomplete",if:function(e){return-1!=["admin","owner"].indexOf(e.auth.user.role)},name:"affiliate",bind:{label:"Affiliate",prependIcon:"mdi-account-network-outline",collection:"affiliate",itemText:"name",itemValue:"_id"}},{input:"switch",name:"active",default:!0,bind:{label:"Active"}}]}]}},9320:function(e,t,n){},9861:function(e,t,n){"use strict";n("e260");var a=n("23e7"),i=n("d066"),r=n("0d3b"),o=n("6eeb"),l=n("e2cc"),u=n("d44e"),c=n("9ed3"),s=n("69f3"),d=n("19aa"),m=n("5135"),f=n("0366"),p=n("f5df"),h=n("825a"),b=n("861d"),v=n("7c73"),g=n("5c6c"),w=n("9a1f"),x=n("35a1"),y=n("b622"),A=i("fetch"),I=i("Headers"),T=y("iterator"),k="URLSearchParams",S=k+"Iterator",q=s.set,_=s.getterFor(k),N=s.getterFor(S),R=/\+/g,C=Array(4),V=function(e){return C[e-1]||(C[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},O=function(e){try{return decodeURIComponent(e)}catch(t){return e}},M=function(e){var t=e.replace(R," "),n=4;try{return decodeURIComponent(t)}catch(a){while(n)t=t.replace(V(n--),O);return t}},D=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},U=function(e){return L[e]},B=function(e){return encodeURIComponent(e).replace(D,U)},P=function(e,t){if(t){var n,a,i=t.split("&"),r=0;while(r<i.length)n=i[r++],n.length&&(a=n.split("="),e.push({key:M(a.shift()),value:M(a.join("="))}))}},F=function(e){this.entries.length=0,P(this.entries,e)},G=function(e,t){if(e<t)throw TypeError("Not enough arguments")},j=c((function(e,t){q(this,{type:S,iterator:w(_(e).entries),kind:t})}),"Iterator",(function(){var e=N(this),t=e.kind,n=e.iterator.next(),a=n.value;return n.done||(n.value="keys"===t?a.key:"values"===t?a.value:[a.key,a.value]),n})),$=function(){d(this,$,k);var e,t,n,a,i,r,o,l,u,c=arguments.length>0?arguments[0]:void 0,s=this,f=[];if(q(s,{type:k,entries:f,updateURL:function(){},updateSearchParams:F}),void 0!==c)if(b(c))if(e=x(c),"function"===typeof e){t=e.call(c),n=t.next;while(!(a=n.call(t)).done){if(i=w(h(a.value)),r=i.next,(o=r.call(i)).done||(l=r.call(i)).done||!r.call(i).done)throw TypeError("Expected sequence with length 2");f.push({key:o.value+"",value:l.value+""})}}else for(u in c)m(c,u)&&f.push({key:u,value:c[u]+""});else P(f,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},E=$.prototype;l(E,{append:function(e,t){G(arguments.length,2);var n=_(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){G(arguments.length,1);var t=_(this),n=t.entries,a=e+"",i=0;while(i<n.length)n[i].key===a?n.splice(i,1):i++;t.updateURL()},get:function(e){G(arguments.length,1);for(var t=_(this).entries,n=e+"",a=0;a<t.length;a++)if(t[a].key===n)return t[a].value;return null},getAll:function(e){G(arguments.length,1);for(var t=_(this).entries,n=e+"",a=[],i=0;i<t.length;i++)t[i].key===n&&a.push(t[i].value);return a},has:function(e){G(arguments.length,1);var t=_(this).entries,n=e+"",a=0;while(a<t.length)if(t[a++].key===n)return!0;return!1},set:function(e,t){G(arguments.length,1);for(var n,a=_(this),i=a.entries,r=!1,o=e+"",l=t+"",u=0;u<i.length;u++)n=i[u],n.key===o&&(r?i.splice(u--,1):(r=!0,n.value=l));r||i.push({key:o,value:l}),a.updateURL()},sort:function(){var e,t,n,a=_(this),i=a.entries,r=i.slice();for(i.length=0,n=0;n<r.length;n++){for(e=r[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}a.updateURL()},forEach:function(e){var t,n=_(this).entries,a=f(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<n.length)t=n[i++],a(t.value,t.key,this)},keys:function(){return new j(this,"keys")},values:function(){return new j(this,"values")},entries:function(){return new j(this,"entries")}},{enumerable:!0}),o(E,T,E.entries),o(E,"toString",(function(){var e,t=_(this).entries,n=[],a=0;while(a<t.length)e=t[a++],n.push(B(e.key)+"="+B(e.value));return n.join("&")}),{enumerable:!0}),u($,k),a({global:!0,forced:!r},{URLSearchParams:$}),r||"function"!=typeof A||"function"!=typeof I||a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,a,i=[e];return arguments.length>1&&(t=arguments[1],b(t)&&(n=t.body,p(n)===k&&(a=t.headers?new I(t.headers):new I,a.has("content-type")||a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:g(0,String(n)),headers:g(0,a)}))),i.push(t)),A.apply(this,i)}}),e.exports={URLSearchParams:$,getState:_}},9894:function(e,t,n){"use strict";var a=n("9320"),i=n.n(a);i.a},"9a1f":function(e,t,n){var a=n("825a"),i=n("35a1");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return a(t.call(e))}},"9fab":function(e,t,n){var a={"./":"fb57","./affiliate":"e5f9","./affiliate.js":"e5f9","./assign":"341e","./assign.js":"341e","./business":"267a","./business.js":"267a","./customer":"3310","./customer.js":"3310","./department":"4739","./department.js":"4739","./deposit":"2d47","./deposit.js":"2d47","./index":"fb57","./index.js":"fb57","./menu":"a2c8","./menu.js":"a2c8","./notefication":"789d","./notefication.js":"789d","./payment_method":"f3ec","./payment_method.js":"f3ec","./retention":"f414","./retention.js":"f414","./role":"177a","./role.js":"177a","./sale":"e548","./sale.js":"e548","./subaffiliate":"cbd5","./subaffiliate.js":"cbd5","./transaction":"675e","./transaction.js":"675e","./user":"8d32","./user.js":"8d32"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id="9fab"},a2c8:function(e,t,n){"use strict";n.r(t),t["default"]={title:"Menu",icon:"mdi-microsoft-xbox-controller-menu",table:[{text:"Name",align:"start",sortable:!1,value:"name"},{text:"Actions",value:"actions",width:"100"}],form:[{label:"General",fields:[{input:"text",name:"name",bind:{label:"Name",rules:[function(e){return!!e||"Name is required"}],required:!0}},{input:"menu_item",name:"menu_item",default:[{name:"Dashboard",icon:"mdi-view-dashboard",path:"/"},{name:"Deposit",icon:"mdi-bank-transfer-in",path:"/deposit"},{name:"Customer",icon:"mdi-account-box",path:"/customer"},{name:"Payment Method",icon:"mdi mdi-credit-card-settings-outline",path:"/payment_method"},{name:"Affiliate",icon:"mdi-account-network-outline",path:"/affiliate"},{name:"Users",icon:"mdi-account-multiple",path:"/user"},{name:"Roles",icon:"mdi-key",path:"/role"},{name:"Menus",icon:"mdi-menu",path:"/menu"},{name:"Business",icon:"mdi-domain",path:"/business"},{name:"Department",icon:"mdi-briefcase-account-outline",path:"/department"}],bind:{label:"Menu Items"}}]}]}},b012:function(e,t){function n(e,t,n){var a,i,r,o,l;function u(){var c=Date.now()-o;c<t&&c>=0?a=setTimeout(u,t-c):(a=null,n||(l=e.apply(r,i),r=i=null))}null==t&&(t=100);var c=function(){r=this,i=arguments,o=Date.now();var c=n&&!a;return a||(a=setTimeout(u,t)),c&&(l=e.apply(r,i),r=i=null),l};return c.clear=function(){a&&(clearTimeout(a),a=null)},c.flush=function(){a&&(l=e.apply(r,i),r=i=null,clearTimeout(a),a=null)},c}n.debounce=n,e.exports=n},bb0b:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[n("v-autocomplete",e._b({attrs:{value:e.value,"search-input":e.search,items:e.dataItems,loading:e.loading,clearable:"","no-filter":Boolean(e.collection),"return-object":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},input:e.emit,focus:function(t){return e.makeSearch(e.search)}},scopedSlots:e._u([!e.hideAddNew&&e.writeAccess?{key:"prepend-item",fn:function(){return[n("v-list-item",{on:{click:e.addNew}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"green--text"},[n("v-icon",{attrs:{color:"green"}},[e._v("mdi-plus")]),e._v(" Add New")],1)],1)],1)]},proxy:!0}:null,"customer"==e.collection?{key:"item",fn:function(t){var a=t.parent,i=t.item;return[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(i[a.$props.itemText]))]),n("v-list-item-subtitle",[e._v(" "+e._s(i.tpc)+" ")]),n("v-list-item-subtitle",[e._v(" "+e._s(i.affiliate.name)+" ")])],1)]}}:null,"customer"==e.collection?{key:"selection",fn:function(t){var a=t.parent,i=t.item;return[n("small",{staticClass:"pr-1"},[e._v(" ("+e._s(i.tpc)+") ")]),e._v(" "+e._s(i[a.$props.itemText])+" ")]}}:null],null,!0)},"v-autocomplete",e.$attrs,!1)),n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("app-item",{attrs:{"collection-name":e.collection},on:{close:function(t){e.dialog=!1},save:e.newSave}})],1)],1)],1)},i=[],r=(n("4de4"),n("4160"),n("b64b"),n("159b"),n("2909")),o=n("ade3"),l=(n("96cf"),n("1da1")),u=n("5530"),c=n("b012"),s=n.n(c),d=n("2f62"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-col",{staticClass:"pa-0"},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.$emit("close")}}},[n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar-title",[e._v(e._s(e.title))]),n("v-spacer"),e.writeAccess?n("v-toolbar-items",[n("v-btn",{attrs:{dark:"",text:""},on:{click:e.validate}},[e._v("Save")])],1):e._e()],1),e.found?n("v-card",{attrs:{flat:""}},[n("v-card-title",[e._v(" "+e._s(e.title)+" ")]),n("v-card-text",[e.tabs.length>1?n("v-tabs",{attrs:{"center-active":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabs,(function(t,a){return n("v-tab",{key:a},[e._v(" "+e._s(t)+" ")])})),1):e._e(),n("v-form",{ref:"form"},[e.loading?e._e():n("v-tabs-items",{attrs:{"center-active":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabs,(function(t,a){return n("v-tab-item",{key:a,staticClass:"px-5"},e._l(e.filteredFields,(function(t,a){return n("v-row",{key:a},[n(e.inputs[t.input],e._g(e._b({ref:e.$route.params.collection+"_"+t.name,refInFor:!0,tag:"component",model:{value:e.data[t.name],callback:function(n){e.$set(e.data,t.name,n)},expression:"data[field.name]"}},"component",t.bind,!1),"function"==typeof t.on?t.on(e.vm):t.on))],1)})),1)})),1)],1)],1)],1):n("v-not-found")],1)},f=[],p=(n("d81d"),n("b0c0"),n("ac1f"),n("1276"),n("8654")),h=n("b974"),b=n("b73d"),v=n("1b5f"),g=n("e94a"),w=n("d6a0"),x=n("fb57"),y={name:"AppItem",props:{collectionName:String},data:function(){return{showFields:[],loading:!1,collection:null,tab:0,form:null,found:!0,title:"",data:{},inputs:{text:p["a"],select:h["a"],switch:b["a"],date:g["a"],autocomplete:Y,password:v["a"],rights:w["a"]}}},computed:{vm:function(){return this},filteredFields:function(){var e=this;return this.fields.filter((function(t,n){return e.showFields[e.tab][n]}))},tabs:function(){var e=this;return this.form?this.form.filter((function(t){return"function"==typeof t.if?t.if(e):"boolean"!=typeof t.if||t.if})).map((function(e){return e.label})):[]},fields:function(){return this.form?this.form[this.tab].fields:[]},access:function(){var e=this;return this.$store.state.auth.user.rights?this.$store.state.auth.user.rights.filter((function(t){return t.collection==e.collection})):[]},writeAccess:function(){return this.access.length>0&&this.access[0].write.value}},methods:Object(u["a"])(Object(u["a"])({},Object(d["b"])({save:"api/save",success:"success"})),{},{generateDataInputs:function(e,t){var n=this,a={},i={};e.forEach((function(e,r){n.showFields[r]=[],e.fields.forEach((function(e,o){if("function"==typeof e.if?n.showFields[r][o]=e.if(n.$store.state):n.showFields[r][o]=!0,"password"==e.name)return a[e.name]="";"date"==e.input&&t[e.name]&&(t[e.name]=t[e.name].split("T")[0]),a[e.name]="",t[e.name]?a[e.name]=t[e.name]:e.default&&(a[e.name]="function"==typeof e.default?e.default(n.$store.state):e.default),"date"==e.input&&(i[e.name]=!1)}))})),this.data=a,this.menu=i},validate:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.data,a=e.collection,i=e.title,!e.$refs.form.validate()){t.next=11;break}return t.next=4,e.save({collection:a,data:n});case 4:if(r=t.sent,!r){t.next=9;break}return t.next=8,e.$store.commit("success",i+" saved successfuly");case 8:e.$emit("save",r.data);case 9:t.next=12;break;case 11:e.$store.commit("error","form not valid");case 12:case"end":return t.stop()}}),t)})))()}}),mounted:function(){window.$form=this},destroyed:function(){window.$form=null},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=x["default"].get(e.collectionName),e.collection=e.collectionName,n?(e.title=n.title,e.form=n.form,a={},e.generateDataInputs(e.form,a)):e.found=!1;case 3:case"end":return t.stop()}}),t)})))()}},A=y,I=(n("9894"),n("2877")),T=n("6544"),k=n.n(T),S=n("8336"),q=n("b0af"),_=n("99d9"),N=n("62ad"),R=n("4bd4"),C=n("132d"),V=n("0fd9"),O=n("2fa4"),M=n("71a3"),D=n("c671"),L=n("fe57"),U=n("aac8"),B=n("71d9"),P=n("2a7f"),F=Object(I["a"])(A,m,f,!1,null,null,null),G=F.exports;k()(F,{VBtn:S["a"],VCard:q["a"],VCardText:_["d"],VCardTitle:_["e"],VCol:N["a"],VForm:R["a"],VIcon:C["a"],VRow:V["a"],VSpacer:O["a"],VTab:M["a"],VTabItem:D["a"],VTabs:L["a"],VTabsItems:U["a"],VToolbar:B["a"],VToolbarItems:P["b"],VToolbarTitle:P["c"]});var j=n("1157"),$=n.n(j),E={name:"autocomplete",components:{AppItem:G},props:{value:String,searchFields:[String,Array],hideAddNew:Boolean,query:Object,collection:{type:String},or:{type:Boolean,default:!0}},data:function(){return{search:"",dataItems:[],loading:!1,dialog:!1}},computed:{access:function(){var e=this;return this.$store.state.auth.user.rights?this.$store.state.auth.user.rights.filter((function(t){return t.collection==e.collection})):[]},writeAccess:function(){return this.access.length>0&&this.access[0].write.value}},methods:Object(u["a"])(Object(u["a"])({emit:function(e){this.$emit("input",e?e[this.$attrs.itemValue]:"")},addNew:function(){this.dialog=!0},newSave:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.dialog=!1,t.dataItems.push(e),t.$emit("input",e[t.$attrs.itemValue]);case 3:case"end":return n.stop()}}),n)})))()}},Object(d["b"])({get:"api/get"})),{},{makeSearch:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.collection){n.next=2;break}return n.abrupt("return");case 2:return t.loading=!0,a={},t.searchFields?Array.isArray(t.searchFields)?t.searchFields.forEach((function(t){e&&(a[t]="^"+e)})):e&&(a[t.searchFields]="^"+e):e&&(a[t.$attrs.itemText]="^"+e),t.query&&Object.keys(t.query).length>0&&(a=Object.assign(a,t.query)),console.log(a),n.next=9,t.get({collection:t.collection+"?"+$.a.param(a)+(t.or?"&or=true":"")});case 9:i=n.sent,t.dataItems=i.data.docs,t.loading=!1;case 12:case"end":return n.stop()}}),n)})))()}}),watch:{search:function(e){this.collection&&null!==e&&s()(this.makeSearch,500)(e)}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.collection||!e.value){t.next=5;break}return t.next=3,e.get({collection:e.collection,query:Object(o["a"])({},e.$attrs.itemValue,e.value)});case 3:n=t.sent,n&&n.data&&n.data.docs?(e.dataItems=Object(r["a"])(n.data.docs),e.$emit("init",n.data.docs)):n&&n.data&&(e.dataItems=Object(r["a"])(n.data),e.$emit("init",n.data));case 5:e.$attrs.items&&(e.dataItems=e.$attrs.items);case 6:case"end":return t.stop()}}),t)})))()}},K=E,H=n("c6a6"),J=n("169a"),Z=n("da13"),W=n("5d23"),z=Object(I["a"])(K,a,i,!1,null,null,null),Y=t["a"]=z.exports;k()(z,{VAutocomplete:H["a"],VCard:q["a"],VDialog:J["a"],VIcon:C["a"],VListItem:Z["a"],VListItemContent:W["g"],VListItemSubtitle:W["j"],VListItemTitle:W["k"]})},cbd5:function(e,t,n){"use strict";n.r(t),t["default"]={title:"Sub-Affiliate",icon:"mdi-account-network-outline",table:[{text:"Name",align:"start",value:"name"},{text:"Affiliate",value:"affiliate.name"},{text:"Active",value:"active",sortable:!1,width:"10%"},{text:"Actions",value:"actions",sortable:!1,width:"100"}],form:[{label:"General",fields:[{input:"text",name:"name",bind:{label:"Name",rules:[function(e){return!!e||"Name is required"}],required:!0}},{input:"autocomplete",name:"affiliate",bind:{label:"Affiliate",collection:"affiliate",itemText:"name",itemValue:"_id",prependIcon:"mdi-account-network-outline",rules:[function(e){return!!e||"Affiliate is required"}],required:!0}},{input:"switch",name:"active",default:!0,bind:{label:"Active"}}]}]}},d6a0:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:"",width:"100%"}},[n("v-card-text",{staticClass:"text-center"},[n("v-divider"),n("h2",{staticClass:"my-5"},[e._v(e._s(e.label))]),n("v-divider"),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.data,expanded:e.expanded,"item-key":"collection","show-expand":""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"expanded-item",fn:function(t){var a=t.headers,i=t.item;return[n("td",{staticClass:"pa-0",attrs:{colspan:a.length}},[n("v-simple-table",[n("tr",[n("th",[e._v("Read")]),n("td",[n("v-switch",{on:{change:function(t){return e.handelReadRight(t,i)}},model:{value:i.read.value,callback:function(t){e.$set(i.read,"value",t)},expression:"item.read.value"}})],1),n("td",[n("v-select",{attrs:{label:"Own / All",items:e.AllOwn},model:{value:i.read.allOwn,callback:function(t){e.$set(i.read,"allOwn",t)},expression:"item.read.allOwn"}})],1)]),n("tr",[n("th",[e._v("Write")]),n("td",[n("v-switch",{model:{value:i.write.value,callback:function(t){e.$set(i.write,"value",t)},expression:"item.write.value"}})],1),n("td",[n("v-select",{attrs:{label:"Own / All",items:e.AllOwn},model:{value:i.write.allOwn,callback:function(t){e.$set(i.write,"allOwn",t)},expression:"item.write.allOwn"}})],1)]),n("tr",[n("th",[e._v("Update")]),n("td",[n("v-switch",{model:{value:i.update.value,callback:function(t){e.$set(i.update,"value",t)},expression:"item.update.value"}})],1),n("td",[n("v-select",{attrs:{label:"Own / All",items:e.AllOwn},model:{value:i.update.allOwn,callback:function(t){e.$set(i.update,"allOwn",t)},expression:"item.update.allOwn"}})],1)]),n("tr",[n("th",[e._v("Delete")]),n("td",[n("v-switch",{model:{value:i.delete.value,callback:function(t){e.$set(i.delete,"value",t)},expression:"item.delete.value"}})],1),n("td",[n("v-select",{attrs:{label:"Own / All",items:e.AllOwn},model:{value:i.delete.allOwn,callback:function(t){e.$set(i.delete,"allOwn",t)},expression:"item.delete.allOwn"}})],1)])])],1)]}},{key:"item.fields",fn:function(t){var a=t.item;return[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.showFields(a)}}},[n("v-icon",[e._v("mdi-table-border")])],1)]}}])})],1),n("v-dialog",{attrs:{"max-width":"650"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[e._v(" "+e._s(e.dialogTitle)+" "),n("v-spacer"),n("v-icon",{on:{click:function(t){e.dialog=!1}}},[e._v("mdi-close")])],1),n("v-card-text",[n("v-list",e._l(e.fields,(function(t){return n("v-list-item",{key:t.value},[n("v-list-item-icon",[n("v-switch",{staticClass:"ma-0",attrs:{"hide-details":""},model:{value:e.dialogFields[e.btoa(t.value)],callback:function(n){e.$set(e.dialogFields,e.btoa(t.value),n)},expression:"dialogFields[btoa(field.value)]"}})],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)})),1)],1)],1)],1)],1)},i=[],r=(n("4de4"),n("4160"),n("d81d"),n("d3b7"),n("25f0"),n("159b"),n("96cf"),n("1da1")),o=n("fb57"),l={name:"Rights",props:{label:String,value:{type:Array,default:function(){return[]}}},data:function(){return{AllOwn:[{text:"All",value:"all"},{text:"Own",value:"own"}],dialog:!1,dialogTitle:"",dialogFields:{},fields:[],expanded:[],singleExpand:!1,selected:"",collections:[],headers:[{text:"Collection",value:"title",width:"80%",sortable:!1},{text:"Table Fields",value:"fields",sortable:!1}],data:[]}},methods:{btoa:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return btoa(e)})),select:function(e){var t=this;setTimeout((function(){return t.selected=""}),10),this.data.push({collection:e})},handelReadRight:function(e,t){e||(t.write.value=!1,t.update.value=!1,t.delete.value=!1)},showFields:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=o["default"].get(e.collection),t.dialog=!0,t.dialogTitle="Table Fields of (".concat(a.title,")"),t.fields=a.table.filter((function(e){return"actions"!=e.value})),t.dialogFields=t.data.filter((function(t){return t.collection==e.collection}))[0].fields;case 5:case"end":return n.stop()}}),n)})))()}},watch:{data:{deep:!0,handler:function(e){this.$emit("input",e)}}},mounted:function(){var e=this;this.value.length<1&&this.$emit("input",this.data),this.value.forEach((function(t){var n=e.data.filter((function(e){return e.value==t.value}));n[0]&&Object.assign(n[0],t)}))},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("api/get",{collection:"collections"});case 2:n=t.sent,n&&n.data&&(e.data=n.data.map((function(e){var t={},n=o["default"].get(e);if(n)return n.table.forEach((function(e){"actions"!=e.value&&(t[btoa(e.value)]=!0)})),{collection:e,title:n.title,fields:t,read:{value:!0,allOwn:"all"},write:{value:!0,allOwn:"all"},update:{value:!0,allOwn:"all"},delete:{value:!0,allOwn:"all"}}}))),console.log(e.data),e.value&&(a=[],e.data.forEach((function(t){var n=e.value.filter((function(e){return!!e&&e.collection==t.collection}));n.length?a.push(Object.assign({},t,n[0])):a.push(t)})),e.data=a);case 6:case"end":return t.stop()}}),t)})))()}},u=l,c=n("2877"),s=n("6544"),d=n.n(s),m=n("8336"),f=n("b0af"),p=n("99d9"),h=n("8fea"),b=n("169a"),v=n("ce7e"),g=n("132d"),w=n("8860"),x=n("da13"),y=n("5d23"),A=n("34c3"),I=n("b974"),T=n("1f4f"),k=n("2fa4"),S=n("b73d"),q=Object(c["a"])(u,a,i,!1,null,null,null);t["a"]=q.exports;d()(q,{VBtn:m["a"],VCard:f["a"],VCardText:p["d"],VCardTitle:p["e"],VDataTable:h["a"],VDialog:b["a"],VDivider:v["a"],VIcon:g["a"],VList:w["a"],VListItem:x["a"],VListItemContent:y["g"],VListItemIcon:A["a"],VListItemTitle:y["k"],VSelect:I["a"],VSimpleTable:T["a"],VSpacer:k["a"],VSwitch:S["a"]})},e548:function(e,t,n){"use strict";n.r(t);n("ac1f"),n("1276");var a=n("445d");t["default"]={title:"Sales",icon:"mdi-printer-pos",filters:[{input:"text",name:"name",bind:{dense:!0,outlined:!0,label:"Account Name",prependInnerIcon:"mdi-account-box"}},{input:"text",name:"tpc",bind:{dense:!0,outlined:!0,label:"ID",prependInnerIcon:"mdi-card-account-details"}},{input:"text",name:"amount",bind:{dense:!0,outlined:!0,label:"Amount",prependInnerIcon:"mdi-cash",type:"number"}},{input:"autocomplete",name:"payment_method",bind:{dense:!0,outlined:!0,label:"Payment Method",prependInnerIcon:"mdi-credit-card-settings-outline",collection:"payment_method",itemText:"name",itemValue:"_id",hideAddNew:!0}},{input:"autocomplete",name:"user",bind:{dense:!0,outlined:!0,label:"Agent",prependInnerIcon:"mdi-account",collection:"user",itemText:"displayName",itemValue:"_id",hideAddNew:!0}},{input:"date",name:"created_on",bind:{dense:!0,outlined:!0,label:"Created Date",prependInnerIcon:"mdi-calendar"}},{input:"select",name:"business_unit",bind:{dense:!0,outlined:!0,label:"Business Unit",prependInnerIcon:"mdi-flag",items:["en","ar","label1"]}},{input:"autocomplete",name:"country",bind:{dense:!0,outlined:!0,label:"Country",prependInnerIcon:"mdi-flag",items:a["a"],itemText:"name",itemValue:"code",hideAddNew:!0}},{input:"autocomplete",name:"affiliate",bind:{dense:!0,outlined:!0,label:"Affiliate",collection:"affiliate",itemText:"name",itemValue:"_id",prependInnerIcon:"mdi-account-network-outline",hideAddNew:!0}},{name:"type",value:"sale",forced:!0}],table:[{text:"TP Account",align:"start",sortable:!1,value:"tpc"},{text:"Account name",value:"name"},{text:"Amount",value:"amount"},{text:"Affiliate",value:"affiliate.name"},{text:"Payment Method",value:"payment_method.name"},{text:"Created date",value:"created_on"},{text:"Created By",value:"user.displayName"},{text:"Business Unit",value:"business_unit"},{text:"Actions",value:"actions",width:"100"}],form:[{label:"General",fields:[{input:"text",name:"name",bind:{label:"Account Name",prependIcon:"mdi-account-box",required:!0,rules:[function(e){return!!e||"ID is required"}]}},{input:"text",name:"tpc",bind:{label:"ID",prependIcon:"mdi-card-account-details",required:!0,rules:[function(e){return!!e||"ID is required"}]}},{input:"text",name:"amount",bind:{label:"Amount",prependIcon:"mdi-cash",required:!0,type:"number",rules:[function(e){return!!e||"Amount is required"}]}},{input:"autocomplete",name:"payment_method",bind:{label:"Payment Method",prependIcon:"mdi-credit-card-settings-outline",collection:"payment_method",itemText:"name",itemValue:"_id",required:!0,rules:[function(e){return!!e||"Payment Method is required"}]}},{input:"hidden",name:"user",default:function(e){return e.auth.user._id}},{input:"date",name:"created_on",default:(new Date).toISOString().split("T")[0],bind:{label:"Created Date",prependIcon:"mdi-calendar",required:!0,rules:[function(e){return!!e||"Created On is required"}]}},{input:"hidden",name:"business_unit",default:function(e){return e.auth.user.business_unit}},{input:"autocomplete",name:"country",bind:{label:"Country",prependIcon:"mdi-flag",items:a["a"],itemText:"name",itemValue:"code",required:!0,hideAddNew:!0,rules:[function(e){return!!e||"Country is required"}]}},{input:"autocomplete",name:"affiliate",bind:{label:"Affiliate",collection:"affiliate",itemText:"name",itemValue:"_id",prependIcon:"mdi-account-network-outline"}}]}]}},e5f9:function(e,t,n){"use strict";n.r(t),t["default"]={title:"Affiliate",icon:"mdi-account-network-outline",table:[{text:"Name",align:"start",value:"name"},{text:"Active",value:"active",sortable:!1,width:"10%"},{text:"Actions",value:"actions",sortable:!1,width:"100"}],form:[{label:"General",fields:[{input:"text",name:"name",bind:{label:"Name",rules:[function(e){return!!e||"Name is required"}],required:!0}},{input:"switch",name:"active",default:!0,bind:{label:"Active"}}]}]}},e94a:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g(e._b({attrs:{readonly:"",value:e.value,clearable:""},on:{"click:clear":function(t){return e.input("")}}},"v-text-field",e.$attrs,!1),a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{attrs:{value:e.value},on:{input:e.input}})],1)},i=[],r={name:"date-picker",props:{value:String},data:function(){return{menu:!1}},methods:{input:function(e){this.menu=!1,this.$emit("input",e)}}},o=r,l=n("2877"),u=n("6544"),c=n.n(u),s=n("2e4b"),d=n("e449"),m=n("8654"),f=Object(l["a"])(o,a,i,!1,null,null,null);t["a"]=f.exports;c()(f,{VDatePicker:s["a"],VMenu:d["a"],VTextField:m["a"]})},f3ec:function(e,t,n){"use strict";n.r(t),t["default"]={title:"Payment Method",icon:"mdi-credit-card-settings-outline",table:[{text:"Name",align:"start",value:"name"},{text:"Type",value:"type",width:"20%"},{text:"Active",value:"active",sortable:!1,width:"10%"},{text:"Actions",value:"actions",sortable:!1,width:"100"}],form:[{label:"General",fields:[{input:"text",name:"name",bind:{label:"Name",rules:[function(e){return!!e||"Name is required"}],required:!0}},{input:"select",name:"type",bind:{label:"Type",rules:[function(e){return!!e||"Type is required"}],items:[{label:"Credit Card",value:"cc"},{label:"Wire",value:"wire"}],itemText:"label",itemValue:"value",required:!0}},{input:"switch",name:"active",default:!0,bind:{label:"Active"}}]}]}},f414:function(e,t,n){"use strict";n.r(t);n("ac1f"),n("1276");var a=n("445d");t["default"]={title:"Retention",icon:"mdi-printer-pos",filters:[{input:"text",name:"tpc",bind:{dense:!0,label:"TP Account",prependIcon:"mdi-account-box"}}],table:[{text:"TP Account",align:"start",sortable:!1,value:"tpc"},{text:"Account name",value:"name"},{text:"Amount",value:"amount"},{text:"Affiliate",value:"affiliate.name"},{text:"Payment Method",value:"payment_method.name"},{text:"Created on",value:"created_on"},{text:"Created By",value:"user.displayName"},{text:"Business Unit",value:"business_unit"},{text:"Actions",value:"actions",width:"100"}],form:[{label:"General",fields:[{input:"text",name:"name",bind:{label:"Account Name",prependIcon:"mdi-account-box",required:!0,rules:[function(e){return!!e||"ID is required"}]}},{input:"text",name:"tpc",bind:{label:"ID",prependIcon:"mdi-card-account-details",required:!0,rules:[function(e){return!!e||"ID is required"}]}},{input:"text",name:"amount",bind:{label:"Amount",type:"number",prependIcon:"mdi-cash",required:!0,rules:[function(e){return!!e||"Amount is required"}]}},{input:"autocomplete",name:"payment_method",bind:{label:"Payment Method",prependIcon:"mdi-credit-card-settings-outline",collection:"payment_method",itemText:"name",itemValue:"_id",required:!0,rules:[function(e){return!!e||"Payment Method is required"}]}},{input:"hidden",name:"user",default:function(e){return e.auth.user._id}},{input:"date",name:"created_on",default:(new Date).toISOString().split("T")[0],bind:{label:"Created Date",prependIcon:"mdi-calendar",required:!0,rules:[function(e){return!!e||"Created On is required"}]}},{input:"hidden",name:"business_unit",default:function(e){return e.auth.user.business_unit}},{input:"autocomplete",name:"country",bind:{label:"Country",prependIcon:"mdi-flag",items:a["a"],itemText:"name",itemValue:"code",hideAddNew:!0,required:!0,rules:[function(e){return!!e||"Country is required"}]}},{input:"autocomplete",name:"affiliate",bind:{dense:!0,label:"Affiliate",collection:"affiliate",itemText:"name",itemValue:"_id",prependIcon:"mdi-account-network-outline"}}]}]}},fb57:function(e,t,n){"use strict";n.r(t),t["default"]={get:function(e){try{return n("9fab")("./"+e).default}catch(t){return!1}}}}}]);
//# sourceMappingURL=chunk-345751b9.65a832ed.js.map