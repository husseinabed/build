{"version":3,"sources":["webpack:///./src/views/Dashboard.vue?3d39","webpack:///./src/components/dashboard/TotalSheet.vue?0904","webpack:///src/components/dashboard/TotalSheet.vue","webpack:///./src/components/dashboard/TotalSheet.vue?95e6","webpack:///./src/components/dashboard/TotalSheet.vue","webpack:///src/views/Dashboard.vue","webpack:///./src/views/Dashboard.vue?7cef","webpack:///./src/views/Dashboard.vue","webpack:///./src/components/dashboard/TotalSheet.vue?c306"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","total","today","dps","amount","month","title","ftd","totalToday","sales","en","retention","totalMonth","on","$event","showTable","ar","lb","model","value","callback","$$v","dialog","expression","_v","_s","dialogTitle","headers","items","goTo","scopedSlots","_u","key","fn","ref","item","Intl","NumberFormat","style","currency","format","_e","staticRenderFns","color","$emit","_l","selected","items2","ind","table","name","props","String","Array","type","default","data","component","VBtn","VCol","VIcon","VRow","VSheet","VSpacer","VToolbar","VToolbarTitle","components","AppPanel","AppTotalSheet","computed","methods","filterBy","filterValue","filterCast","filterType","sortBy","sortDesc","$router","push","dialogColl","notefy","snackbarOpen","update","console","log","destroyed","io","off","VCard","VCardText","VCardTitle","VContent","VDataTable","VDialog"],"mappings":"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","file":"js/chunk-cb3362da.01af86f6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',{staticClass:\"pa-0 ma-0\"},[_c('v-row',[_c('v-col',[_c('app-panel',{attrs:{\"title\":\"Today revenue\",\"count\":_vm.total.today.dps,\"amount\":_vm.total.today.amount}})],1),_c('v-col',[_c('app-panel',{attrs:{\"title\":\"This month revenue\",\"count\":_vm.total.month.dps,\"amount\":_vm.total.month.amount}})],1)],1),_c('v-row',[_c('app-total-sheet',{attrs:{\"title\":\"English\",\"items\":[\n          \n          { \n            title: 'Sales',\n            ftd: _vm.totalToday.sales.en.ftd,\n            total: _vm.totalToday.sales.en.total,\n          },\n          \n          { \n            title: 'Retentions',\n            ftd: _vm.totalToday.retention.en.ftd,\n            total: _vm.totalToday.retention.en.total,\n\n          },\n           \n          { \n            title: 'Total today',\n            ftd: _vm.totalToday.sales.en.ftd+_vm.totalToday.retention.en.ftd,\n            total: _vm.totalToday.sales.en.total+_vm.totalToday.retention.en.total\n          },\n          { \n            title: 'Total this month',\n            ftd: _vm.totalMonth.sales.en.ftd+_vm.totalMonth.retention.en.ftd,\n            total: _vm.totalMonth.sales.en.total+_vm.totalMonth.retention.en.total\n          }\n\n        ]},on:{\"table\":function($event){return _vm.showTable($event, 'en')}}})],1),_c('v-row',[_c('app-total-sheet',{attrs:{\"title\":\"Arabic\",\"items\":[\n        { \n          title: 'Sales',\n          ftd: _vm.totalToday.sales.ar.ftd,\n          total: _vm.totalToday.sales.ar.total,\n\n        },\n        { \n          title: 'Retentions',\n          ftd: _vm.totalToday.retention.ar.ftd,\n          total: _vm.totalToday.retention.ar.total,\n\n        },\n        { \n            title: 'Total today',\n            ftd: _vm.totalToday.sales.ar.ftd+_vm.totalToday.retention.ar.ftd,\n            total: _vm.totalToday.sales.ar.total+_vm.totalToday.retention.ar.total\n        },\n        { \n          title: 'Total this month',\n          ftd: _vm.totalMonth.sales.ar.ftd+_vm.totalMonth.retention.ar.ftd,\n          total: _vm.totalMonth.sales.ar.total+_vm.totalMonth.retention.ar.total\n        }\n      ]},on:{\"table\":function($event){return _vm.showTable($event, 'ar')}}})],1),_c('v-row',[_c('app-total-sheet',{attrs:{\"title\":\"Label1\",\"items\":[\n          { \n            title: 'Sales',\n            ftd: _vm.totalToday.sales.lb.ftd,\n            total: _vm.totalToday.sales.lb.total,\n          },\n          { \n            title: 'Retentions',\n            ftd: _vm.totalToday.retention.lb.ftd,\n            total: _vm.totalToday.retention.lb.total,\n          },\n          { \n            title: 'Total today',\n            ftd: _vm.totalToday.sales.lb.ftd+_vm.totalToday.retention.lb.ftd,\n            total: _vm.totalToday.sales.lb.total+_vm.totalToday.retention.lb.total\n          },\n          { \n            title: 'Total this month',\n            ftd: _vm.totalMonth.sales.lb.ftd+_vm.totalMonth.retention.lb.ftd,\n            total: _vm.totalMonth.sales.lb.total+_vm.totalMonth.retention.lb.total\n          }\n        ]},on:{\"table\":function($event){return _vm.showTable($event, 'label1')}}})],1),_c('v-dialog',{attrs:{\"max-width\":\"950px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" \"+_vm._s(_vm.dialogTitle)+\" \"),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-card-text',[(_vm.dialog)?_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"multi-sort\":\"\"},on:{\"click:row\":_vm.goTo},scopedSlots:_vm._u([{key:\"item.amount\",fn:function(ref){\n        var item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', }).format(item.amount))+\" \")]}}],null,false,2157523568)}):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-sheet',{staticClass:\" mb-3 mx-3 \",attrs:{\"color\":_vm.color,\"width\":\"100%\"}},[_c('v-toolbar',{staticClass:\"mb-3\",attrs:{\"dense\":\"\",\"flat\":\"\",\"color\":_vm.color}},[_c('v-toolbar-title',{staticClass:\"title \"},[_vm._v(_vm._s(_vm.title))]),_c('v-spacer'),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.$emit('table', 'sale')}}},[_vm._v(\"Sales\")]),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.$emit('table', 'retention')}}},[_vm._v(\"Retentions\")])],1),_c('v-row',{staticClass:\"mx-1\"},_vm._l(((_vm.selected == 'month' ? _vm.items : _vm.items2)),function(item,ind){return _c('v-col',{key:ind,staticClass:\"mx-2 pa-0 px-2\"},[_c('fieldset',{staticClass:\"px-2 mb-2 fielset\"},[_c('legend',[_vm._v(_vm._s(item.title))]),(item.table)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$emit('table', item.table)}}},[_c('v-icon',[_vm._v(\"mdi-table-multiple\")])],1):_vm._e(),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('small',[_vm._v(\"Users\")]),_c('h2',[_vm._v(_vm._s(item.ftd || 0))])]),_c('v-col',[_c('small',[_vm._v(\"Total\")]),_c('h2',[_vm._v(_vm._s(new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', }).format(item.total || 0)))])])],1)],1)])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-sheet :color=\"color\" class=\" mb-3 mx-3 \" width=\"100%\">\r\n    <v-toolbar class=\"mb-3\" dense flat :color=\"color\">\r\n      <v-toolbar-title class=\"title \">{{title}}</v-toolbar-title>\r\n      <v-spacer></v-spacer>\r\n      <v-btn outlined class=\"mx-2\" @click=\"$emit('table', 'sale')\">Sales</v-btn>\r\n      <v-btn outlined class=\"mx-2\" @click=\"$emit('table', 'retention')\">Retentions</v-btn>\r\n    </v-toolbar>\r\n  \r\n\r\n    <v-row class=\"mx-1\">\r\n      <v-col class=\"mx-2 pa-0 px-2\" v-for=\"(item, ind) in (selected == 'month' ? items : items2)\" :key=\"ind\">\r\n         \r\n        <fieldset class=\"px-2 mb-2 fielset\">\r\n          <legend>{{ item.title }}</legend>\r\n          \r\n            <v-btn v-if=\"item.table\" icon @click=\"$emit('table', item.table)\"><v-icon>mdi-table-multiple</v-icon></v-btn>\r\n          <v-row>\r\n            <v-col cols=\"3\"><small>Users</small><h2>{{ item.ftd || 0 }}</h2></v-col>\r\n            <v-col> <small>Total</small><h2>{{ new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD',  }).format(item.total || 0)}}</h2></v-col>\r\n          </v-row>\r\n          </fieldset>\r\n      </v-col>  \r\n    </v-row>\r\n  </v-sheet>\r\n</template>\r\n<script>\r\n \r\nexport default {\r\n  name: 'TotalSheet',\r\n  props: {\r\n    title: String,\r\n    items: Array,  \r\n    items2: Array,  \r\n    color: {\r\n      type: String,\r\n      default: 'green lighten-3'\r\n    }\r\n  },\r\n  data: () => ({\r\n    selected: 'month'\r\n  }) \r\n}\r\n</script>\r\n<style   scoped>\r\n.fielset {\r\n  border: 1px solid gray;\r\n  border-radius: 5px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TotalSheet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TotalSheet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TotalSheet.vue?vue&type=template&id=28d6bca1&scoped=true&\"\nimport script from \"./TotalSheet.vue?vue&type=script&lang=js&\"\nexport * from \"./TotalSheet.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TotalSheet.vue?vue&type=style&index=0&id=28d6bca1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28d6bca1\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCol,VIcon,VRow,VSheet,VSpacer,VToolbar,VToolbarTitle})\n","<template>\r\n  <v-content class=\"pa-0 ma-0\">\r\n    <v-row>\r\n      <v-col><app-panel title=\"Today revenue\" :count=\"total.today.dps\" :amount=\"total.today.amount\" /></v-col>\r\n      <v-col><app-panel title=\"This month revenue\" :count=\"total.month.dps\" :amount=\"total.month.amount\" /></v-col>\r\n    </v-row>\r\n     <v-row>\r\n        \r\n\r\n      <app-total-sheet @table=\"showTable($event, 'en')\"   title=\"English\" :items=\"[\r\n            \r\n            { \r\n              title: 'Sales',\r\n              ftd: totalToday.sales.en.ftd,\r\n              total: totalToday.sales.en.total,\r\n            },\r\n            \r\n            { \r\n              title: 'Retentions',\r\n              ftd: totalToday.retention.en.ftd,\r\n              total: totalToday.retention.en.total,\r\n\r\n            },\r\n             \r\n            { \r\n              title: 'Total today',\r\n              ftd: totalToday.sales.en.ftd+totalToday.retention.en.ftd,\r\n              total: totalToday.sales.en.total+totalToday.retention.en.total\r\n            },\r\n            { \r\n              title: 'Total this month',\r\n              ftd: totalMonth.sales.en.ftd+totalMonth.retention.en.ftd,\r\n              total: totalMonth.sales.en.total+totalMonth.retention.en.total\r\n            }\r\n\r\n          ]\"  ></app-total-sheet>\r\n           \r\n    </v-row>\r\n    <v-row>\r\n      <app-total-sheet  @table=\"showTable($event, 'ar')\"  \r\n        title=\"Arabic\" :items=\"[\r\n          { \r\n            title: 'Sales',\r\n            ftd: totalToday.sales.ar.ftd,\r\n            total: totalToday.sales.ar.total,\r\n\r\n          },\r\n          { \r\n            title: 'Retentions',\r\n            ftd: totalToday.retention.ar.ftd,\r\n            total: totalToday.retention.ar.total,\r\n\r\n          },\r\n          { \r\n              title: 'Total today',\r\n              ftd: totalToday.sales.ar.ftd+totalToday.retention.ar.ftd,\r\n              total: totalToday.sales.ar.total+totalToday.retention.ar.total\r\n          },\r\n          { \r\n            title: 'Total this month',\r\n            ftd: totalMonth.sales.ar.ftd+totalMonth.retention.ar.ftd,\r\n            total: totalMonth.sales.ar.total+totalMonth.retention.ar.total\r\n          }\r\n        ]\"\r\n      ></app-total-sheet>\r\n    </v-row>\r\n    <v-row>\r\n      <app-total-sheet  @table=\"showTable($event, 'label1')\" title=\"Label1\" :items=\"[\r\n            { \r\n              title: 'Sales',\r\n              ftd: totalToday.sales.lb.ftd,\r\n              total: totalToday.sales.lb.total,\r\n            },\r\n            { \r\n              title: 'Retentions',\r\n              ftd: totalToday.retention.lb.ftd,\r\n              total: totalToday.retention.lb.total,\r\n            },\r\n            { \r\n              title: 'Total today',\r\n              ftd: totalToday.sales.lb.ftd+totalToday.retention.lb.ftd,\r\n              total: totalToday.sales.lb.total+totalToday.retention.lb.total\r\n            },\r\n            { \r\n              title: 'Total this month',\r\n              ftd: totalMonth.sales.lb.ftd+totalMonth.retention.lb.ftd,\r\n              total: totalMonth.sales.lb.total+totalMonth.retention.lb.total\r\n            }\r\n          ]\" ></app-total-sheet>\r\n    </v-row>\r\n     <v-dialog v-model=\"dialog\" max-width=\"950px\"  >\r\n       <v-card>\r\n        <v-card-title>\r\n           {{dialogTitle}}\r\n           <v-spacer></v-spacer>\r\n      \r\n           <v-btn icon @click=\"dialog = false\"><v-icon>mdi-close</v-icon></v-btn>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          \r\n               <v-data-table  v-if=\"dialog\"\r\n                  :headers=\"headers\"\r\n                  :items=\"items\"\r\n                  multi-sort\r\n                  class=\"elevation-1\"\r\n                  @click:row=\"goTo\"\r\n                >\r\n                \r\n                <template v-slot:item.amount=\"{ item }\" >\r\n                  {{  new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD',  }).format(item.amount) }}\r\n                </template>\r\n                </v-data-table>\r\n \r\n         </v-card-text>\r\n       </v-card>\r\n     </v-dialog>\r\n  </v-content>\r\n</template>\r\n\r\n<script>\r\nimport AppPanel from './../components/dashboard/Panel'\r\nimport AppTotalSheet from './../components/dashboard/TotalSheet'\r\nimport { mapActions, mapState } from 'vuex'\r\nimport $ from 'jquery' \r\n\r\n// import VDateCalendar from 'v-calendar/lib/components/date-picker.umd';\r\nconst d = new Date()\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  components: {\r\n    AppPanel,\r\n    AppTotalSheet,\r\n    // VDateCalendar\r\n  },\r\n  data: () => ({\r\n    range:{\r\n      start:  new Date(d.getFullYear(), d.getMonth(), 1), \r\n      end: new Date()\r\n    },\r\n    dialog: false,\r\n    dialogTitle: '',\r\n    dialogColl: 'sale',\r\n    tab: 0,\r\n    bu: 'en',\r\n    items: [],\r\n    headers: [\r\n        {\r\n            text: 'Created By',\r\n            align: 'start',\r\n            value: '_id.displayName',\r\n        },\r\n        { text: 'Deals', value: 'count' },\r\n        { text: 'Amount', value: 'amount' },\r\n    ],\r\n   \r\n    totalMonth: {\r\n        sales: {\r\n          en: { ftd: 0, total: 0 },\r\n          ar: { ftd: 0, total: 0 },\r\n          lb: { ftd: 0, total: 0 }\r\n        },\r\n        retention: {\r\n          en: { ftd: 0, total: 0 },\r\n          ar: { ftd: 0, total: 0 },\r\n          lb: { ftd: 0, total: 0 }\r\n        }\r\n    },\r\n    totalToday: {\r\n        sales: {\r\n          en: { ftd: 0, total: 0 },\r\n          ar: { ftd: 0, total: 0 },\r\n          lb: { ftd: 0, total: 0 }\r\n        },\r\n        retention: {\r\n          en: { ftd: 0, total: 0 },\r\n          ar: { ftd: 0, total: 0 },\r\n          lb: { ftd: 0, total: 0 }\r\n        }\r\n    },\r\n    total: {\r\n      today: {\r\n        dps: 0,\r\n        amount: 0\r\n      },\r\n      month: {\r\n        dps: 0,\r\n        amount: 0\r\n      }\r\n    }\r\n  }),\r\n \r\n  computed: {\r\n    ...mapState({\r\n      io: state => state.api.io\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      get: 'api/get',\r\n      snackbarOpen: 'snackbar/open',\r\n    }),\r\n    goTo (item) {\r\n      let today = new Date();\r\n      const first_day_of_the_month = new Date(today.getFullYear(), today.getMonth(), 1)\r\n      const query = {\r\n        filterBy: [ 'user', 'business_unit', 'created_on' ],\r\n        filterValue:[item._id._id, this.bu, first_day_of_the_month],\r\n        filterCast:['id', 'normal', 'date'],\r\n        filterType:['normal', 'normal', 'gte'],\r\n        sortBy: ['created_on'],\r\n        sortDesc: [false]\r\n      }\r\n      this.$router.push('/' + this.dialogColl + '?' + $.param(query))\r\n    },\r\n    async showTable (collection, bu) {\r\n      this.dialogColl = collection\r\n      this.bu = bu\r\n      switch (bu) {\r\n        case 'ar':\r\n          this.dialogTitle = 'Arabic ' + collection\r\n          break;\r\n        case 'label1':\r\n          this.dialogTitle = 'Label1 ' + collection\r\n          break;\r\n        default:\r\n          this.dialogTitle = 'English ' + collection\r\n          break;\r\n      }\r\n\r\n\r\n      this.dialog = true\r\n      const  { data } = await this.get({ collection: 'dashboard/table', query: {\r\n          collection,\r\n          business_unit: bu\r\n        } }) \r\n      console.log(typeof data);\r\n      this.items = data\r\n \r\n    },\r\n    async update () {\r\n      let today = new Date();\r\n      today.setHours(0, 0, 0, 0);\r\n \r\n      const atodayTotal = await this.get({ collection: 'dashboard/total', query:{\r\n        query: { 'created_on': { type: 'gte', value: today.getTime(), cast: 'date' } }\r\n      } }) \r\n      if (atodayTotal && atodayTotal.data[0]) {\r\n        this.total.today.dps = atodayTotal.data[0].count\r\n        this.total.today.amount = atodayTotal.data[0].amount\r\n      }\r\n\r\n      const to_date = new Date()\r\n      const from_date = new Date(to_date.getFullYear(), to_date.getMonth(), 1)\r\n\r\n      const amonthTotal = await this.get({ collection: 'dashboard/total', query:{\r\n        query: { 'created_on': { type: 'gte', value: from_date.getTime(), cast: 'date' } }\r\n      } }) \r\n      \r\n      if (amonthTotal && amonthTotal.data[0]) {\r\n        this.total.month.dps = amonthTotal.data[0].count\r\n        this.total.month.amount = amonthTotal.data[0].amount\r\n      }\r\n\r\n     \r\n      \r\n\r\n      \r\n      const monthTotal = await this.get({ collection: 'dashboard/month' }) \r\n      const todayTotal = await this.get({ collection: 'dashboard/today' }) \r\n      if (monthTotal && monthTotal.status == 200) {\r\n        this.total.month.ftd = (monthTotal.data.rtsAll[0] ? monthTotal.data.rtsAll[0].count :  0) + (monthTotal.data.salesAll[0] ? monthTotal.data.salesAll[0].count :  0)\r\n        this.total.month.amount = (monthTotal.data.rtsAll[0] ? monthTotal.data.rtsAll[0].amount :  0) + (monthTotal.data.salesAll[0] ? monthTotal.data.salesAll[0].amount :  0)\r\n        monthTotal.data.sales.forEach(e => {\r\n          this.totalMonth.sales[e._id].ftd = e.count \r\n          this.totalMonth.sales[e._id].total = e.amount \r\n        })\r\n        monthTotal.data.rts.forEach(e => {\r\n          this.totalMonth.retention[e._id].ftd = e.count \r\n          this.totalMonth.retention[e._id].total = e.amount \r\n        })\r\n      \r\n      }\r\n      if (todayTotal && todayTotal.status == 200) {\r\n        this.total.today.ftd = (todayTotal.data.rtsAll[0] ? todayTotal.data.rtsAll[0].count :  0) + (todayTotal.data.salesAll[0] ? todayTotal.data.salesAll[0].count :  0)\r\n        this.total.today.amount = (todayTotal.data.rtsAll[0] ? todayTotal.data.rtsAll[0].amount :  0) + (todayTotal.data.salesAll[0] ? todayTotal.data.salesAll[0].amount :  0)\r\n        \r\n        todayTotal.data.sales.forEach(e => {\r\n          this.totalToday.sales[e._id].ftd = e.count \r\n          this.totalToday.sales[e._id].total = e.amount \r\n        })\r\n        todayTotal.data.rts.forEach(e => {\r\n          this.totalToday.retention[e._id].ftd = e.count \r\n          this.totalToday.retention[e._id].total = e.amount \r\n        })\r\n      }\r\n    },\r\n    notefy (data) {\r\n      switch (data.type) {\r\n        case 'new_sale':\r\n          this.snackbarOpen([`New (${new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD',  }).format(data.amount)}) Sale has been made by ${ data.user }`, 'white black--text', 'right', 'bottom'])\r\n          this.update()\r\n          break;\r\n      \r\n        default:\r\n          break;\r\n      }\r\n      console.log(data);\r\n    }\r\n  \r\n  \r\n  \r\n  },\r\n\r\n  async created () {\r\n    this.update()\r\n    this.io.on('notefy', this.notefy)\r\n  \r\n  },\r\n  destroyed () {\r\n    this.io.off('notefy', this.notefy)\r\n  }\r\n}\r\n\r\n \r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=1629639f&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VContent,VDataTable,VDialog,VIcon,VRow,VSpacer})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TotalSheet.vue?vue&type=style&index=0&id=28d6bca1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TotalSheet.vue?vue&type=style&index=0&id=28d6bca1&scoped=true&lang=css&\""],"sourceRoot":""}